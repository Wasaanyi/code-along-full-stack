<!DOCTYPE html><html><head><meta charset="utf-8"><title>code.html</title><style>@charset "UTF-8";@import 'https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-alpha2/katex.min.css';code{color:#c7254e;background-color:#f9f2f4;border-radius:4px}code,kbd{padding:2px 4px}kbd{color:#fff;background-color:#333;border-radius:3px;box-shadow:inset 0 -1px 0 rgba(0,0,0,.25)}kbd kbd{padding:0;font-size:100%;box-shadow:none}pre{display:block;margin:0 0 10px;word-break:break-all;word-wrap:break-word;color:#333;background-color:#f5f5f5;border:1px solid #ccc;border-radius:4px}pre code{padding:0;font-size:inherit;color:inherit;white-space:pre-wrap;background-color:transparent;border-radius:0}.pre-scrollable{max-height:340px;overflow-y:scroll}table{background-color:transparent}th{text-align:left}.table{width:100%;max-width:100%;margin-bottom:20px}.table>thead>tr>th{padding:8px;line-height:1.4285714;border-top:1px solid #ddd}.table>thead>tr>td,.table>tbody>tr>th,.table>tbody>tr>td,.table>tfoot>tr>th,.table>tfoot>tr>td{padding:8px;line-height:1.4285714;vertical-align:top;border-top:1px solid #ddd}.table>thead>tr>th{vertical-align:bottom;border-bottom:2px solid #ddd}.table>caption+thead>tr:first-child>th,.table>caption+thead>tr:first-child>td,.table>colgroup+thead>tr:first-child>th,.table>colgroup+thead>tr:first-child>td,.table>thead:first-child>tr:first-child>th,.table>thead:first-child>tr:first-child>td{border-top:0}.table>tbody+tbody{border-top:2px solid #ddd}.table .table{background-color:#fff}.table-condensed>thead>tr>th,.table-condensed>thead>tr>td,.table-condensed>tbody>tr>th,.table-condensed>tbody>tr>td,.table-condensed>tfoot>tr>th,.table-condensed>tfoot>tr>td{padding:5px}.table-bordered,.table-bordered>thead>tr>th,.table-bordered>thead>tr>td,.table-bordered>tbody>tr>th,.table-bordered>tbody>tr>td,.table-bordered>tfoot>tr>th,.table-bordered>tfoot>tr>td{border:1px solid #ddd}.table-bordered>thead>tr>th,.table-bordered>thead>tr>td{border-bottom-width:2px}.table-striped>tbody>tr:nth-child(odd)>td,.table-striped>tbody>tr:nth-child(odd)>th{background-color:#f9f9f9}.table-hover>tbody>tr:hover>td,.table-hover>tbody>tr:hover>th{background-color:#f5f5f5}table col[class*="col-"]{position:static;float:none;display:table-column}table td[class*="col-"],table th[class*="col-"]{position:static;float:none;display:table-cell}.table>thead>tr>td.active,.table>thead>tr>th.active,.table>thead>tr.active>td,.table>thead>tr.active>th,.table>tbody>tr>td.active,.table>tbody>tr>th.active,.table>tbody>tr.active>td,.table>tbody>tr.active>th,.table>tfoot>tr>td.active,.table>tfoot>tr>th.active,.table>tfoot>tr.active>td,.table>tfoot>tr.active>th{background-color:#f5f5f5}.table-hover>tbody>tr>td.active:hover,.table-hover>tbody>tr>th.active:hover,.table-hover>tbody>tr.active:hover>td,.table-hover>tbody>tr:hover>.active,.table-hover>tbody>tr.active:hover>th{background-color:#e8e8e8}.table>thead>tr>td.success,.table>thead>tr>th.success,.table>thead>tr.success>td,.table>thead>tr.success>th,.table>tbody>tr>td.success,.table>tbody>tr>th.success,.table>tbody>tr.success>td,.table>tbody>tr.success>th,.table>tfoot>tr>td.success,.table>tfoot>tr>th.success,.table>tfoot>tr.success>td,.table>tfoot>tr.success>th{background-color:#dff0d8}.table-hover>tbody>tr>td.success:hover,.table-hover>tbody>tr>th.success:hover,.table-hover>tbody>tr.success:hover>td,.table-hover>tbody>tr:hover>.success,.table-hover>tbody>tr.success:hover>th{background-color:#d0e9c6}.table>thead>tr>td.info,.table>thead>tr>th.info,.table>thead>tr.info>td,.table>thead>tr.info>th,.table>tbody>tr>td.info,.table>tbody>tr>th.info,.table>tbody>tr.info>td,.table>tbody>tr.info>th,.table>tfoot>tr>td.info,.table>tfoot>tr>th.info,.table>tfoot>tr.info>td,.table>tfoot>tr.info>th{background-color:#d9edf7}.table-hover>tbody>tr>td.info:hover,.table-hover>tbody>tr>th.info:hover,.table-hover>tbody>tr.info:hover>td,.table-hover>tbody>tr:hover>.info,.table-hover>tbody>tr.info:hover>th{background-color:#c4e3f3}.table>thead>tr>td.warning,.table>thead>tr>th.warning,.table>thead>tr.warning>td,.table>thead>tr.warning>th,.table>tbody>tr>td.warning,.table>tbody>tr>th.warning,.table>tbody>tr.warning>td,.table>tbody>tr.warning>th,.table>tfoot>tr>td.warning,.table>tfoot>tr>th.warning,.table>tfoot>tr.warning>td,.table>tfoot>tr.warning>th{background-color:#fcf8e3}.table-hover>tbody>tr>td.warning:hover,.table-hover>tbody>tr>th.warning:hover,.table-hover>tbody>tr.warning:hover>td,.table-hover>tbody>tr:hover>.warning,.table-hover>tbody>tr.warning:hover>th{background-color:#faf2cc}.table>thead>tr>td.danger,.table>thead>tr>th.danger,.table>thead>tr.danger>td,.table>thead>tr.danger>th,.table>tbody>tr>td.danger,.table>tbody>tr>th.danger,.table>tbody>tr.danger>td,.table>tbody>tr.danger>th,.table>tfoot>tr>td.danger,.table>tfoot>tr>th.danger,.table>tfoot>tr.danger>td,.table>tfoot>tr.danger>th{background-color:#f2dede}.table-hover>tbody>tr>td.danger:hover,.table-hover>tbody>tr>th.danger:hover,.table-hover>tbody>tr.danger:hover>td,.table-hover>tbody>tr:hover>.danger,.table-hover>tbody>tr.danger:hover>th{background-color:#ebcccc}fieldset{border:0;min-width:0}legend{display:block;width:100%;margin-bottom:20px;font-size:21px;line-height:inherit;color:#333;border-bottom:1px solid #e5e5e5}label{display:inline-block;max-width:100%;margin-bottom:5px;font-weight:700}input[type="radio"],input[type="checkbox"]{margin:4px 0 0;margin-top:1px \9;line-height:normal}input[type="file"]{display:block}input[type="range"]{display:block;width:100%}select[multiple],select[size]{height:auto}input[type="file"]:focus,input[type="radio"]:focus,input[type="checkbox"]:focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}output{padding-top:7px}output,.form-control{display:block;font-size:14px;line-height:1.4285714;color:#555}.form-control{width:100%;height:34px;padding:6px 12px;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;box-shadow:inset 0 1px 1px rgba(0,0,0,.075);transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s}.form-control:focus{border-color:#66afe9;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.form-control::-moz-placeholder{color:#777;opacity:1}.form-control:-ms-input-placeholder{color:#777}.form-control::-webkit-input-placeholder{color:#777}.form-control[disabled],.form-control[readonly],fieldset[disabled] .form-control{cursor:not-allowed;background-color:#eee;opacity:1}textarea.form-control{height:auto}input[type="date"],input[type="time"],input[type="datetime-local"],input[type="month"]{line-height:34px;line-height:1.4285714 \0}input[type="date"].input-sm,.form-horizontal .form-group-sm input.form-control[type="date"],.input-group-sm>input.form-control[type="date"],.input-group-sm>input.input-group-addon[type="date"],.input-group-sm>.input-group-btn>input.btn[type="date"],input[type="time"].input-sm,.form-horizontal .form-group-sm input.form-control[type="time"],.input-group-sm>input.form-control[type="time"],.input-group-sm>input.input-group-addon[type="time"],.input-group-sm>.input-group-btn>input.btn[type="time"],input[type="datetime-local"].input-sm,.form-horizontal .form-group-sm input.form-control[type="datetime-local"],.input-group-sm>input.form-control[type="datetime-local"],.input-group-sm>input.input-group-addon[type="datetime-local"],.input-group-sm>.input-group-btn>input.btn[type="datetime-local"],input[type="month"].input-sm,.form-horizontal .form-group-sm input.form-control[type="month"],.input-group-sm>input.form-control[type="month"],.input-group-sm>input.input-group-addon[type="month"],.input-group-sm>.input-group-btn>input.btn[type="month"]{line-height:30px}input[type="date"].input-lg,.form-horizontal .form-group-lg input.form-control[type="date"],.input-group-lg>input.form-control[type="date"],.input-group-lg>input.input-group-addon[type="date"],.input-group-lg>.input-group-btn>input.btn[type="date"],input[type="time"].input-lg,.form-horizontal .form-group-lg input.form-control[type="time"],.input-group-lg>input.form-control[type="time"],.input-group-lg>input.input-group-addon[type="time"],.input-group-lg>.input-group-btn>input.btn[type="time"],input[type="datetime-local"].input-lg,.form-horizontal .form-group-lg input.form-control[type="datetime-local"],.input-group-lg>input.form-control[type="datetime-local"],.input-group-lg>input.input-group-addon[type="datetime-local"],.input-group-lg>.input-group-btn>input.btn[type="datetime-local"],input[type="month"].input-lg,.form-horizontal .form-group-lg input.form-control[type="month"],.input-group-lg>input.form-control[type="month"],.input-group-lg>input.input-group-addon[type="month"],.input-group-lg>.input-group-btn>input.btn[type="month"]{line-height:46px}.form-group{margin-bottom:15px}.radio,.checkbox{position:relative;display:block;min-height:20px;margin-top:10px;margin-bottom:10px}.radio label,.checkbox label{padding-left:20px;margin-bottom:0;font-weight:400;cursor:pointer}.radio input[type="radio"],.radio-inline input[type="radio"],.checkbox input[type="checkbox"],.checkbox-inline input[type="checkbox"]{position:absolute;margin-left:-20px;margin-top:4px \9}.radio+.radio,.checkbox+.checkbox{margin-top:-5px}.radio-inline,.checkbox-inline{display:inline-block;padding-left:20px;margin-bottom:0;vertical-align:middle;font-weight:400;cursor:pointer}.radio-inline+.radio-inline,.checkbox-inline+.checkbox-inline{margin-top:0;margin-left:10px}input[type="radio"][disabled],input[type="radio"].disabled,fieldset[disabled] input[type="radio"],input[type="checkbox"][disabled],input[type="checkbox"].disabled,fieldset[disabled] input[type="checkbox"],.radio-inline.disabled,fieldset[disabled] .radio-inline,.checkbox-inline.disabled,fieldset[disabled] .checkbox-inline,.radio.disabled label,fieldset[disabled] .radio label,.checkbox.disabled label,fieldset[disabled] .checkbox label{cursor:not-allowed}.form-control-static{padding-top:7px;padding-bottom:7px;margin-bottom:0}.form-control-static.input-lg,.form-horizontal .form-group-lg .form-control-static.form-control,.input-group-lg>.form-control-static.form-control,.input-group-lg>.form-control-static.input-group-addon,.input-group-lg>.input-group-btn>.form-control-static.btn,.form-control-static.input-sm,.form-horizontal .form-group-sm .form-control-static.form-control,.input-group-sm>.form-control-static.form-control,.input-group-sm>.form-control-static.input-group-addon,.input-group-sm>.input-group-btn>.form-control-static.btn{padding-left:0;padding-right:0}.input-sm,.form-horizontal .form-group-sm .form-control,.input-group-sm>.form-control{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}.input-group-sm>.input-group-addon{height:30px;line-height:1.5}.input-group-sm>.input-group-btn>.btn{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}select.input-sm,.form-horizontal .form-group-sm select.form-control,.input-group-sm>select.form-control,.input-group-sm>select.input-group-addon,.input-group-sm>.input-group-btn>select.btn{height:30px;line-height:30px}textarea.input-sm,.form-horizontal .form-group-sm textarea.form-control,.input-group-sm>textarea.form-control,.input-group-sm>textarea.input-group-addon,.input-group-sm>.input-group-btn>textarea.btn,select[multiple].input-sm,.form-horizontal .form-group-sm select.form-control[multiple],.input-group-sm>select.form-control[multiple],.input-group-sm>select.input-group-addon[multiple],.input-group-sm>.input-group-btn>select.btn[multiple]{height:auto}.input-lg,.form-horizontal .form-group-lg .form-control,.input-group-lg>.form-control{height:46px;padding:10px 16px;font-size:18px;line-height:1.33;border-radius:6px}.input-group-lg>.input-group-addon{height:46px;line-height:1.33}.input-group-lg>.input-group-btn>.btn{height:46px;padding:10px 16px;font-size:18px;line-height:1.33;border-radius:6px}select.input-lg,.form-horizontal .form-group-lg select.form-control,.input-group-lg>select.form-control,.input-group-lg>select.input-group-addon,.input-group-lg>.input-group-btn>select.btn{height:46px;line-height:46px}textarea.input-lg,.form-horizontal .form-group-lg textarea.form-control,.input-group-lg>textarea.form-control,.input-group-lg>textarea.input-group-addon,.input-group-lg>.input-group-btn>textarea.btn,select[multiple].input-lg,.form-horizontal .form-group-lg select.form-control[multiple],.input-group-lg>select.form-control[multiple],.input-group-lg>select.input-group-addon[multiple],.input-group-lg>.input-group-btn>select.btn[multiple]{height:auto}.has-feedback{position:relative}.has-feedback .form-control{padding-right:42.5px}.form-control-feedback{position:absolute;top:25px;right:0;z-index:2;display:block;width:34px;height:34px;line-height:34px;text-align:center}.input-lg+.form-control-feedback,.form-horizontal .form-group-lg .form-control+.form-control-feedback,.input-group-lg>.form-control+.form-control-feedback,.input-group-lg>.input-group-addon+.form-control-feedback,.input-group-lg>.input-group-btn>.btn+.form-control-feedback{width:46px;height:46px;line-height:46px}.input-sm+.form-control-feedback,.form-horizontal .form-group-sm .form-control+.form-control-feedback,.input-group-sm>.form-control+.form-control-feedback,.input-group-sm>.input-group-addon+.form-control-feedback,.input-group-sm>.input-group-btn>.btn+.form-control-feedback{width:30px;height:30px;line-height:30px}.has-success .help-block,.has-success .control-label,.has-success .radio,.has-success .checkbox,.has-success .radio-inline,.has-success .checkbox-inline{color:#3c763d}.has-success .form-control{border-color:#3c763d;box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-success .form-control:focus{border-color:#2b542c;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #67b168}.has-success .input-group-addon{color:#3c763d;border-color:#3c763d;background-color:#dff0d8}.has-success .form-control-feedback{color:#3c763d}.has-warning .help-block,.has-warning .control-label,.has-warning .radio,.has-warning .checkbox,.has-warning .radio-inline,.has-warning .checkbox-inline{color:#8a6d3b}.has-warning .form-control{border-color:#8a6d3b;box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-warning .form-control:focus{border-color:#66512c;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #c0a16b}.has-warning .input-group-addon{color:#8a6d3b;border-color:#8a6d3b;background-color:#fcf8e3}.has-warning .form-control-feedback{color:#8a6d3b}.has-error .help-block,.has-error .control-label,.has-error .radio,.has-error .checkbox,.has-error .radio-inline,.has-error .checkbox-inline{color:#a94442}.has-error .form-control{border-color:#a94442;box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-error .form-control:focus{border-color:#843534;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #ce8483}.has-error .input-group-addon{color:#a94442;border-color:#a94442;background-color:#f2dede}.has-error .form-control-feedback{color:#a94442}.has-feedback label.sr-only~.form-control-feedback{top:0}.help-block{display:block;margin-top:5px;margin-bottom:10px;color:#737373}.form-horizontal .radio,.form-horizontal .checkbox,.form-horizontal .radio-inline,.form-horizontal .checkbox-inline{margin-top:0;margin-bottom:0;padding-top:7px}.form-horizontal .radio,.form-horizontal .checkbox{min-height:27px}.form-horizontal .form-group{margin-left:-15px;margin-right:-15px}.form-horizontal .form-group:before{content:" ";display:table}.form-horizontal .form-group:after{content:" ";display:table;clear:both}.form-horizontal .has-feedback .form-control-feedback{top:0;right:15px}.btn{display:inline-block;vertical-align:middle;cursor:pointer;background-image:none;border:1px solid transparent;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.btn:focus,.btn:active:focus,.btn.active:focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.btn:hover,.btn:focus{color:#333;text-decoration:none}.btn:active,.btn.active{outline:0;background-image:none;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn.disabled,.btn[disabled],fieldset[disabled] .btn{cursor:not-allowed;pointer-events:none;opacity:.65;filter:alpha(opacity=65);box-shadow:none}.btn-default{color:#333;background-color:#fff;border-color:#ccc}.btn-default:hover,.btn-default:focus,.btn-default:active,.btn-default.active,.open>.btn-default.dropdown-toggle{color:#333;background-color:#e6e6e6;border-color:#adadad}.btn-default:active,.btn-default.active,.open>.btn-default.dropdown-toggle{background-image:none}.btn-default.disabled,.btn-default.disabled:hover,.btn-default.disabled:focus,.btn-default.disabled:active,.btn-default.disabled.active,.btn-default[disabled],.btn-default[disabled]:hover,.btn-default[disabled]:focus,.btn-default[disabled]:active,.btn-default[disabled].active,fieldset[disabled] .btn-default,fieldset[disabled] .btn-default:hover,fieldset[disabled] .btn-default:focus,fieldset[disabled] .btn-default:active,fieldset[disabled] .btn-default.active{background-color:#fff;border-color:#ccc}.btn-default .badge{color:#fff;background-color:#333}.btn-primary{color:#fff;background-color:#428bca;border-color:#357ebd}.btn-primary:hover,.btn-primary:focus,.btn-primary:active,.btn-primary.active,.open>.btn-primary.dropdown-toggle{color:#fff;background-color:#3071a9;border-color:#285e8e}.btn-primary:active,.btn-primary.active,.open>.btn-primary.dropdown-toggle{background-image:none}.btn-primary.disabled,.btn-primary.disabled:hover,.btn-primary.disabled:focus,.btn-primary.disabled:active,.btn-primary.disabled.active,.btn-primary[disabled],.btn-primary[disabled]:hover,.btn-primary[disabled]:focus,.btn-primary[disabled]:active,.btn-primary[disabled].active,fieldset[disabled] .btn-primary,fieldset[disabled] .btn-primary:hover,fieldset[disabled] .btn-primary:focus,fieldset[disabled] .btn-primary:active,fieldset[disabled] .btn-primary.active{background-color:#428bca;border-color:#357ebd}.btn-primary .badge{color:#428bca;background-color:#fff}.btn-success{color:#fff;background-color:#5cb85c;border-color:#4cae4c}.btn-success:hover,.btn-success:focus,.btn-success:active,.btn-success.active,.open>.btn-success.dropdown-toggle{color:#fff;background-color:#449d44;border-color:#398439}.btn-success:active,.btn-success.active,.open>.btn-success.dropdown-toggle{background-image:none}.btn-success.disabled,.btn-success.disabled:hover,.btn-success.disabled:focus,.btn-success.disabled:active,.btn-success.disabled.active,.btn-success[disabled],.btn-success[disabled]:hover,.btn-success[disabled]:focus,.btn-success[disabled]:active,.btn-success[disabled].active,fieldset[disabled] .btn-success,fieldset[disabled] .btn-success:hover,fieldset[disabled] .btn-success:focus,fieldset[disabled] .btn-success:active,fieldset[disabled] .btn-success.active{background-color:#5cb85c;border-color:#4cae4c}.btn-success .badge{color:#5cb85c;background-color:#fff}.btn-info{color:#fff;background-color:#5bc0de;border-color:#46b8da}.btn-info:hover,.btn-info:focus,.btn-info:active,.btn-info.active,.open>.btn-info.dropdown-toggle{color:#fff;background-color:#31b0d5;border-color:#269abc}.btn-info:active,.btn-info.active,.open>.btn-info.dropdown-toggle{background-image:none}.btn-info.disabled,.btn-info.disabled:hover,.btn-info.disabled:focus,.btn-info.disabled:active,.btn-info.disabled.active,.btn-info[disabled],.btn-info[disabled]:hover,.btn-info[disabled]:focus,.btn-info[disabled]:active,.btn-info[disabled].active,fieldset[disabled] .btn-info,fieldset[disabled] .btn-info:hover,fieldset[disabled] .btn-info:focus,fieldset[disabled] .btn-info:active,fieldset[disabled] .btn-info.active{background-color:#5bc0de;border-color:#46b8da}.btn-info .badge{color:#5bc0de;background-color:#fff}.btn-warning{color:#fff;background-color:#f0ad4e;border-color:#eea236}.btn-warning:hover,.btn-warning:focus,.btn-warning:active,.btn-warning.active,.open>.btn-warning.dropdown-toggle{color:#fff;background-color:#ec971f;border-color:#d58512}.btn-warning:active,.btn-warning.active,.open>.btn-warning.dropdown-toggle{background-image:none}.btn-warning.disabled,.btn-warning.disabled:hover,.btn-warning.disabled:focus,.btn-warning.disabled:active,.btn-warning.disabled.active,.btn-warning[disabled],.btn-warning[disabled]:hover,.btn-warning[disabled]:focus,.btn-warning[disabled]:active,.btn-warning[disabled].active,fieldset[disabled] .btn-warning,fieldset[disabled] .btn-warning:hover,fieldset[disabled] .btn-warning:focus,fieldset[disabled] .btn-warning:active,fieldset[disabled] .btn-warning.active{background-color:#f0ad4e;border-color:#eea236}.btn-warning .badge{color:#f0ad4e;background-color:#fff}.btn-danger{color:#fff;background-color:#d9534f;border-color:#d43f3a}.btn-danger:hover,.btn-danger:focus,.btn-danger:active,.btn-danger.active,.open>.btn-danger.dropdown-toggle{color:#fff;background-color:#c9302c;border-color:#ac2925}.btn-danger:active,.btn-danger.active,.open>.btn-danger.dropdown-toggle{background-image:none}.btn-danger.disabled,.btn-danger.disabled:hover,.btn-danger.disabled:focus,.btn-danger.disabled:active,.btn-danger.disabled.active,.btn-danger[disabled],.btn-danger[disabled]:hover,.btn-danger[disabled]:focus,.btn-danger[disabled]:active,.btn-danger[disabled].active,fieldset[disabled] .btn-danger,fieldset[disabled] .btn-danger:hover,fieldset[disabled] .btn-danger:focus,fieldset[disabled] .btn-danger:active,fieldset[disabled] .btn-danger.active{background-color:#d9534f;border-color:#d43f3a}.btn-danger .badge{color:#d9534f;background-color:#fff}.btn-link{color:#428bca;font-weight:400;cursor:pointer;border-radius:0}.btn-link,.btn-link:active,.btn-link[disabled],fieldset[disabled] .btn-link{background-color:transparent;box-shadow:none}.btn-link,.btn-link:hover,.btn-link:focus,.btn-link:active{border-color:transparent}.btn-link:hover,.btn-link:focus{color:#2a6496;text-decoration:underline;background-color:transparent}.btn-link[disabled]:hover,.btn-link[disabled]:focus,fieldset[disabled] .btn-link:hover,fieldset[disabled] .btn-link:focus{color:#777;text-decoration:none}.btn-lg{padding:10px 16px;font-size:18px;line-height:1.33;border-radius:6px}.btn-sm{padding:5px 10px}.btn-sm,.btn-xs{font-size:12px;line-height:1.5;border-radius:3px}.btn-xs{padding:1px 5px}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:5px}input[type="submit"].btn-block,input[type="reset"].btn-block,input[type="button"].btn-block{width:100%}.fade{opacity:0;transition:opacity .15s linear}.fade.in{opacity:1}.collapse{display:none}.collapse.in{display:block}tr.collapse.in{display:table-row}tbody.collapse.in{display:table-row-group}.collapsing{position:relative;height:0;overflow:hidden;transition:height .35s ease}.input-group{position:relative;display:table;border-collapse:separate}.input-group[class*="col-"]{float:none;padding-left:0;padding-right:0}.input-group .form-control{position:relative;z-index:2;float:left;width:100%;margin-bottom:0}.input-group-addon,.input-group-btn,.input-group .form-control{display:table-cell}.input-group-addon:not(:first-child):not(:last-child),.input-group-btn:not(:first-child):not(:last-child),.input-group .form-control:not(:first-child):not(:last-child){border-radius:0}.input-group-addon{white-space:nowrap}.input-group-addon,.input-group-btn{width:1%;vertical-align:middle}.input-group-addon{padding:6px 12px;font-size:14px;font-weight:400;line-height:1;color:#555;text-align:center;background-color:#eee;border:1px solid #ccc;border-radius:4px}.input-group-addon.input-sm,.form-horizontal .form-group-sm .input-group-addon.form-control,.input-group-sm>.input-group-addon,.input-group-sm>.input-group-btn>.input-group-addon.btn{padding:5px 10px;font-size:12px;border-radius:3px}.input-group-addon.input-lg,.form-horizontal .form-group-lg .input-group-addon.form-control,.input-group-lg>.input-group-addon,.input-group-lg>.input-group-btn>.input-group-addon.btn{padding:10px 16px;font-size:18px;border-radius:6px}.input-group-addon input[type="radio"],.input-group-addon input[type="checkbox"]{margin-top:0}.input-group .form-control:first-child,.input-group-addon:first-child,.input-group-btn:first-child>.btn,.input-group-btn:first-child>.btn-group>.btn,.input-group-btn:first-child>.dropdown-toggle,.input-group-btn:last-child>.btn:not(:last-child):not(.dropdown-toggle),.input-group-btn:last-child>.btn-group:not(:last-child)>.btn{border-bottom-right-radius:0;border-top-right-radius:0}.input-group-addon:first-child{border-right:0}.input-group .form-control:last-child,.input-group-addon:last-child,.input-group-btn:last-child>.btn,.input-group-btn:last-child>.btn-group>.btn,.input-group-btn:last-child>.dropdown-toggle,.input-group-btn:first-child>.btn:not(:first-child),.input-group-btn:first-child>.btn-group:not(:first-child)>.btn{border-bottom-left-radius:0;border-top-left-radius:0}.input-group-addon:last-child{border-left:0}.input-group-btn{font-size:0;white-space:nowrap}.input-group-btn,.input-group-btn>.btn{position:relative}.input-group-btn>.btn+.btn{margin-left:-1px}.input-group-btn>.btn:hover,.input-group-btn>.btn:focus,.input-group-btn>.btn:active{z-index:2}.input-group-btn:first-child>.btn,.input-group-btn:first-child>.btn-group{margin-right:-1px}.input-group-btn:last-child>.btn,.input-group-btn:last-child>.btn-group{margin-left:-1px}.pagination{display:inline-block;padding-left:0;margin:20px 0;border-radius:4px}.pagination>li{display:inline}.pagination>li>a,.pagination>li>span{position:relative;float:left;padding:6px 12px;line-height:1.4285714;text-decoration:none;color:#428bca;background-color:#fff;border:1px solid #ddd;margin-left:-1px}.pagination>li:first-child>a,.pagination>li:first-child>span{margin-left:0;border-bottom-left-radius:4px;border-top-left-radius:4px}.pagination>li:last-child>a,.pagination>li:last-child>span{border-bottom-right-radius:4px;border-top-right-radius:4px}.pagination>li>a:hover,.pagination>li>a:focus,.pagination>li>span:hover,.pagination>li>span:focus{color:#2a6496;background-color:#eee;border-color:#ddd}.pagination>.active>a,.pagination>.active>a:hover,.pagination>.active>a:focus,.pagination>.active>span,.pagination>.active>span:hover,.pagination>.active>span:focus{z-index:2;color:#fff;background-color:#428bca;border-color:#428bca;cursor:default}.pagination>.disabled>span,.pagination>.disabled>span:hover,.pagination>.disabled>span:focus,.pagination>.disabled>a,.pagination>.disabled>a:hover,.pagination>.disabled>a:focus{color:#777;background-color:#fff;border-color:#ddd;cursor:not-allowed}.pagination-lg>li>a,.pagination-lg>li>span{padding:10px 16px;font-size:18px}.pagination-lg>li:first-child>a,.pagination-lg>li:first-child>span{border-bottom-left-radius:6px;border-top-left-radius:6px}.pagination-lg>li:last-child>a,.pagination-lg>li:last-child>span{border-bottom-right-radius:6px;border-top-right-radius:6px}.pagination-sm>li>a,.pagination-sm>li>span{padding:5px 10px;font-size:12px}.pagination-sm>li:first-child>a,.pagination-sm>li:first-child>span{border-bottom-left-radius:3px;border-top-left-radius:3px}.pagination-sm>li:last-child>a,.pagination-sm>li:last-child>span{border-bottom-right-radius:3px;border-top-right-radius:3px}.close{float:right;font-size:21px;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.2;filter:alpha(opacity=20)}.close:hover,.close:focus{color:#000;text-decoration:none;cursor:pointer;opacity:.5;filter:alpha(opacity=50)}button.close{padding:0;cursor:pointer;background:0 0;border:0;-webkit-appearance:none}.modal-open,.modal{overflow:hidden}.modal{display:none;position:fixed;top:0;right:0;bottom:0;left:0;z-index:1050;-webkit-overflow-scrolling:touch;outline:0}.modal.fade .modal-dialog{transform:translate3d(0,-25%,0);transition:transform .3s ease-out}.modal.in .modal-dialog{transform:translate3d(0,0,0)}.modal-open .modal{overflow-x:hidden;overflow-y:auto}.modal-dialog{position:relative;width:auto;margin:10px}.modal-content{position:relative;background-color:#fff;border:1px solid #999;border:1px solid rgba(0,0,0,.2);border-radius:6px;box-shadow:0 3px 9px rgba(0,0,0,.5);background-clip:padding-box;outline:0}.modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1040;background-color:#000}.modal-backdrop.fade{opacity:0;filter:alpha(opacity=0)}.modal-backdrop.in{opacity:.5;filter:alpha(opacity=50)}.modal-header{padding:15px;border-bottom:1px solid #e5e5e5;min-height:16.4285714px}.modal-header .close{margin-top:-2px}.modal-title{margin:0;line-height:1.4285714}.modal-body{position:relative;padding:15px}.modal-footer{padding:15px;text-align:right;border-top:1px solid #e5e5e5}.modal-footer:before,.modal-footer:after{content:" ";display:table}.modal-footer:after{clear:both}.modal-footer .btn+.btn{margin-left:5px;margin-bottom:0}.modal-footer .btn-group .btn+.btn{margin-left:-1px}.modal-footer .btn-block+.btn-block{margin-left:0}.modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.clearfix:before,.clearfix:after{content:" ";display:table}.clearfix:after{clear:both}.center-block{display:block;margin-left:auto;margin-right:auto}.pull-right{float:right!important}.pull-left{float:left!important}.hide{display:none!important}.show{display:block!important}.invisible{visibility:hidden}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.hidden{display:none!important;visibility:hidden!important}.affix{position:fixed;transform:translate3d(0,0,0)}.hljs{display:block;overflow-x:auto;padding:.5em;background:#002b36;color:#839496;-webkit-text-size-adjust:none}.hljs-comment,.hljs-template_comment,.diff .hljs-header,.hljs-doctype,.hljs-pi,.lisp .hljs-string,.hljs-javadoc{color:#586e75}.hljs-keyword,.hljs-winutils,.method,.hljs-addition,.css .hljs-tag,.hljs-request,.hljs-status,.nginx .hljs-title{color:#859900}.hljs-number,.hljs-command,.hljs-string,.hljs-tag .hljs-value,.hljs-rules .hljs-value,.hljs-phpdoc,.hljs-dartdoc,.tex .hljs-formula,.hljs-regexp,.hljs-hexcolor,.hljs-link_url{color:#2aa198}.hljs-title,.hljs-localvars,.hljs-chunk,.hljs-decorator,.hljs-built_in,.hljs-identifier,.vhdl .hljs-literal,.hljs-id,.css .hljs-function{color:#268bd2}.hljs-attribute,.hljs-variable,.lisp .hljs-body,.smalltalk .hljs-number,.hljs-constant,.hljs-class .hljs-title,.hljs-parent,.hljs-type,.hljs-link_reference{color:#b58900}.hljs-preprocessor,.hljs-preprocessor .hljs-keyword,.hljs-pragma,.hljs-shebang,.hljs-symbol,.hljs-symbol .hljs-string,.diff .hljs-change,.hljs-special,.hljs-attr_selector,.hljs-subst,.hljs-cdata,.css .hljs-pseudo,.hljs-header{color:#cb4b16}.hljs-deletion,.hljs-important{color:#dc322f}.hljs-link_label{color:#6c71c4}.tex .hljs-formula{background:#073642}*,*:before,*:after{box-sizing:border-box}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background:0 0}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}images{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd{font-size:1em}code,kbd,pre,samp{font-family:monospace,monospace}samp{font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0;margin-right:5px}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}.debug{background-color:#ffc0cb!important}.ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ir{background-color:transparent;border:0;overflow:hidden}.ir::before{content:'';display:block;height:150%;width:0}html{font-size:.875em;background:#fff;color:#373D49}html,body{font-family:Georgia,Cambria,serif;height:100%}body{font-size:1rem;font-weight:400;line-height:2rem}ul,ol{margin-bottom:.83999rem;padding-top:.16001rem}li{font-feature-settings:'kern' 1,'onum' 1,'liga' 1;margin-left:1rem}li>ul,li>ol{margin-bottom:0}p{padding-top:.66001rem;font-feature-settings:'kern' 1,'onum' 1,'liga' 1;margin-top:0}p,pre{margin-bottom:1.33999rem}pre{font-size:1rem;padding:.66001rem 9.5px 9.5px;line-height:2rem;background:linear-gradient(to bottom,#fff 0,#fff .75rem,#f5f7fa .75rem,#f5f7fa 2.75rem,#fff 2.75rem,#fff 4rem);background-size:100% 4rem;border-color:#D3DAEA}blockquote{margin:0}blockquote p{font-size:1rem;margin-bottom:.33999rem;font-style:italic;padding:.66001rem 1rem 1rem;border-left:3px solid #A0AABF}th,td{padding:12px}h1,h2,h3,h4,h5,h6{font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif;font-feature-settings:'dlig' 1,'liga' 1,'lnum' 1,'kern' 1;font-style:normal;font-weight:600;margin-top:0}h1{line-height:3rem;font-size:2.0571429rem;margin-bottom:.21999rem;padding-top:.78001rem}h2{font-size:1.953125rem;margin-bottom:.1835837rem;padding-top:.8164163rem}h2,h3{line-height:3rem}h3{font-size:1.6457143rem;margin-bottom:.07599rem;padding-top:.92401rem}h4{font-size:1.5625rem;margin-bottom:.546865rem;padding-top:.453135rem}h5{font-size:1.25rem;margin-bottom:-.56251rem;padding-top:.56251rem}h6{font-size:1rem;margin-bottom:-.65001rem;padding-top:.65001rem}a{cursor:pointer;color:#35D7BB;text-decoration:none}a:hover,a:focus{border-bottom-color:#35D7BB;color:#dff9f4}img{height:auto;max-width:100%}dt{font-style:italic;font-weight:600}.g{display:block}.g:after{clear:both;content:'';display:table}.g-b{float:left;margin:0;width:100%}.g{margin-left:-16px;margin-right:-16px}.g-b{padding-left:16px;padding-right:16px}.g-b--center{display:block;float:none;margin:0 auto}.g-b--right{float:right}.g-b--1of1{width:100%}.g-b--1of2,.g-b--2of4,.g-b--3of6,.g-b--4of8,.g-b--5of10,.g-b--6of12{width:50%}.g-b--1of3,.g-b--2of6,.g-b--4of12{width:33.333%}.g-b--2of3,.g-b--4of6,.g-b--8of12{width:66.666%}.g-b--1of4,.g-b--2of8,.g-b--3of12{width:25%}.g-b--3of4,.g-b--6of8,.g-b--9of12{width:75%}.g-b--1of5,.g-b--2of10{width:20%}.g-b--2of5,.g-b--4of10{width:40%}.g-b--3of5,.g-b--6of10{width:60%}.g-b--4of5,.g-b--8of10{width:80%}.g-b--1of6,.g-b--2of12{width:16.666%}.g-b--5of6,.g-b--10of12{width:83.333%}.g-b--1of8{width:12.5%}.g-b--3of8{width:37.5%}.g-b--5of8{width:62.5%}.g-b--7of8{width:87.5%}.g-b--1of10{width:10%}.g-b--3of10{width:30%}.g-b--7of10{width:70%}.g-b--9of10{width:90%}.g-b--1of12{width:8.333%}.g-b--5of12{width:41.666%}.g-b--7of12{width:58.333%}.g-b--11of12{width:91.666%}.g-b--push--1of1{margin-left:100%}.g-b--push--1of2,.g-b--push--2of4,.g-b--push--3of6,.g-b--push--4of8,.g-b--push--5of10,.g-b--push--6of12{margin-left:50%}.g-b--push--1of3,.g-b--push--2of6,.g-b--push--4of12{margin-left:33.333%}.g-b--push--2of3,.g-b--push--4of6,.g-b--push--8of12{margin-left:66.666%}.g-b--push--1of4,.g-b--push--2of8,.g-b--push--3of12{margin-left:25%}.g-b--push--3of4,.g-b--push--6of8,.g-b--push--9of12{margin-left:75%}.g-b--push--1of5,.g-b--push--2of10{margin-left:20%}.g-b--push--2of5,.g-b--push--4of10{margin-left:40%}.g-b--push--3of5,.g-b--push--6of10{margin-left:60%}.g-b--push--4of5,.g-b--push--8of10{margin-left:80%}.g-b--push--1of6,.g-b--push--2of12{margin-left:16.666%}.g-b--push--5of6,.g-b--push--10of12{margin-left:83.333%}.g-b--push--1of8{margin-left:12.5%}.g-b--push--3of8{margin-left:37.5%}.g-b--push--5of8{margin-left:62.5%}.g-b--push--7of8{margin-left:87.5%}.g-b--push--1of10{margin-left:10%}.g-b--push--3of10{margin-left:30%}.g-b--push--7of10{margin-left:70%}.g-b--push--9of10{margin-left:90%}.g-b--push--1of12{margin-left:8.333%}.g-b--push--5of12{margin-left:41.666%}.g-b--push--7of12{margin-left:58.333%}.g-b--push--11of12{margin-left:91.666%}.g-b--pull--1of1{margin-right:100%}.g-b--pull--1of2,.g-b--pull--2of4,.g-b--pull--3of6,.g-b--pull--4of8,.g-b--pull--5of10,.g-b--pull--6of12{margin-right:50%}.g-b--pull--1of3,.g-b--pull--2of6,.g-b--pull--4of12{margin-right:33.333%}.g-b--pull--2of3,.g-b--pull--4of6,.g-b--pull--8of12{margin-right:66.666%}.g-b--pull--1of4,.g-b--pull--2of8,.g-b--pull--3of12{margin-right:25%}.g-b--pull--3of4,.g-b--pull--6of8,.g-b--pull--9of12{margin-right:75%}.g-b--pull--1of5,.g-b--pull--2of10{margin-right:20%}.g-b--pull--2of5,.g-b--pull--4of10{margin-right:40%}.g-b--pull--3of5,.g-b--pull--6of10{margin-right:60%}.g-b--pull--4of5,.g-b--pull--8of10{margin-right:80%}.g-b--pull--1of6,.g-b--pull--2of12{margin-right:16.666%}.g-b--pull--5of6,.g-b--pull--10of12{margin-right:83.333%}.g-b--pull--1of8{margin-right:12.5%}.g-b--pull--3of8{margin-right:37.5%}.g-b--pull--5of8{margin-right:62.5%}.g-b--pull--7of8{margin-right:87.5%}.g-b--pull--1of10{margin-right:10%}.g-b--pull--3of10{margin-right:30%}.g-b--pull--7of10{margin-right:70%}.g-b--pull--9of10{margin-right:90%}.g-b--pull--1of12{margin-right:8.333%}.g-b--pull--5of12{margin-right:41.666%}.g-b--pull--7of12{margin-right:58.333%}.g-b--pull--11of12{margin-right:91.666%}.splashscreen{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#373D49;z-index:22}.splashscreen-dillinger{width:260px;height:auto;display:block;margin:0 auto;padding-bottom:3rem}.splashscreen p{font-size:1.25rem;padding-top:.56251rem;font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:400;text-align:center;max-width:500px;margin:0 auto;color:#FFF}.sp-center{position:relative;transform:translateY(-50%);top:50%}.open-menu>.wrapper{overflow-x:hidden}.page{margin:0 auto;position:relative;top:0;left:0;width:100%;height:100%;z-index:2;transition:all .25s ease-in-out;background-color:#fff;padding-top:51px;will-change:left}.open-menu .page{left:270px}.title{line-height:1rem;font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem;font-weight:500;color:#A0AABF;letter-spacing:1px;text-transform:uppercase;padding-left:16px;padding-right:16px;margin-top:1rem}.split-preview .title{padding-left:0}.title-document{line-height:1rem;font-size:1.25rem;margin-bottom:.89999rem;padding-top:.10001rem;font-weight:400;font-family:"Ubuntu Mono",Monaco;color:#373D49;padding-left:16px;padding-right:16px;width:80%;min-width:300px;outline:0;border:none}.icon{display:block;margin:0 auto;width:36px;height:36px;border-radius:3px;text-align:center}.icon svg{display:inline-block;margin-left:auto;margin-right:auto}.icon-preview{background-color:#373D49;line-height:40px}.icon-preview svg{width:19px;height:12px}.icon-settings{background-color:#373D49;line-height:44px}.icon-settings svg{width:18px;height:18px}.icon-link{width:16px;height:16px;line-height:1;margin-right:24px;text-align:right}.navbar{background-color:#373D49;height:51px;width:100%;position:fixed;top:0;left:0;z-index:6;transition:all .25s ease-in-out;will-change:left}.navbar:after{content:"";display:table;clear:both}.open-menu .navbar{left:270px}.navbar-brand{float:left;margin:0 0 0 24px;padding:0;line-height:42px}.navbar-brand svg{width:85px;height:11px}.nav-left{float:left}.nav-right{float:right}.nav-sidebar{width:100%}.menu{list-style:none;margin:0;padding:0}.menu a{border:0;color:#A0AABF;font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif;outline:none;text-transform:uppercase}.menu a:hover{color:#35D7BB}.menu .menu-item{border:0;display:none;float:left;margin:0;position:relative}.menu .menu-item>a{display:block;font-size:12px;height:51px;letter-spacing:1px;line-height:51px;padding:0 24px}.menu .menu-item--settings,.menu .menu-item--preview,.menu .menu-item--save-to.in-sidebar,.menu .menu-item--import-from.in-sidebar,.menu .menu-item--link-unlink.in-sidebar,.menu .menu-item--documents.in-sidebar{display:block}.menu .menu-item--documents{padding-bottom:1rem}.menu .menu-item.open>a{background-color:#1D212A}.menu .menu-item-icon>a{height:auto;padding:0}.menu .menu-item-icon:hover>a{background-color:transparent}.menu .menu-link.open i{background-color:#1D212A}.menu .menu-link.open g{fill:#35D7BB}.menu .menu-link-preview,.menu .menu-link-settings{margin-top:8px;width:51px}.menu-sidebar{width:100%}.menu-sidebar .menu-item{float:none;margin-bottom:1px;width:100%}.menu-sidebar .menu-item.open>a{background-color:#373D49}.menu-sidebar .open .caret{transform:rotate(180deg)}.menu-sidebar>.menu-item:hover .dropdown a,.menu-sidebar>.menu-item:hover .settings a{background-color:transparent}.menu-sidebar .menu-link{background-color:#373D49;font-weight:600}.menu-sidebar .menu-link:after{content:"";display:table;clear:both}.menu-sidebar .menu-link>span{float:left}.menu-sidebar .menu-link>.caret{float:right;text-align:right;top:22px}.menu-sidebar .dropdown,.menu-sidebar .settings{background-color:transparent;position:static;width:100%}.dropdown{position:absolute;right:0;top:51px;width:188px}.dropdown,.settings{display:none;background-color:#1D212A}.dropdown{padding:0}.dropdown,.settings,.sidebar-list{list-style:none;margin:0}.sidebar-list{padding:0}.dropdown li{margin:32px 0;padding:0 0 0 32px}.dropdown li,.settings li{line-height:1}.sidebar-list li{line-height:1;margin:32px 0;padding:0 0 0 32px}.dropdown a{color:#D0D6E2}.dropdown a,.settings a,.sidebar-list a{display:block;text-transform:none}.sidebar-list a{color:#D0D6E2}.dropdown a:after,.settings a:after,.sidebar-list a:after{content:"";display:table;clear:both}.dropdown .icon,.settings .icon,.sidebar-list .icon{float:right}.open .dropdown,.open .settings,.open .sidebar-list{display:block}.open .dropdown.collapse,.open .collapse.settings,.open .sidebar-list.collapse{display:none}.open .dropdown.collapse.in,.open .collapse.in.settings,.open .sidebar-list.collapse.in{display:block}.dropdown .unlinked .icon,.settings .unlinked .icon,.sidebar-list .unlinked .icon{opacity:.3}.dropdown.documents li,.documents.settings li,.sidebar-list.documents li{background-image:url("../img/icons/file.svg");background-position:240px center;background-repeat:no-repeat;background-size:14px 16px;padding:3px 32px}.dropdown.documents li.octocat,.documents.settings li.octocat,.sidebar-list.documents li.octocat{background-image:url("../img/icons/octocat.svg");background-position:234px center;background-size:24px 24px}.dropdown.documents li:last-child,.documents.settings li:last-child,.sidebar-list.documents li:last-child{margin-bottom:1rem}.dropdown.documents li.active a,.documents.settings li.active a,.sidebar-list.documents li.active a{color:#35D7BB}.settings{position:fixed;top:67px;right:16px;border-radius:3px;width:288px;background-color:#373D49;padding:16px;z-index:7}.show-settings .settings{display:block}.settings .has-checkbox{float:left}.settings form{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between}.settings input{width:20%}.settings a{font-size:1.25rem;font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:400;-webkit-font-smoothing:antialiased;line-height:28px;color:#D0D6E2}.settings a:after{content:"";display:table;clear:both}.settings a:hover{color:#35D7BB}.settings li{border-bottom:1px solid #4F535B;margin:0;padding:16px 0}.settings li:last-child{border-bottom:none}.brand{border:none;display:block}.brand:hover g{fill:#35D7BB}.toggle{display:block;float:left;height:16px;padding:25px 16px 26px;width:40px}.toggle span:after,.toggle span:before{content:'';left:0;position:absolute;top:-6px}.toggle span:after{top:6px}.toggle span{display:block;position:relative}.toggle span,.toggle span:after,.toggle span:before{-webkit-backface-visibility:hidden;backface-visibility:hidden;background-color:#D3DAEA;height:2px;transition:all .3s;width:20px}.open-menu .toggle span{background-color:transparent}.open-menu .toggle span:before{transform:rotate(45deg) translate(3px,3px)}.open-menu .toggle span:after{transform:rotate(-45deg) translate(5px,-6px)}.caret{display:inline-block;width:0;height:0;margin-left:6px;vertical-align:middle;position:relative;top:-1px;border-top:4px solid;border-right:4px solid transparent;border-left:4px solid transparent}.sidebar{overflow:auto;height:100%;padding-right:15px;padding-bottom:15px;width:285px}.sidebar-wrapper{-webkit-overflow-scrolling:touch;background-color:#2B2F36;left:0;height:100%;overflow-y:hidden;position:fixed;top:0;width:285px;z-index:1}.sidebar-branding{width:160px;padding:0;margin:16px auto}.header{border-bottom:1px solid #E8E8E8;position:relative}.words,.characters{line-height:1rem;font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem;font-weight:500;font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif;letter-spacing:1px;text-transform:uppercase;z-index:5;position:absolute;right:16px;top:0}.words span,.characters span{color:#A0AABF}.words .counter,.characters .counter{color:#000}.words+.characters{top:22px}.mr10{margin-right:10px}.btn{text-align:center;display:inline-block;width:100%;text-transform:uppercase;font-weight:600;font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif;font-size:14px;text-shadow:0 1px 0 #1b8b77;padding:16px 24px;background-color:#35D7BB;border-radius:3px;margin:0 auto 16px;line-height:1;color:#fff;transition:all .15s linear;-webkit-font-smoothing:antialiased}.btn--new,.btn--save{display:block;width:238px}.btn--new:hover,.btn--new:focus,.btn--save:hover,.btn--save:focus{color:#fff;border-bottom-color:transparent;box-shadow:0 1px 3px #24b59c;text-shadow:0 1px 0 #24b59c}.btn--save{background-color:#4A5261;text-shadow:0 1px 1px #1e2127}.btn--save:hover,.btn--save:focus{color:#fff;border-bottom-color:transparent;box-shadow:0 1px 5px #08090a;text-shadow:none}.btn--delete{display:block;width:238px;background-color:transparent;font-size:12px;text-shadow:none}.btn--delete:hover,.btn--delete:focus{color:#fff;border-bottom-color:transparent;text-shadow:0 1px 0 #08090a;opacity:.8}.btn--delete-modal,.btn--ok,.btn--close{border-top:0;background-color:#4A5261;text-shadow:0 1px 0 #08090a;margin:0}.btn--delete-modal:hover,.btn--delete-modal:focus,.btn--ok:hover,.btn--ok:focus,.btn--close:hover,.btn--close:focus{color:#fff;background-color:#292d36;text-shadow:none}.btn--delete-modal{display:inline;width:auto}.overlay{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(55,61,73,.8);transition:all .25s ease-in-out;transition-timing-function:ease-out;will-change:left,opacity,visibility;z-index:5;opacity:0;visibility:hidden}.show-settings .overlay{visibility:visible;opacity:1}.switch{float:right;line-height:1}.switch input{display:none}.switch small{display:inline-block;cursor:pointer;padding:0 24px 0 0;transition:all ease .2s;background-color:#2B2F36;border-color:#2B2F36}.switch small,.switch small:before{border-radius:30px;box-shadow:inset 0 0 2px 0 #14171F}.switch small:before{display:block;content:'';width:28px;height:28px;background:#fff}.switch.checked small{padding-right:0;padding-left:24px;background-color:#35D7BB;box-shadow:none}.modal--dillinger.about .modal-dialog{font-size:1.25rem;max-width:500px}.modal--dillinger.scope .modal-dialog{max-width:300px;margin:5rem auto}.modal--dillinger .modal-dialog{max-width:600px;width:auto;margin:5rem auto}.modal--dillinger .modal-content{background:#373D49;border-radius:3px;box-shadow:0 2px 5px 0 #2C3B59;color:#fff;font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:400;padding:2rem}.modal--dillinger ul{list-style-type:disc;margin:1rem 0;padding:0 0 0 1rem}.modal--dillinger li{padding:0;margin:0}.modal--dillinger .modal-header{border:0;padding:0}.modal--dillinger .modal-body{padding:0}.modal--dillinger .modal-footer{border:0;padding:0}.modal--dillinger .close{color:#fff;opacity:1}.modal-backdrop{background-color:#373D49}.pagination--dillinger{padding:0!important;margin:1.5rem 0!important;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-line-pack:stretch;align-content:stretch}.pagination--dillinger li{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;text-align:center}.pagination--dillinger li:first-child>a,.pagination--dillinger li.disabled>a,.pagination--dillinger li.disabled>a:hover,.pagination--dillinger li.disabled>a:focus,.pagination--dillinger li>a{background-color:transparent;border-color:#4F535B;border-right-color:transparent}.pagination--dillinger li.active>a,.pagination--dillinger li.active>a:hover,.pagination--dillinger li.active>a:focus{border-color:#4A5261;background-color:#4A5261;color:#fff}.pagination--dillinger li>a{float:none;color:#fff;width:100%;display:block;text-align:center;margin:0;border-right-color:transparent;padding:6px}.pagination--dillinger li>a:hover,.pagination--dillinger li>a:focus{border-color:#35D7BB;background-color:#35D7BB;color:#fff}.pagination--dillinger li:last-child a{border-color:#4F535B}.pagination--dillinger li:first-child a{border-right-color:transparent}.diNotify{position:absolute;z-index:9999;left:0;right:0;top:0;margin:0 auto;max-width:400px;text-align:center;transition:top .5s ease-in-out,opacity .5s ease-in-out;visibility:hidden}.diNotify-body{-webkit-font-smoothing:antialiased;background-color:#35D7BB;background:#666E7F;border-radius:3px;color:#fff;font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:400;overflow:hidden;padding:1rem 2rem .5rem;display:-ms-flexbox;display:flex;-ms-flex-align:baseline;align-items:baseline;-ms-flex-pack:center;justify-content:center}.diNotify-icon{display:block;width:16px;height:16px;line-height:16px;position:relative;top:3px}.diNotify-message{padding-left:1rem}.zen-wrapper{position:fixed;top:0;left:0;right:0;bottom:0;width:100%;height:100%;z-index:10;background-color:#FFF;opacity:0;transition:opacity .25s ease-in-out}.zen-wrapper.on{opacity:1}.enter-zen-mode{background-image:url("../img/icons/enter-zen.svg");right:.5rem;top:.313rem;display:none}.enter-zen-mode,.close-zen-mode{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0;background-repeat:no-repeat;width:32px;height:32px;display:block;position:absolute}.close-zen-mode{background-image:url("../img/icons/exit-zen.svg");right:1rem;top:1rem}.zen-page{position:relative;top:0;bottom:0;z-index:11;height:100%;width:100%}#zen{font-size:1.25rem;width:300px;height:80%;margin:0 auto;position:relative;top:10%}#zen:before,#zen:after{content:"";position:absolute;height:10%;width:100%;z-index:12;pointer-events:none}#preview .table{width:auto}.ui-resizable{position:relative}.ui-resizable-handle{position:absolute;font-size:.1px;z-index:99999;display:block}.ui-resizable-e{background-color:#666;border-right:8px solid #e8e8e8;border-left:1px solid #222;width:10px;z-index:88!important;position:relative}.ui-resizable-e:after{content:"-";display:block;position:absolute;top:calc(50% - 16px);left:0;height:25px;width:2px;background-color:rgba(0,0,0,.4);margin:3px}#editor{cursor:ew-resize;position:relative;z-index:auto}.profile-pic{float:left;width:250px}#_default_ a::before{color:#A0AABF}#_default_ img{display:none}#_default_ #_default_{display:block;float:left;max-width:38%;word-wrap:break-word}#_default_ .default-ad{display:none}#_default_ ._default_{display:block}#_default_ a{color:#35d7bb;text-decoration:none}#_default_ a:hover{color:#8ae8d8}#_default_ .default-image{display:none}#_default_ .default-title:after{content:" — "}#_default_ .default-title,#_default_ .default-text,#_default_ .default-description{display:inline}#_default_ .default-title{position:relative;font-weight:600;display:none}#_default_ a:before{position:relative;top:0;padding:5px;color:#a0aabf;content:"Ad";text-transform:uppercase;font-size:8px;font-family:Verdana,sans-serif}#_default_{display:block;float:left;max-width:38%;word-wrap:break-word}#_default_ ._default_{display:block;font-size:.75rem;height:51px;letter-spacing:1px;line-height:1rem;padding:18px 24px}body{max-width:1024px;margin:0 auto;overflow:auto;padding:2%}.split{overflow:scroll;padding:0!important;-webkit-overflow-scrolling:touch}.split-editor{padding-left:0;padding-right:0;position:relative;z-index:3}.show-preview .split-editor{display:none}.split-preview{background-color:#fff;display:none;top:0;position:relative;z-index:4}.show-preview .split-preview{display:block}#editor{font-size:1rem;font-family:"Ubuntu Mono",Monaco;font-weight:400;line-height:2rem;width:100%;height:100%}#editor .ace_gutter{-webkit-font-smoothing:antialiased}.editor-header{width:50%;float:left;border-bottom:1px solid #E8E8E8;position:relative}.editor-header--first{border-right:1px solid #E8E8E8}.editor-header .title{display:inline-block}.preview-html{padding:15px}.preview-html a{color:#A0AABF;text-decoration:underline}.preview-src{white-space:normal}.preview-mode-toggle-src{background-image:url("../img/icons/code.svg")}.preview-mode-toggle-src,.preview-mode-toggle-html{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0;background-repeat:no-repeat;width:32px;height:32px;display:block;position:absolute;right:.5rem;top:.5rem;display:none}.preview-mode-toggle-html{background-image:url("../img/icons/eye.svg")}.sr-only{visibility:hidden;text-overflow:110%;overflow:hidden;top:-100px;position:absolute}.mnone{margin:0!important}@media screen and (min-width:27.5em){html{font-size:.875em}body{font-size:1rem}ul,ol{margin-bottom:.83999rem;padding-top:.16001rem}p{padding-top:.66001rem}p,pre{margin-bottom:1.33999rem}pre,blockquote p{font-size:1rem;padding-top:.66001rem}blockquote p{margin-bottom:.33999rem}h1{font-size:2.0571429rem;margin-bottom:.21999rem;padding-top:.78001rem}h2{font-size:1.953125rem;margin-bottom:.1835837rem;padding-top:.8164163rem}h3{font-size:1.6457143rem;margin-bottom:.07599rem;padding-top:.92401rem}h4{font-size:1.5625rem;margin-bottom:.546865rem;padding-top:.453135rem}h5{font-size:1.25rem;margin-bottom:-.56251rem;padding-top:.56251rem}h6{font-size:1rem;margin-bottom:-.65001rem;padding-top:.65001rem}.g{margin-left:-16px;margin-right:-16px}.g-b{padding-left:16px;padding-right:16px}.g-b--m1of1{width:100%}.g-b--m1of2,.g-b--m2of4,.g-b--m3of6,.g-b--m4of8,.g-b--m5of10,.g-b--m6of12{width:50%}.g-b--m1of3,.g-b--m2of6,.g-b--m4of12{width:33.333%}.g-b--m2of3,.g-b--m4of6,.g-b--m8of12{width:66.666%}.g-b--m1of4,.g-b--m2of8,.g-b--m3of12{width:25%}.g-b--m3of4,.g-b--m6of8,.g-b--m9of12{width:75%}.g-b--m1of5,.g-b--m2of10{width:20%}.g-b--m2of5,.g-b--m4of10{width:40%}.g-b--m3of5,.g-b--m6of10{width:60%}.g-b--m4of5,.g-b--m8of10{width:80%}.g-b--m1of6,.g-b--m2of12{width:16.666%}.g-b--m5of6,.g-b--m10of12{width:83.333%}.g-b--m1of8{width:12.5%}.g-b--m3of8{width:37.5%}.g-b--m5of8{width:62.5%}.g-b--m7of8{width:87.5%}.g-b--m1of10{width:10%}.g-b--m3of10{width:30%}.g-b--m7of10{width:70%}.g-b--m9of10{width:90%}.g-b--m1of12{width:8.333%}.g-b--m5of12{width:41.666%}.g-b--m7of12{width:58.333%}.g-b--m11of12{width:91.666%}.g-b--push--m1of1{margin-left:100%}.g-b--push--m1of2,.g-b--push--m2of4,.g-b--push--m3of6,.g-b--push--m4of8,.g-b--push--m5of10,.g-b--push--m6of12{margin-left:50%}.g-b--push--m1of3,.g-b--push--m2of6,.g-b--push--m4of12{margin-left:33.333%}.g-b--push--m2of3,.g-b--push--m4of6,.g-b--push--m8of12{margin-left:66.666%}.g-b--push--m1of4,.g-b--push--m2of8,.g-b--push--m3of12{margin-left:25%}.g-b--push--m3of4,.g-b--push--m6of8,.g-b--push--m9of12{margin-left:75%}.g-b--push--m1of5,.g-b--push--m2of10{margin-left:20%}.g-b--push--m2of5,.g-b--push--m4of10{margin-left:40%}.g-b--push--m3of5,.g-b--push--m6of10{margin-left:60%}.g-b--push--m4of5,.g-b--push--m8of10{margin-left:80%}.g-b--push--m1of6,.g-b--push--m2of12{margin-left:16.666%}.g-b--push--m5of6,.g-b--push--m10of12{margin-left:83.333%}.g-b--push--m1of8{margin-left:12.5%}.g-b--push--m3of8{margin-left:37.5%}.g-b--push--m5of8{margin-left:62.5%}.g-b--push--m7of8{margin-left:87.5%}.g-b--push--m1of10{margin-left:10%}.g-b--push--m3of10{margin-left:30%}.g-b--push--m7of10{margin-left:70%}.g-b--push--m9of10{margin-left:90%}.g-b--push--m1of12{margin-left:8.333%}.g-b--push--m5of12{margin-left:41.666%}.g-b--push--m7of12{margin-left:58.333%}.g-b--push--m11of12{margin-left:91.666%}.g-b--pull--m1of1{margin-right:100%}.g-b--pull--m1of2,.g-b--pull--m2of4,.g-b--pull--m3of6,.g-b--pull--m4of8,.g-b--pull--m5of10,.g-b--pull--m6of12{margin-right:50%}.g-b--pull--m1of3,.g-b--pull--m2of6,.g-b--pull--m4of12{margin-right:33.333%}.g-b--pull--m2of3,.g-b--pull--m4of6,.g-b--pull--m8of12{margin-right:66.666%}.g-b--pull--m1of4,.g-b--pull--m2of8,.g-b--pull--m3of12{margin-right:25%}.g-b--pull--m3of4,.g-b--pull--m6of8,.g-b--pull--m9of12{margin-right:75%}.g-b--pull--m1of5,.g-b--pull--m2of10{margin-right:20%}.g-b--pull--m2of5,.g-b--pull--m4of10{margin-right:40%}.g-b--pull--m3of5,.g-b--pull--m6of10{margin-right:60%}.g-b--pull--m4of5,.g-b--pull--m8of10{margin-right:80%}.g-b--pull--m1of6,.g-b--pull--m2of12{margin-right:16.666%}.g-b--pull--m5of6,.g-b--pull--m10of12{margin-right:83.333%}.g-b--pull--m1of8{margin-right:12.5%}.g-b--pull--m3of8{margin-right:37.5%}.g-b--pull--m5of8{margin-right:62.5%}.g-b--pull--m7of8{margin-right:87.5%}.g-b--pull--m1of10{margin-right:10%}.g-b--pull--m3of10{margin-right:30%}.g-b--pull--m7of10{margin-right:70%}.g-b--pull--m9of10{margin-right:90%}.g-b--pull--m1of12{margin-right:8.333%}.g-b--pull--m5of12{margin-right:41.666%}.g-b--pull--m7of12{margin-right:58.333%}.g-b--pull--m11of12{margin-right:91.666%}.splashscreen p{font-size:1.25rem;margin-bottom:1.43749rem;padding-top:.56251rem}.title{font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem}.title-document{margin-bottom:.89999rem;padding-top:.10001rem}.title-document,.settings a{font-size:1.25rem}.words,.characters{font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem}.modal--dillinger.about .modal-dialog,#zen{font-size:1.25rem}#zen{width:400px}#editor{font-size:1rem}}@media screen and (min-width:46.25em){html{font-size:.875em}body{font-size:1rem}ul,ol{margin-bottom:.83999rem;padding-top:.16001rem}p{padding-top:.66001rem}p,pre{margin-bottom:1.33999rem}pre,blockquote p{font-size:1rem;padding-top:.66001rem}blockquote p{margin-bottom:.33999rem}h1{font-size:2.0571429rem;margin-bottom:.21999rem;padding-top:.78001rem}h2{font-size:1.953125rem;margin-bottom:.1835837rem;padding-top:.8164163rem}h3{font-size:1.6457143rem;margin-bottom:.07599rem;padding-top:.92401rem}h4{font-size:1.5625rem;margin-bottom:.546865rem;padding-top:.453135rem}h5{font-size:1.25rem;margin-bottom:-.56251rem;padding-top:.56251rem}h6{font-size:1rem;margin-bottom:-.65001rem;padding-top:.65001rem}.g{margin-left:-16px;margin-right:-16px}.g-b{padding-left:16px;padding-right:16px}.g-b--t1of1{width:100%}.g-b--t1of2,.g-b--t2of4,.g-b--t3of6,.g-b--t4of8,.g-b--t5of10,.g-b--t6of12{width:50%}.g-b--t1of3,.g-b--t2of6,.g-b--t4of12{width:33.333%}.g-b--t2of3,.g-b--t4of6,.g-b--t8of12{width:66.666%}.g-b--t1of4,.g-b--t2of8,.g-b--t3of12{width:25%}.g-b--t3of4,.g-b--t6of8,.g-b--t9of12{width:75%}.g-b--t1of5,.g-b--t2of10{width:20%}.g-b--t2of5,.g-b--t4of10{width:40%}.g-b--t3of5,.g-b--t6of10{width:60%}.g-b--t4of5,.g-b--t8of10{width:80%}.g-b--t1of6,.g-b--t2of12{width:16.666%}.g-b--t5of6,.g-b--t10of12{width:83.333%}.g-b--t1of8{width:12.5%}.g-b--t3of8{width:37.5%}.g-b--t5of8{width:62.5%}.g-b--t7of8{width:87.5%}.g-b--t1of10{width:10%}.g-b--t3of10{width:30%}.g-b--t7of10{width:70%}.g-b--t9of10{width:90%}.g-b--t1of12{width:8.333%}.g-b--t5of12{width:41.666%}.g-b--t7of12{width:58.333%}.g-b--t11of12{width:91.666%}.g-b--push--t1of1{margin-left:100%}.g-b--push--t1of2,.g-b--push--t2of4,.g-b--push--t3of6,.g-b--push--t4of8,.g-b--push--t5of10,.g-b--push--t6of12{margin-left:50%}.g-b--push--t1of3,.g-b--push--t2of6,.g-b--push--t4of12{margin-left:33.333%}.g-b--push--t2of3,.g-b--push--t4of6,.g-b--push--t8of12{margin-left:66.666%}.g-b--push--t1of4,.g-b--push--t2of8,.g-b--push--t3of12{margin-left:25%}.g-b--push--t3of4,.g-b--push--t6of8,.g-b--push--t9of12{margin-left:75%}.g-b--push--t1of5,.g-b--push--t2of10{margin-left:20%}.g-b--push--t2of5,.g-b--push--t4of10{margin-left:40%}.g-b--push--t3of5,.g-b--push--t6of10{margin-left:60%}.g-b--push--t4of5,.g-b--push--t8of10{margin-left:80%}.g-b--push--t1of6,.g-b--push--t2of12{margin-left:16.666%}.g-b--push--t5of6,.g-b--push--t10of12{margin-left:83.333%}.g-b--push--t1of8{margin-left:12.5%}.g-b--push--t3of8{margin-left:37.5%}.g-b--push--t5of8{margin-left:62.5%}.g-b--push--t7of8{margin-left:87.5%}.g-b--push--t1of10{margin-left:10%}.g-b--push--t3of10{margin-left:30%}.g-b--push--t7of10{margin-left:70%}.g-b--push--t9of10{margin-left:90%}.g-b--push--t1of12{margin-left:8.333%}.g-b--push--t5of12{margin-left:41.666%}.g-b--push--t7of12{margin-left:58.333%}.g-b--push--t11of12{margin-left:91.666%}.g-b--pull--t1of1{margin-right:100%}.g-b--pull--t1of2,.g-b--pull--t2of4,.g-b--pull--t3of6,.g-b--pull--t4of8,.g-b--pull--t5of10,.g-b--pull--t6of12{margin-right:50%}.g-b--pull--t1of3,.g-b--pull--t2of6,.g-b--pull--t4of12{margin-right:33.333%}.g-b--pull--t2of3,.g-b--pull--t4of6,.g-b--pull--t8of12{margin-right:66.666%}.g-b--pull--t1of4,.g-b--pull--t2of8,.g-b--pull--t3of12{margin-right:25%}.g-b--pull--t3of4,.g-b--pull--t6of8,.g-b--pull--t9of12{margin-right:75%}.g-b--pull--t1of5,.g-b--pull--t2of10{margin-right:20%}.g-b--pull--t2of5,.g-b--pull--t4of10{margin-right:40%}.g-b--pull--t3of5,.g-b--pull--t6of10{margin-right:60%}.g-b--pull--t4of5,.g-b--pull--t8of10{margin-right:80%}.g-b--pull--t1of6,.g-b--pull--t2of12{margin-right:16.666%}.g-b--pull--t5of6,.g-b--pull--t10of12{margin-right:83.333%}.g-b--pull--t1of8{margin-right:12.5%}.g-b--pull--t3of8{margin-right:37.5%}.g-b--pull--t5of8{margin-right:62.5%}.g-b--pull--t7of8{margin-right:87.5%}.g-b--pull--t1of10{margin-right:10%}.g-b--pull--t3of10{margin-right:30%}.g-b--pull--t7of10{margin-right:70%}.g-b--pull--t9of10{margin-right:90%}.g-b--pull--t1of12{margin-right:8.333%}.g-b--pull--t5of12{margin-right:41.666%}.g-b--pull--t7of12{margin-right:58.333%}.g-b--pull--t11of12{margin-right:91.666%}.splashscreen-dillinger{width:500px}.splashscreen p{font-size:1.25rem;margin-bottom:1.43749rem;padding-top:.56251rem}.title{font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem}.title-document{font-size:1.25rem;margin-bottom:.89999rem;padding-top:.10001rem}.menu .menu-item--save-to,.menu .menu-item--import-from{display:block}.menu .menu-item--preview,.menu .menu-item--save-to.in-sidebar,.menu .menu-item--import-from.in-sidebar{display:none}.settings a{font-size:1.25rem}.words,.characters{font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem}.modal--dillinger.about .modal-dialog{font-size:1.25rem}.enter-zen-mode{display:block}.close-zen-mode{right:3rem;top:3rem}#zen{font-size:1.25rem;width:500px}.split-editor{border-right:1px solid #E8E8E8;float:left;padding-right:16px;width:50%}.show-preview .split-editor{display:block}.split-preview{display:block;float:right;position:relative;top:0;width:50%}#editor{font-size:1rem}.preview-mode-toggle-src,.preview-mode-toggle-html{display:block}}@media screen and (min-width:62.5em){html{font-size:.875em}body{font-size:1rem}ul,ol{margin-bottom:.83999rem;padding-top:.16001rem}p{padding-top:.66001rem}p,pre{margin-bottom:1.33999rem}pre,blockquote p{font-size:1rem;padding-top:.66001rem}blockquote p{margin-bottom:.33999rem}h1{font-size:2.0571429rem;margin-bottom:.21999rem;padding-top:.78001rem}h2{font-size:1.953125rem;margin-bottom:.1835837rem;padding-top:.8164163rem}h3{font-size:1.6457143rem;margin-bottom:.07599rem;padding-top:.92401rem}h4{font-size:1.5625rem;margin-bottom:.546865rem;padding-top:.453135rem}h5{font-size:1.25rem;margin-bottom:-.56251rem;padding-top:.56251rem}h6{font-size:1rem;margin-bottom:-.65001rem;padding-top:.65001rem}.g{margin-left:-16px;margin-right:-16px}.g-b{padding-left:16px;padding-right:16px}.g-b--d1of1{width:100%}.g-b--d1of2,.g-b--d2of4,.g-b--d3of6,.g-b--d4of8,.g-b--d5of10,.g-b--d6of12{width:50%}.g-b--d1of3,.g-b--d2of6,.g-b--d4of12{width:33.333%}.g-b--d2of3,.g-b--d4of6,.g-b--d8of12{width:66.666%}.g-b--d1of4,.g-b--d2of8,.g-b--d3of12{width:25%}.g-b--d3of4,.g-b--d6of8,.g-b--d9of12{width:75%}.g-b--d1of5,.g-b--d2of10{width:20%}.g-b--d2of5,.g-b--d4of10{width:40%}.g-b--d3of5,.g-b--d6of10{width:60%}.g-b--d4of5,.g-b--d8of10{width:80%}.g-b--d1of6,.g-b--d2of12{width:16.666%}.g-b--d5of6,.g-b--d10of12{width:83.333%}.g-b--d1of8{width:12.5%}.g-b--d3of8{width:37.5%}.g-b--d5of8{width:62.5%}.g-b--d7of8{width:87.5%}.g-b--d1of10{width:10%}.g-b--d3of10{width:30%}.g-b--d7of10{width:70%}.g-b--d9of10{width:90%}.g-b--d1of12{width:8.333%}.g-b--d5of12{width:41.666%}.g-b--d7of12{width:58.333%}.g-b--d11of12{width:91.666%}.g-b--push--d1of1{margin-left:100%}.g-b--push--d1of2,.g-b--push--d2of4,.g-b--push--d3of6,.g-b--push--d4of8,.g-b--push--d5of10,.g-b--push--d6of12{margin-left:50%}.g-b--push--d1of3,.g-b--push--d2of6,.g-b--push--d4of12{margin-left:33.333%}.g-b--push--d2of3,.g-b--push--d4of6,.g-b--push--d8of12{margin-left:66.666%}.g-b--push--d1of4,.g-b--push--d2of8,.g-b--push--d3of12{margin-left:25%}.g-b--push--d3of4,.g-b--push--d6of8,.g-b--push--d9of12{margin-left:75%}.g-b--push--d1of5,.g-b--push--d2of10{margin-left:20%}.g-b--push--d2of5,.g-b--push--d4of10{margin-left:40%}.g-b--push--d3of5,.g-b--push--d6of10{margin-left:60%}.g-b--push--d4of5,.g-b--push--d8of10{margin-left:80%}.g-b--push--d1of6,.g-b--push--d2of12{margin-left:16.666%}.g-b--push--d5of6,.g-b--push--d10of12{margin-left:83.333%}.g-b--push--d1of8{margin-left:12.5%}.g-b--push--d3of8{margin-left:37.5%}.g-b--push--d5of8{margin-left:62.5%}.g-b--push--d7of8{margin-left:87.5%}.g-b--push--d1of10{margin-left:10%}.g-b--push--d3of10{margin-left:30%}.g-b--push--d7of10{margin-left:70%}.g-b--push--d9of10{margin-left:90%}.g-b--push--d1of12{margin-left:8.333%}.g-b--push--d5of12{margin-left:41.666%}.g-b--push--d7of12{margin-left:58.333%}.g-b--push--d11of12{margin-left:91.666%}.g-b--pull--d1of1{margin-right:100%}.g-b--pull--d1of2,.g-b--pull--d2of4,.g-b--pull--d3of6,.g-b--pull--d4of8,.g-b--pull--d5of10,.g-b--pull--d6of12{margin-right:50%}.g-b--pull--d1of3,.g-b--pull--d2of6,.g-b--pull--d4of12{margin-right:33.333%}.g-b--pull--d2of3,.g-b--pull--d4of6,.g-b--pull--d8of12{margin-right:66.666%}.g-b--pull--d1of4,.g-b--pull--d2of8,.g-b--pull--d3of12{margin-right:25%}.g-b--pull--d3of4,.g-b--pull--d6of8,.g-b--pull--d9of12{margin-right:75%}.g-b--pull--d1of5,.g-b--pull--d2of10{margin-right:20%}.g-b--pull--d2of5,.g-b--pull--d4of10{margin-right:40%}.g-b--pull--d3of5,.g-b--pull--d6of10{margin-right:60%}.g-b--pull--d4of5,.g-b--pull--d8of10{margin-right:80%}.g-b--pull--d1of6,.g-b--pull--d2of12{margin-right:16.666%}.g-b--pull--d5of6,.g-b--pull--d10of12{margin-right:83.333%}.g-b--pull--d1of8{margin-right:12.5%}.g-b--pull--d3of8{margin-right:37.5%}.g-b--pull--d5of8{margin-right:62.5%}.g-b--pull--d7of8{margin-right:87.5%}.g-b--pull--d1of10{margin-right:10%}.g-b--pull--d3of10{margin-right:30%}.g-b--pull--d7of10{margin-right:70%}.g-b--pull--d9of10{margin-right:90%}.g-b--pull--d1of12{margin-right:8.333%}.g-b--pull--d5of12{margin-right:41.666%}.g-b--pull--d7of12{margin-right:58.333%}.g-b--pull--d11of12{margin-right:91.666%}.splashscreen-dillinger{width:700px}.splashscreen p{font-size:1.25rem;margin-bottom:1.43749rem;padding-top:.56251rem}.title{font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem}.title-document{font-size:1.25rem;margin-bottom:.89999rem;padding-top:.10001rem}.menu .menu-item--export-as{display:block}.menu .menu-item--preview{display:none}.settings a{font-size:1.25rem}.words,.characters{font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem}.modal--dillinger.about .modal-dialog,#zen{font-size:1.25rem}#zen{width:700px}#editor{font-size:1rem}}@media screen and (min-width:87.5em){html{font-size:.875em}body{font-size:1rem}ul,ol{margin-bottom:.83999rem;padding-top:.16001rem}p{padding-top:.66001rem}p,pre{margin-bottom:1.33999rem}pre,blockquote p{font-size:1rem;padding-top:.66001rem}blockquote p{margin-bottom:.33999rem}h1{font-size:2.0571429rem;margin-bottom:.21999rem;padding-top:.78001rem}h2{font-size:1.953125rem;margin-bottom:.1835837rem;padding-top:.8164163rem}h3{font-size:1.6457143rem;margin-bottom:.07599rem;padding-top:.92401rem}h4{font-size:1.5625rem;margin-bottom:.546865rem;padding-top:.453135rem}h5{font-size:1.25rem;margin-bottom:-.56251rem;padding-top:.56251rem}h6{font-size:1rem;margin-bottom:-.65001rem;padding-top:.65001rem}.splashscreen-dillinger{width:800px}.splashscreen p{font-size:1.25rem;margin-bottom:1.43749rem;padding-top:.56251rem}.title{font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem}.title-document{margin-bottom:.89999rem;padding-top:.10001rem}.title-document,.settings a{font-size:1.25rem}.words,.characters{font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem}.modal--dillinger.about .modal-dialog,#zen{font-size:1.25rem}#editor{font-size:1rem}}@media (min-width:768px){.form-inline .form-group{display:inline-block;margin-bottom:0;vertical-align:middle}.form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}.form-inline .input-group{display:inline-table;vertical-align:middle}.form-inline .input-group .input-group-addon,.form-inline .input-group .input-group-btn,.form-inline .input-group .form-control{width:auto}.form-inline .input-group>.form-control{width:100%}.form-inline .control-label{margin-bottom:0;vertical-align:middle}.form-inline .radio,.form-inline .checkbox{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.form-inline .radio label,.form-inline .checkbox label{padding-left:0}.form-inline .radio input[type="radio"],.form-inline .checkbox input[type="checkbox"]{position:relative;margin-left:0}.form-inline .has-feedback .form-control-feedback{top:0}.form-horizontal .control-label{text-align:right;margin-bottom:0;padding-top:7px}.form-horizontal .form-group-lg .control-label{padding-top:14.3px}.form-horizontal .form-group-sm .control-label{padding-top:6px}.modal-dialog{width:600px;margin:30px auto}.modal-content{box-shadow:0 5px 15px rgba(0,0,0,.5)}.modal-sm{width:300px}}@media (min-width:992px){.modal-lg{width:900px}}@media screen and (max-width:1200px){#_default_{max-width:30%}#_default_ ._default_{font-size:.825rem;line-height:.875rem;padding:12px 12px 6px 24px;text-align:justify}}@media screen and (max-width:1100px){#_default_{max-width:27%}#_default_ ._default_{font-size:.8rem;line-height:.85rem;padding:12px 6px 6px 24px;text-align:justify}}@media screen and (max-width:1000px){#_default_{max-width:24%}#_default_ ._default_{font-size:.775rem;line-height:.8rem;padding:12px 6px 6px 24px;text-align:justify}}@media screen and (max-width:900px){#_default_{max-width:30%}}@media screen and (max-width:767px){.table-responsive{width:100%;margin-bottom:15px;overflow-y:hidden;overflow-x:auto;-ms-overflow-style:-ms-autohiding-scrollbar;border:1px solid #ddd;-webkit-overflow-scrolling:touch}.table-responsive>.table{margin-bottom:0}.table-responsive>.table>thead>tr>th,.table-responsive>.table>thead>tr>td,.table-responsive>.table>tbody>tr>th,.table-responsive>.table>tbody>tr>td,.table-responsive>.table>tfoot>tr>th,.table-responsive>.table>tfoot>tr>td{white-space:nowrap}.table-responsive>.table-bordered{border:0}.table-responsive>.table-bordered>thead>tr>th:first-child,.table-responsive>.table-bordered>thead>tr>td:first-child,.table-responsive>.table-bordered>tbody>tr>th:first-child,.table-responsive>.table-bordered>tbody>tr>td:first-child,.table-responsive>.table-bordered>tfoot>tr>th:first-child,.table-responsive>.table-bordered>tfoot>tr>td:first-child{border-left:0}.table-responsive>.table-bordered>thead>tr>th:last-child,.table-responsive>.table-bordered>thead>tr>td:last-child,.table-responsive>.table-bordered>tbody>tr>th:last-child,.table-responsive>.table-bordered>tbody>tr>td:last-child,.table-responsive>.table-bordered>tfoot>tr>th:last-child,.table-responsive>.table-bordered>tfoot>tr>td:last-child{border-right:0}.table-responsive>.table-bordered>tbody>tr:last-child>th,.table-responsive>.table-bordered>tbody>tr:last-child>td,.table-responsive>.table-bordered>tfoot>tr:last-child>th,.table-responsive>.table-bordered>tfoot>tr:last-child>td{border-bottom:0}}@media screen and (max-width:720px){#_default_{max-width:60%}#_default_ ._default_{font-size:.75rem;line-height:1rem;padding:12px 24px}}@media screen and (max-width:620px){#_default_{max-width:50%}#_default_ ._default_{font-size:.66rem;letter-spacing:1px;line-height:1rem;padding:10px 24px}}@media screen and (max-width:520px){#_default_ ._default_{font-size:.4rem;line-height:.875rem;padding:6px 12px 6px 24px;text-align:justify}}@media screen and (max-width:460px){#_default_{display:none}}@media screen and (max-width:46.1875em){.editor-header{display:none}.editor-header--first{display:block;width:100%}}</style></head><body id="preview">
<h2 class="code-line" data-line-start=0 data-line-end=1 ><a id="SQL_Server_Integration_Guide__0"></a>SQL Server Integration Guide 🚀</h2>
<p class="has-line-data" data-line-start="2" data-line-end="3">This guide will walk you through setting up a Flask backend application with a SQL Server database, creating an Instagram-like clone. We’ll cover database setup, environment configuration, installing dependencies, defining data models, and creating API endpoints.</p>
<hr>
<h3 class="code-line" data-line-start=6 data-line-end=7 ><a id="_Prerequisites_6"></a>🚧 Prerequisites</h3>
<p class="has-line-data" data-line-start="8" data-line-end="9">Before you start, make sure you have the following installed:</p>
<ul>
<li class="has-line-data" data-line-start="10" data-line-end="11"><strong>Python</strong> (version 3.6 or higher)</li>
<li class="has-line-data" data-line-start="11" data-line-end="12"><strong>pip</strong> (Python package installer, usually comes with Python)</li>
<li class="has-line-data" data-line-start="12" data-line-end="13"><strong>SQL Server</strong> (e.g., SQL Server Express Edition)</li>
<li class="has-line-data" data-line-start="13" data-line-end="14"><strong>SQL Server Management Studio (SSMS)</strong> (Recommended for easier database management)</li>
<li class="has-line-data" data-line-start="14" data-line-end="16"><strong>ODBC Driver 17 for SQL Server</strong> (Ensure this is installed for Python to connect to SQL Server. The name must match exactly what’s used in the connection string later.)</li>
</ul>
<hr>
<h3 class="code-line" data-line-start=18 data-line-end=19 ><a id="_Step_1_Set_Up_the_Database_in_SQL_Server_18"></a>💾 Step 1: Set Up the Database in SQL Server</h3>
<p class="has-line-data" data-line-start="20" data-line-end="21">First, we need to prepare your SQL Server instance to host the application’s data.</p>
<ul>
<li class="has-line-data" data-line-start="22" data-line-end="30">
<p class="has-line-data" data-line-start="22" data-line-end="23"><strong>Create a New Database: <code>instagram_clone_db</code></strong></p>
<ul>
<li class="has-line-data" data-line-start="23" data-line-end="24"><strong>Why?</strong> Your application needs a dedicated space to store its data (like user information, posts, likes, etc.).</li>
<li class="has-line-data" data-line-start="24" data-line-end="30"><strong>How?</strong> (Using SSMS)
<ol>
<li class="has-line-data" data-line-start="25" data-line-end="26">Open SQL Server Management Studio (SSMS) and connect to your SQL Server instance.</li>
<li class="has-line-data" data-line-start="26" data-line-end="27">In the Object Explorer, right-click on the “Databases” folder.</li>
<li class="has-line-data" data-line-start="27" data-line-end="28">Select “New Database…”.</li>
<li class="has-line-data" data-line-start="28" data-line-end="30">Enter <code>instagram_clone_db</code> as the database name and click “OK”.</li>
</ol>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="30" data-line-end="48">
<p class="has-line-data" data-line-start="30" data-line-end="31"><strong>Create a New SQL Server User</strong></p>
<ul>
<li class="has-line-data" data-line-start="31" data-line-end="32"><strong>Why?</strong> It’s a good security practice for your application to connect to the database with its own user, rather than using a highly privileged account (like <code>sa</code>). This user will have specific permissions tailored to the application’s needs.</li>
<li class="has-line-data" data-line-start="32" data-line-end="48"><strong>How?</strong> (Using SSMS)
<ol>
<li class="has-line-data" data-line-start="33" data-line-end="34">In SSMS, under your SQL Server instance, expand the “Security” folder.</li>
<li class="has-line-data" data-line-start="34" data-line-end="35">Right-click on “Logins” and select “New Login…”.</li>
<li class="has-line-data" data-line-start="35" data-line-end="36">Enter a <strong>Login name</strong> (e.g., <code>instagram_app_user</code>). This will be your <code>DB_USER</code> later.</li>
<li class="has-line-data" data-line-start="36" data-line-end="37">Select “SQL Server authentication”.</li>
<li class="has-line-data" data-line-start="37" data-line-end="38">Enter a strong <strong>Password</strong> and confirm it. This will be your <code>DB_PASSWORD</code>.</li>
<li class="has-line-data" data-line-start="38" data-line-end="39">Uncheck “Enforce password policy” for simplicity in a local development environment if desired, but remember to use strong policies for production.</li>
<li class="has-line-data" data-line-start="39" data-line-end="40">Go to the “User Mapping” page (on the left).</li>
<li class="has-line-data" data-line-start="40" data-line-end="41">In the list of databases, check the box next to your <code>instagram_clone_db</code> database.</li>
<li class="has-line-data" data-line-start="41" data-line-end="46">In the “Database role membership for: instagram_clone_db” panel at the bottom, check the following roles:
<ul>
<li class="has-line-data" data-line-start="42" data-line-end="43"><code>db_datareader</code>: Allows the user to read data from all tables.</li>
<li class="has-line-data" data-line-start="43" data-line-end="44"><code>db_datawriter</code>: Allows the user to write, modify, and delete data in all tables.</li>
<li class="has-line-data" data-line-start="44" data-line-end="45"><code>db_ddladmin</code>: Allows the user to run Data Definition Language (DDL) commands (like CREATE, ALTER, DROP tables). This is necessary for Flask-Migrate to manage database schema changes.</li>
<li class="has-line-data" data-line-start="45" data-line-end="46"><strong>Explanation</strong>: These roles provide a good balance of permissions for an application user that also handles database migrations during development. For a production environment, you might further restrict <code>db_ddladmin</code> privileges to be used only during deployment/migration processes.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="46" data-line-end="48">Click “OK”.</li>
</ol>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="48" data-line-end="51">
<p class="has-line-data" data-line-start="48" data-line-end="49"><strong>Note Down Your Credentials</strong></p>
<ul>
<li class="has-line-data" data-line-start="49" data-line-end="51">Make sure you remember the <strong>DB_SERVER</strong> name (e.g., <code>localhost\SQLEXPRESS01</code> or your server’s name/IP), the <strong>DB_USER</strong> (e.g., <code>instagram_app_user</code>), and the <strong>DB_PASSWORD</strong> you just created. You’ll need these for the <code>.env</code> file.</li>
</ul>
</li>
</ul>
<hr>
<h3 class="code-line" data-line-start=53 data-line-end=54 ><a id="_Step_2_Create_a_env_File_for_Configuration_53"></a>🔒 Step 2: Create a <code>.env</code> File for Configuration</h3>
<p class="has-line-data" data-line-start="55" data-line-end="56">A <code>.env</code> file is used to store environment-specific configurations, like database credentials and secret keys, outside of your codebase. This keeps sensitive information secure and makes it easy to change settings for different environments (development, production).</p>
<p class="has-line-data" data-line-start="57" data-line-end="58">Create a file named <code>.env</code> in the root directory of your backend project with the following content. <strong>Remember to replace placeholder values with your actual information.</strong></p>
<pre><code class="has-line-data" data-line-start="60" data-line-end="73" class="language-env"># Flask application settings
FLASK_APP=app.py
FLASK_ENV=development # Can be 'production' for deployment

# A strong, unique secret key for session management and security features
SECRET_KEY=your-super-secret-key-change-me-to-something-random

# SQL Server Database connection details
DB_SERVER=localhost\SQLEXPRESS01 # Or your SQL Server instance name
DB_NAME=instagram_clone_db
DB_USER=your_db_user_name # The user you created in Step 1
DB_PASSWORD=your_db_user_password # The password for the user
</code></pre>
<ul>
<li class="has-line-data" data-line-start="74" data-line-end="75"><code>FLASK_APP</code>: Tells Flask where your application instance is.</li>
<li class="has-line-data" data-line-start="75" data-line-end="76"><code>FLASK_ENV</code>: Sets the environment; <code>development</code> enables debug mode and other helpful features.</li>
<li class="has-line-data" data-line-start="76" data-line-end="77"><code>SECRET_KEY</code>: Used by Flask for cryptographic operations (e.g., signing session cookies). <strong>Make this a long, random, and unique string.</strong></li>
<li class="has-line-data" data-line-start="77" data-line-end="79"><code>DB_SERVER</code>, <code>DB_NAME</code>, <code>DB_USER</code>, <code>DB_PASSWORD</code>: These are the credentials your application will use to connect to the SQL Server database you set up.</li>
</ul>
<hr>
<h3 class="code-line" data-line-start=81 data-line-end=82 ><a id="_Step_3_Install_Dependencies_81"></a>📦 Step 3: Install Dependencies</h3>
<p class="has-line-data" data-line-start="83" data-line-end="84">These Python packages provide essential functionalities for your Flask application, such as database interaction and migrations.</p>
<p class="has-line-data" data-line-start="85" data-line-end="86">Open your terminal or command prompt and run:</p>
<pre><code class="has-line-data" data-line-start="88" data-line-end="90" class="language-bash">pip install flask flask-sqlalchemy flask-migrate alembic python-dotenv pyodbc Werkzeug PyJWT flask-cors
</code></pre>
<ul>
<li class="has-line-data" data-line-start="91" data-line-end="92"><strong>flask</strong>: The core web framework.</li>
<li class="has-line-data" data-line-start="92" data-line-end="93"><strong>flask-sqlalchemy</strong>: An extension that adds SQLAlchemy (Object Relational Mapper) support to Flask, allowing you to interact with your database using Python objects.</li>
<li class="has-line-data" data-line-start="93" data-line-end="94"><strong>flask-migrate</strong>: An extension that handles SQLAlchemy database migrations using Alembic. This helps you manage changes to your database schema over time.</li>
<li class="has-line-data" data-line-start="94" data-line-end="95"><strong>alembic</strong>: The database migration tool used by Flask-Migrate.</li>
<li class="has-line-data" data-line-start="95" data-line-end="96"><strong>python-dotenv</strong>: A module to load environment variables from the <code>.env</code> file.</li>
<li class="has-line-data" data-line-start="96" data-line-end="97"><strong>pyodbc</strong>: A Python DB API 2.0 module for ODBC, which is needed to connect to SQL Server.</li>
<li class="has-line-data" data-line-start="97" data-line-end="98"><strong>Werkzeug</strong>: A comprehensive WSGI web application library. Flask is built on top of it. (<code>generate_password_hash</code> and <code>check_password_hash</code> come from here).</li>
<li class="has-line-data" data-line-start="98" data-line-end="99"><strong>PyJWT</strong>: A Python library for encoding and decoding JSON Web Tokens (JWTs), used for authentication.</li>
<li class="has-line-data" data-line-start="99" data-line-end="101"><strong>flask-cors</strong>: An extension for handling Cross-Origin Resource Sharing (CORS), making it possible for your frontend (if served from a different domain/port) to make requests to this backend.</li>
</ul>
<hr>
<h3 class="code-line" data-line-start=103 data-line-end=104 ><a id="_Step_4_Define_Data_Models_modelspy_103"></a>🧱 Step 4: Define Data Models (<code>models.py</code>)</h3>
<p class="has-line-data" data-line-start="105" data-line-end="106">Models are Python classes that represent the tables in your database. SQLAlchemy uses these models to translate Python code into SQL database operations.</p>
<p class="has-line-data" data-line-start="107" data-line-end="108">Create a file named <code>models.py</code> (if it doesn’t exist) and add the following code:</p>
<pre><code class="has-line-data" data-line-start="110" data-line-end="185" class="language-python"><span class="hljs-keyword">from</span> flask_sqlalchemy <span class="hljs-keyword">import</span> SQLAlchemy
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime

<span class="hljs-comment"># Initialize SQLAlchemy. This instance will be configured with the Flask app later.</span>
db = SQLAlchemy()


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span><span class="hljs-params">(db.Model)</span>:</span>
    __tablename__ = <span class="hljs-string">'users'</span>  <span class="hljs-comment"># Explicitly names the table in the database</span>

    <span class="hljs-comment"># Columns for the 'users' table</span>
    id = db.Column(db.Integer, primary_key=<span class="hljs-keyword">True</span>)  <span class="hljs-comment"># Unique identifier for each user</span>
    username = db.Column(db.String(<span class="hljs-number">50</span>), unique=<span class="hljs-keyword">True</span>, nullable=<span class="hljs-keyword">False</span>) <span class="hljs-comment"># User's chosen username, must be unique and not empty</span>
    password = db.Column(db.String(<span class="hljs-number">255</span>), nullable=<span class="hljs-keyword">False</span>) <span class="hljs-comment"># Hashed password, not empty</span>
    created_at = db.Column(db.DateTime, default=datetime.utcnow) <span class="hljs-comment"># Timestamp of when the user was created</span>

    <span class="hljs-comment"># Relationships: Define how users relate to other models (posts, likes, comments)</span>
    <span class="hljs-comment"># 'backref' creates a virtual 'author' attribute on the Post, Like, and Comment models</span>
    <span class="hljs-comment"># 'lazy=True' means SQLAlchemy will load the related objects as needed</span>
    posts = db.relationship(<span class="hljs-string">'Post'</span>, backref=<span class="hljs-string">'author'</span>, lazy=<span class="hljs-keyword">True</span>)
    likes = db.relationship(<span class="hljs-string">'Like'</span>, backref=<span class="hljs-string">'user'</span>, lazy=<span class="hljs-keyword">True</span>)
    comments = db.relationship(<span class="hljs-string">'Comment'</span>, backref=<span class="hljs-string">'author'</span>, lazy=<span class="hljs-keyword">True</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__repr__</span><span class="hljs-params">(self)</span>:</span> <span class="hljs-comment"># Optional: a string representation for debugging</span>
        <span class="hljs-keyword">return</span> f<span class="hljs-string">"&lt;User {self.username}&gt;"</span>


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Post</span><span class="hljs-params">(db.Model)</span>:</span>
    __tablename__ = <span class="hljs-string">'posts'</span>

    id = db.Column(db.Integer, primary_key=<span class="hljs-keyword">True</span>)
    <span class="hljs-comment"># Foreign Key: Links this post to a user. 'users.id' refers to the 'id' column in the 'users' table.</span>
    user_id = db.Column(db.Integer, db.ForeignKey(<span class="hljs-string">'users.id'</span>), nullable=<span class="hljs-keyword">False</span>)
    image_url = db.Column(db.String(<span class="hljs-number">255</span>), nullable=<span class="hljs-keyword">False</span>) <span class="hljs-comment"># URL of the posted image</span>
    caption = db.Column(db.Text) <span class="hljs-comment"># Optional text accompanying the image</span>
    created_at = db.Column(db.DateTime, default=datetime.utcnow)

    <span class="hljs-comment"># Relationships</span>
    <span class="hljs-comment"># 'cascade="all, delete-orphan"' ensures that if a post is deleted, its associated likes and comments are also deleted.</span>
    likes = db.relationship(<span class="hljs-string">'Like'</span>, backref=<span class="hljs-string">'post'</span>, lazy=<span class="hljs-keyword">True</span>, cascade=<span class="hljs-string">"all, delete-orphan"</span>)
    comments = db.relationship(<span class="hljs-string">'Comment'</span>, backref=<span class="hljs-string">'post'</span>, lazy=<span class="hljs-keyword">True</span>, cascade=<span class="hljs-string">"all, delete-orphan"</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__repr__</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">return</span> f<span class="hljs-string">"&lt;Post {self.id}&gt;"</span>


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Like</span><span class="hljs-params">(db.Model)</span>:</span>
    __tablename__ = <span class="hljs-string">'likes'</span>

    id = db.Column(db.Integer, primary_key=<span class="hljs-keyword">True</span>)
    user_id = db.Column(db.Integer, db.ForeignKey(<span class="hljs-string">'users.id'</span>), nullable=<span class="hljs-keyword">False</span>) <span class="hljs-comment"># User who liked the post</span>
    post_id = db.Column(db.Integer, db.ForeignKey(<span class="hljs-string">'posts.id'</span>), nullable=<span class="hljs-keyword">False</span>) <span class="hljs-comment"># Post that was liked</span>
    created_at = db.Column(db.DateTime, default=datetime.utcnow)

    <span class="hljs-comment"># Table arguments: Define constraints that apply to the whole table</span>
    <span class="hljs-comment"># UniqueConstraint ensures a user can only like a specific post once.</span>
    __table_args__ = (db.UniqueConstraint(<span class="hljs-string">'user_id'</span>, <span class="hljs-string">'post_id'</span>, name=<span class="hljs-string">'unique_like'</span>),)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__repr__</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">return</span> f<span class="hljs-string">"&lt;Like user_id={self.user_id} post_id={self.post_id}&gt;"</span>


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Comment</span><span class="hljs-params">(db.Model)</span>:</span>
    __tablename__ = <span class="hljs-string">'comments'</span>

    id = db.Column(db.Integer, primary_key=<span class="hljs-keyword">True</span>)
    user_id = db.Column(db.Integer, db.ForeignKey(<span class="hljs-string">'users.id'</span>), nullable=<span class="hljs-keyword">False</span>) <span class="hljs-comment"># User who wrote the comment</span>
    post_id = db.Column(db.Integer, db.ForeignKey(<span class="hljs-string">'posts.id'</span>), nullable=<span class="hljs-keyword">False</span>) <span class="hljs-comment"># Post that was commented on</span>
    content = db.Column(db.Text, nullable=<span class="hljs-keyword">False</span>) <span class="hljs-comment"># The actual text of the comment</span>
    created_at = db.Column(db.DateTime, default=datetime.utcnow)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__repr__</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">return</span> f<span class="hljs-string">"&lt;Comment {self.id} by user_id={self.user_id}&gt;"</span>

</code></pre>
<ul>
<li class="has-line-data" data-line-start="185" data-line-end="186"><strong><code>db = SQLAlchemy()</code></strong>: Initializes the SQLAlchemy object. This object will be linked to your Flask app to enable database operations.</li>
<li class="has-line-data" data-line-start="186" data-line-end="187"><strong><code>class User(db.Model):</code></strong>: Defines a model. Each class inheriting from <code>db.Model</code> represents a table in the database.</li>
<li class="has-line-data" data-line-start="187" data-line-end="188"><strong><code>__tablename__ = 'users'</code></strong>: Specifies the actual table name in the SQL database.</li>
<li class="has-line-data" data-line-start="188" data-line-end="193"><strong><code>db.Column(...)</code></strong>: Defines a column in the table with a specific data type (e.g., <code>db.Integer</code>, <code>db.String</code>, <code>db.DateTime</code>).
<ul>
<li class="has-line-data" data-line-start="189" data-line-end="190"><code>primary_key=True</code>: Marks this column as the primary key for the table.</li>
<li class="has-line-data" data-line-start="190" data-line-end="191"><code>unique=True</code>: Ensures values in this column are unique across all rows.</li>
<li class="has-line-data" data-line-start="191" data-line-end="192"><code>nullable=False</code>: Means this column cannot have a NULL value.</li>
<li class="has-line-data" data-line-start="192" data-line-end="193"><code>default=datetime.utcnow</code>: Sets a default value for the column if none is provided.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="193" data-line-end="194"><strong><code>db.ForeignKey('users.id')</code></strong>: Creates a foreign key constraint, linking a column in one table to a column (usually the primary key) in another table. This enforces referential integrity.</li>
<li class="has-line-data" data-line-start="194" data-line-end="198"><strong><code>db.relationship(...)</code></strong>: Defines relationships between models (e.g., a User can have many Posts). This doesn’t create a database column but allows SQLAlchemy to manage and query related objects easily.
<ul>
<li class="has-line-data" data-line-start="195" data-line-end="196"><code>backref</code>: Adds a convenient attribute to the related model to navigate back to the source model. For example, <code>Post.author</code> will give you the User object who created the post.</li>
<li class="has-line-data" data-line-start="196" data-line-end="197"><code>lazy=True</code>: Specifies that related objects should be loaded from the database only when accessed.</li>
<li class="has-line-data" data-line-start="197" data-line-end="198"><code>cascade=&quot;all, delete-orphan&quot;</code>: Ensures that if a parent object (e.g., a Post) is deleted, its dependent children (e.g., Likes, Comments) are also deleted.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="198" data-line-end="200"><strong><code>__table_args__</code></strong>: Allows specifying table-level constraints, like the <code>UniqueConstraint</code> in the <code>Like</code> model to prevent duplicate likes.</li>
</ul>
<hr>
<h3 class="code-line" data-line-start=202 data-line-end=203 ><a id="_Step_5_Update_apppy_Your_Main_Flask_Application_File_202"></a>⚙️ Step 5: Update <code>app.py</code> (Your Main Flask Application File)</h3>
<p class="has-line-data" data-line-start="204" data-line-end="205">This file will contain your Flask application setup, database initialization, and API route definitions.</p>
<p class="has-line-data" data-line-start="206" data-line-end="207">Ensure your <code>app.py</code> looks like this:</p>
<pre><code class="has-line-data" data-line-start="209" data-line-end="542" class="language-python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, jsonify, request
<span class="hljs-keyword">from</span> flask_cors <span class="hljs-keyword">import</span> CORS <span class="hljs-comment"># For handling Cross-Origin Resource Sharing</span>
<span class="hljs-keyword">import</span> os <span class="hljs-comment"># For accessing environment variables</span>
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime, timedelta <span class="hljs-comment"># For setting token expiration</span>
<span class="hljs-keyword">from</span> werkzeug.security <span class="hljs-keyword">import</span> generate_password_hash, check_password_hash <span class="hljs-comment"># For password hashing</span>
<span class="hljs-keyword">import</span> jwt <span class="hljs-comment"># For generating and verifying JSON Web Tokens (JWT)</span>
<span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> wraps <span class="hljs-comment"># For creating decorators</span>
<span class="hljs-keyword">from</span> flask_migrate <span class="hljs-keyword">import</span> Migrate <span class="hljs-comment"># For database migrations</span>
<span class="hljs-keyword">from</span> models <span class="hljs-keyword">import</span> db, User, Post, Like, Comment <span class="hljs-comment"># Your database models</span>
<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv <span class="hljs-comment"># For loading .env file</span>

load_dotenv() <span class="hljs-comment"># Load environment variables from .env file at the start</span>

<span class="hljs-comment"># Initialize Flask App</span>
app = Flask(__name__)
CORS(app)  <span class="hljs-comment"># Enable CORS for all routes, allowing requests from your frontend</span>

<span class="hljs-comment"># Configure Secret Key for JWT and session management</span>
<span class="hljs-comment"># It reads from the .env file, with a fallback for safety (though .env is preferred)</span>
app.config[<span class="hljs-string">'SECRET_KEY'</span>] = os.environ.get(<span class="hljs-string">'SECRET_KEY'</span>, <span class="hljs-string">'your-super-secret-key-change-me-in-env'</span>)

<span class="hljs-comment"># Database Configuration using f-string to build the connection URI</span>
<span class="hljs-comment"># This string tells SQLAlchemy how to connect to your SQL Server database.</span>
<span class="hljs-comment"># It uses pyodbc as the driver.</span>
db_user = os.getenv(<span class="hljs-string">"DB_USER"</span>)
db_password = os.getenv(<span class="hljs-string">"DB_PASSWORD"</span>)
db_server = os.getenv(<span class="hljs-string">"DB_SERVER"</span>)
db_name = os.getenv(<span class="hljs-string">"DB_NAME"</span>)

<span class="hljs-comment"># IMPORTANT: Ensure 'ODBC Driver 17 for SQL Server' exactly matches the name</span>
<span class="hljs-comment"># of the ODBC driver installed on your system. Spaces in the driver name</span>
<span class="hljs-comment"># should be replaced with '+' characters in the connection string.</span>
<span class="hljs-comment"># If you have a different driver (e.g., 'SQL Server Native Client 11.0'),</span>
<span class="hljs-comment"># update the driver name accordingly.</span>
app.config[<span class="hljs-string">'SQLALCHEMY_DATABASE_URI'</span>] = f<span class="hljs-string">'mssql+pyodbc://{db_user}:{db_password}@{db_server}/{db_name}?driver=ODBC+Driver+17+for+SQL+Server'</span>

<span class="hljs-comment"># Disable SQLAlchemy event system if not needed, to save resources</span>
app.config[<span class="hljs-string">'SQLALCHEMY_TRACK_MODIFICATIONS'</span>] = <span class="hljs-keyword">False</span>

<span class="hljs-comment"># Initialize SQLAlchemy with the Flask app</span>
db.init_app(app)
<span class="hljs-comment"># Initialize Flask-Migrate for handling database schema migrations</span>
migrate = Migrate(app, db)


<span class="hljs-comment"># --- JWT Authentication Decorator ---</span>
<span class="hljs-comment"># This decorator can be used to protect routes that require a valid token.</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">token_required</span><span class="hljs-params">(f)</span>:</span>
<span class="hljs-decorator">    @wraps(f)</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">decorated</span><span class="hljs-params">(*args, **kwargs)</span>:</span>
        token = <span class="hljs-keyword">None</span>
        <span class="hljs-comment"># JWT is typically sent in the Authorization header as "Bearer &lt;token&gt;"</span>
        <span class="hljs-keyword">if</span> <span class="hljs-string">'Authorization'</span> <span class="hljs-keyword">in</span> request.headers:
            auth_header = request.headers[<span class="hljs-string">'Authorization'</span>]
            <span class="hljs-keyword">try</span>:
                <span class="hljs-comment"># Get token part after "Bearer "</span>
                token = auth_header.split(<span class="hljs-string">' '</span>)[<span class="hljs-number">1</span>]
            <span class="hljs-keyword">except</span> IndexError:
                <span class="hljs-comment"># Malformed header, token remains None</span>
                <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Bearer token malformed!'</span>}), <span class="hljs-number">401</span>

        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> token:
            <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Token is missing!'</span>}), <span class="hljs-number">401</span> <span class="hljs-comment"># Unauthorized</span>

        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># Decode the token using the app's SECRET_KEY</span>
            <span class="hljs-comment"># This will raise an exception if the token is invalid or expired</span>
            data = jwt.decode(token, app.config[<span class="hljs-string">'SECRET_KEY'</span>], algorithms=[<span class="hljs-string">'HS256'</span>])
            <span class="hljs-comment"># Fetch the user from the database based on the 'user_id' in the token payload</span>
            current_user = User.query.get(data[<span class="hljs-string">'user_id'</span>])

            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> current_user:
                <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'User from token not found!'</span>}), <span class="hljs-number">401</span> <span class="hljs-comment"># Unauthorized</span>

        <span class="hljs-keyword">except</span> jwt.ExpiredSignatureError:
            <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Token has expired!'</span>}), <span class="hljs-number">401</span> <span class="hljs-comment"># Unauthorized</span>
        <span class="hljs-keyword">except</span> jwt.InvalidTokenError:
            <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Token is invalid!'</span>}), <span class="hljs-number">401</span> <span class="hljs-comment"># Unauthorized</span>
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            print(f<span class="hljs-string">"Token verification error: {e}"</span>)
            <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'An error occurred during token verification!'</span>}), <span class="hljs-number">500</span>

        <span class="hljs-comment"># Pass the authenticated user object to the decorated route function</span>
        <span class="hljs-keyword">return</span> f(current_user, *args, **kwargs)
    <span class="hljs-keyword">return</span> decorated


<span class="hljs-comment"># --- API Endpoints ---</span>

<span class="hljs-comment"># == User Authentication ==</span>
<span class="hljs-decorator">@app.route('/signup', methods=['POST'])</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">signup</span><span class="hljs-params">()</span>:</span>
    <span class="hljs-string">"""Registers a new user."""</span>
    data = request.json
    username = data.get(<span class="hljs-string">'username'</span>)
    password = data.get(<span class="hljs-string">'password'</span>)

    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> username <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> password:
        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Missing username or password'</span>}), <span class="hljs-number">400</span> <span class="hljs-comment"># Bad Request</span>

    <span class="hljs-keyword">if</span> User.query.filter_by(username=username).first():
        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Username already exists'</span>}), <span class="hljs-number">409</span> <span class="hljs-comment"># Conflict</span>

    hashed_password = generate_password_hash(password)
    new_user = User(username=username, password=hashed_password)

    <span class="hljs-keyword">try</span>:
        db.session.add(new_user)
        db.session.commit()

        <span class="hljs-comment"># Generate a token for the new user upon successful signup</span>
        token_payload = {
            <span class="hljs-string">'user_id'</span>: new_user.id,
            <span class="hljs-string">'username'</span>: new_user.username,
            <span class="hljs-string">'exp'</span>: datetime.utcnow() + timedelta(days=<span class="hljs-number">1</span>) <span class="hljs-comment"># Token expires in 1 day</span>
        }
        token = jwt.encode(token_payload, app.config[<span class="hljs-string">'SECRET_KEY'</span>], algorithm=<span class="hljs-string">'HS256'</span>)

        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'User created successfully'</span>, <span class="hljs-string">'username'</span>: username, <span class="hljs-string">'token'</span>: token}), <span class="hljs-number">201</span> <span class="hljs-comment"># Created</span>
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        db.session.rollback() <span class="hljs-comment"># Rollback in case of error</span>
        print(f<span class="hljs-string">"Error during signup: {e}"</span>)
        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'An error occurred during signup'</span>}), <span class="hljs-number">500</span> <span class="hljs-comment"># Internal Server Error</span>


<span class="hljs-decorator">@app.route('/login', methods=['POST'])</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">login</span><span class="hljs-params">()</span>:</span>
    <span class="hljs-string">"""Logs in an existing user."""</span>
    data = request.json
    username = data.get(<span class="hljs-string">'username'</span>)
    password = data.get(<span class="hljs-string">'password'</span>)

    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> username <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> password:
        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Missing username or password'</span>}), <span class="hljs-number">400</span>

    user = User.query.filter_by(username=username).first()

    <span class="hljs-comment"># Check if user exists and password hash matches</span>
    <span class="hljs-keyword">if</span> user <span class="hljs-keyword">and</span> check_password_hash(user.password, password):
        token_payload = {
            <span class="hljs-string">'user_id'</span>: user.id,
            <span class="hljs-string">'username'</span>: user.username,
            <span class="hljs-string">'exp'</span>: datetime.utcnow() + timedelta(days=<span class="hljs-number">1</span>) <span class="hljs-comment"># Token expires in 1 day</span>
        }
        token = jwt.encode(token_payload, app.config[<span class="hljs-string">'SECRET_KEY'</span>], algorithm=<span class="hljs-string">'HS256'</span>)
        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Login successful'</span>, <span class="hljs-string">'username'</span>: user.username, <span class="hljs-string">'token'</span>: token}), <span class="hljs-number">200</span> <span class="hljs-comment"># OK</span>
    
    <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Invalid credentials'</span>}), <span class="hljs-number">401</span> <span class="hljs-comment"># Unauthorized</span>


<span class="hljs-comment"># == Posts ==</span>
<span class="hljs-decorator">@app.route('/posts', methods=['GET'])</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_posts</span><span class="hljs-params">()</span>:</span>
    <span class="hljs-string">"""Retrieves all posts, ordered by creation date."""</span>
    posts = Post.query.order_by(Post.created_at.desc()).all()
    posts_list = []

    <span class="hljs-keyword">for</span> post <span class="hljs-keyword">in</span> posts:
        posts_list.append({
            <span class="hljs-string">'id'</span>: post.id,
            <span class="hljs-string">'userId'</span>: post.user_id,
            <span class="hljs-string">'imageUrl'</span>: post.image_url,
            <span class="hljs-string">'caption'</span>: post.caption,
            <span class="hljs-string">'createdAt'</span>: post.created_at.isoformat(), <span class="hljs-comment"># Use ISO format for dates</span>
            <span class="hljs-string">'authorUsername'</span>: post.author.username, <span class="hljs-comment"># Accessing username via backref</span>
            <span class="hljs-string">'likesCount'</span>: len(post.likes), <span class="hljs-comment"># Efficiently get count of likes</span>
            <span class="hljs-string">'commentsCount'</span>: len(post.comments) <span class="hljs-comment"># Efficiently get count of comments</span>
        })
    <span class="hljs-keyword">return</span> jsonify(posts_list)


<span class="hljs-decorator">@app.route('/posts', methods=['POST'])</span>
<span class="hljs-decorator">@token_required # Protect this endpoint - only authenticated users can create posts</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create_post</span><span class="hljs-params">(current_user)</span>:</span> <span class="hljs-comment"># The decorator passes the authenticated user object here</span>
    <span class="hljs-string">"""Creates a new post for the authenticated user."""</span>
    data = request.json
    image_url = data.get(<span class="hljs-string">'imageUrl'</span>)
    caption = data.get(<span class="hljs-string">'caption'</span>, <span class="hljs-string">''</span>) <span class="hljs-comment"># Caption is optional, default to empty string</span>

    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> image_url <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> image_url.strip():
        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Image URL is required'</span>}), <span class="hljs-number">400</span>

    <span class="hljs-keyword">try</span>:
        new_post = Post(
            user_id=current_user.id, <span class="hljs-comment"># Associate post with the logged-in user</span>
            image_url=image_url,
            caption=caption
        )
        db.session.add(new_post)
        db.session.commit()

        <span class="hljs-comment"># Return the created post data, including counts which will be 0</span>
        <span class="hljs-keyword">return</span> jsonify({
            <span class="hljs-string">'id'</span>: new_post.id,
            <span class="hljs-string">'userId'</span>: new_post.user_id,
            <span class="hljs-string">'imageUrl'</span>: new_post.image_url,
            <span class="hljs-string">'caption'</span>: new_post.caption,
            <span class="hljs-string">'createdAt'</span>: new_post.created_at.isoformat(),
            <span class="hljs-string">'authorUsername'</span>: current_user.username, <span class="hljs-comment"># Use current_user directly</span>
            <span class="hljs-string">'likesCount'</span>: <span class="hljs-number">0</span>,
            <span class="hljs-string">'commentsCount'</span>: <span class="hljs-number">0</span>
        }), <span class="hljs-number">201</span> <span class="hljs-comment"># Created</span>
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        db.session.rollback()
        print(f<span class="hljs-string">"Error creating post: {e}"</span>)
        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'An error occurred while creating the post'</span>}), <span class="hljs-number">500</span>


<span class="hljs-comment"># == Likes ==</span>
<span class="hljs-decorator">@app.route('/posts/&lt;int:post_id&gt;/like', methods=['POST'])</span>
<span class="hljs-decorator">@token_required # Protect this endpoint</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">like_post</span><span class="hljs-params">(current_user, post_id)</span>:</span>
    <span class="hljs-string">"""Allows an authenticated user to like a post."""</span>
    post = Post.query.get_or_404(post_id) <span class="hljs-comment"># Get post or return 404 if not found</span>

    <span class="hljs-comment"># Check if the user has already liked this post</span>
    <span class="hljs-keyword">if</span> Like.query.filter_by(user_id=current_user.id, post_id=post_id).first():
        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Post already liked by this user'</span>}), <span class="hljs-number">409</span> <span class="hljs-comment"># Conflict</span>

    <span class="hljs-keyword">try</span>:
        new_like = Like(user_id=current_user.id, post_id=post_id)
        db.session.add(new_like)
        db.session.commit()

        <span class="hljs-keyword">return</span> jsonify({
            <span class="hljs-string">'message'</span>: <span class="hljs-string">'Post liked successfully'</span>,
            <span class="hljs-string">'likesCount'</span>: len(post.likes) <span class="hljs-comment"># Return updated like count for the post</span>
        }), <span class="hljs-number">200</span> <span class="hljs-comment"># OK</span>
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        db.session.rollback()
        print(f<span class="hljs-string">"Error liking post: {e}"</span>)
        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'An error occurred while liking the post'</span>}), <span class="hljs-number">500</span>


<span class="hljs-decorator">@app.route('/posts/&lt;int:post_id&gt;/unlike', methods=['DELETE'])</span>
<span class="hljs-decorator">@token_required # Protect this endpoint</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">unlike_post</span><span class="hljs-params">(current_user, post_id)</span>:</span>
    <span class="hljs-string">"""Allows an authenticated user to unlike a post."""</span>
    post = Post.query.get_or_404(post_id) <span class="hljs-comment"># Ensure post exists</span>
    like = Like.query.filter_by(user_id=current_user.id, post_id=post_id).first()

    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> like:
        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Post not liked by this user or like not found'</span>}), <span class="hljs-number">404</span> <span class="hljs-comment"># Not Found (or 409 Conflict)</span>

    <span class="hljs-keyword">try</span>:
        db.session.delete(like)
        db.session.commit()

        <span class="hljs-keyword">return</span> jsonify({
            <span class="hljs-string">'message'</span>: <span class="hljs-string">'Post unliked successfully'</span>,
            <span class="hljs-string">'likesCount'</span>: len(post.likes) <span class="hljs-comment"># Return updated like count</span>
        }), <span class="hljs-number">200</span> <span class="hljs-comment"># OK</span>
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        db.session.rollback()
        print(f<span class="hljs-string">"Error unliking post: {e}"</span>)
        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'An error occurred while unliking the post'</span>}), <span class="hljs-number">500</span>


<span class="hljs-comment"># == Comments ==</span>
<span class="hljs-decorator">@app.route('/posts/&lt;int:post_id&gt;/comments', methods=['GET'])</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_comments</span><span class="hljs-params">(post_id)</span>:</span>
    <span class="hljs-string">"""Retrieves all comments for a specific post."""</span>
    post = Post.query.get_or_404(post_id) <span class="hljs-comment"># Ensure post exists</span>
    
    <span class="hljs-comment"># Order comments by creation date (e.g., oldest first, or .desc() for newest first)</span>
    comments_ordered = Comment.query.filter_by(post_id=post_id).order_by(Comment.created_at.asc()).all()
    
    comments_list = [{
        <span class="hljs-string">'id'</span>: comment.id,
        <span class="hljs-string">'userId'</span>: comment.user_id,
        <span class="hljs-string">'postId'</span>: comment.post_id,
        <span class="hljs-string">'content'</span>: comment.content,
        <span class="hljs-string">'createdAt'</span>: comment.created_at.isoformat(),
        <span class="hljs-string">'authorUsername'</span>: comment.author.username <span class="hljs-comment"># Access username via backref</span>
    } <span class="hljs-keyword">for</span> comment <span class="hljs-keyword">in</span> comments_ordered]

    <span class="hljs-keyword">return</span> jsonify(comments_list)


<span class="hljs-decorator">@app.route('/posts/&lt;int:post_id&gt;/comments', methods=['POST'])</span>
<span class="hljs-decorator">@token_required # Protect this endpoint</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">add_comment</span><span class="hljs-params">(current_user, post_id)</span>:</span>
    <span class="hljs-string">"""Adds a comment to a specific post by an authenticated user."""</span>
    data = request.json
    content = data.get(<span class="hljs-string">'content'</span>)

    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> content <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> content.strip():
        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Comment content is required'</span>}), <span class="hljs-number">400</span>

    post = Post.query.get_or_404(post_id) <span class="hljs-comment"># Ensure post exists</span>

    <span class="hljs-keyword">try</span>:
        new_comment = Comment(
            user_id=current_user.id,
            post_id=post_id,
            content=content
        )
        db.session.add(new_comment)
        db.session.commit()

        <span class="hljs-comment"># Return the newly created comment and the updated count</span>
        <span class="hljs-keyword">return</span> jsonify({
            <span class="hljs-string">'message'</span>: <span class="hljs-string">'Comment added successfully'</span>,
            <span class="hljs-string">'comment'</span>: {
                <span class="hljs-string">'id'</span>: new_comment.id,
                <span class="hljs-string">'userId'</span>: new_comment.user_id,
                <span class="hljs-string">'postId'</span>: new_comment.post_id,
                <span class="hljs-string">'content'</span>: new_comment.content,
                <span class="hljs-string">'createdAt'</span>: new_comment.created_at.isoformat(),
                <span class="hljs-string">'authorUsername'</span>: new_comment.author.username <span class="hljs-comment"># Access username via backref on Comment</span>
            },
            <span class="hljs-string">'commentsCount'</span>: len(post.comments) <span class="hljs-comment"># Updated comment count for the post</span>
        }), <span class="hljs-number">201</span> <span class="hljs-comment"># Created</span>
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        db.session.rollback()
        print(f<span class="hljs-string">"Error adding comment: {e}"</span>)
        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'An error occurred while adding the comment'</span>}), <span class="hljs-number">500</span>


<span class="hljs-comment"># == Health Check / Index ==</span>
<span class="hljs-decorator">@app.route('/')</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">index</span><span class="hljs-params">()</span>:</span>
    <span class="hljs-string">"""A simple health check or welcome message for the API."""</span>
    <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Instagram Clone Backend is running!'</span>})


<span class="hljs-comment"># --- Main execution ---</span>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    <span class="hljs-comment"># The 'debug=True' mode is useful for development as it provides detailed error pages</span>
    <span class="hljs-comment"># and automatically reloads the server when code changes.</span>
    <span class="hljs-comment"># Do not use debug=True in a production environment.</span>
    app.run(debug=<span class="hljs-keyword">True</span>)
</code></pre>
<ul>
<li class="has-line-data" data-line-start="542" data-line-end="543"><strong>Imports</strong>: Necessary modules are imported.</li>
<li class="has-line-data" data-line-start="543" data-line-end="544"><strong><code>load_dotenv()</code></strong>: Loads variables from your <code>.env</code> file.</li>
<li class="has-line-data" data-line-start="544" data-line-end="545"><strong><code>app = Flask(__name__)</code></strong>: Creates the Flask application instance.</li>
<li class="has-line-data" data-line-start="545" data-line-end="546"><strong><code>CORS(app)</code></strong>: Enables Cross-Origin Resource Sharing. This is important if your frontend is on a different domain/port than your backend.</li>
<li class="has-line-data" data-line-start="546" data-line-end="550"><strong><code>app.config[...]</code></strong>: Configures Flask.
<ul>
<li class="has-line-data" data-line-start="547" data-line-end="548"><code>SECRET_KEY</code>: Crucial for security, loaded from <code>.env</code>.</li>
<li class="has-line-data" data-line-start="548" data-line-end="549"><code>SQLALCHEMY_DATABASE_URI</code>: The connection string for your SQL Server database. It’s constructed using values from your <code>.env</code> file. <strong>Crucially, the <code>driver</code> part (e.g., <code>ODBC+Driver+17+for+SQL+Server</code>) must exactly match the name of the ODBC driver installed on your system. Spaces in the driver name must be replaced by <code>+</code> symbols.</strong></li>
<li class="has-line-data" data-line-start="549" data-line-end="550"><code>SQLALCHEMY_TRACK_MODIFICATIONS</code>: Set to <code>False</code> to disable a feature that signals a warning and can consume extra memory.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="550" data-line-end="551"><strong><code>db.init_app(app)</code></strong>: Initializes the SQLAlchemy extension with your Flask app.</li>
<li class="has-line-data" data-line-start="551" data-line-end="552"><strong><code>migrate = Migrate(app, db)</code></strong>: Initializes Flask-Migrate, linking it to your app and SQLAlchemy instance. This enables database migration commands.</li>
<li class="has-line-data" data-line-start="552" data-line-end="553"><strong><code>token_required</code> decorator</strong>: A function that checks for a valid JWT in the request header. If the token is valid, it decodes it, retrieves the user, and passes the user object to the protected route. Otherwise, it returns an error.</li>
<li class="has-line-data" data-line-start="553" data-line-end="559"><strong>Routes (<code>@app.route(...)</code>)</strong>: These define the different API endpoints.
<ul>
<li class="has-line-data" data-line-start="554" data-line-end="555"><code>/signup</code> and <code>/login</code>: Handle user registration and login, returning a JWT on success.</li>
<li class="has-line-data" data-line-start="555" data-line-end="556"><code>/posts</code> (GET, POST): Retrieve all posts or create a new post (requires token).</li>
<li class="has-line-data" data-line-start="556" data-line-end="557"><code>/posts/&lt;int:post_id&gt;/like</code> (POST) and <code>/posts/&lt;int:post_id&gt;/unlike</code> (DELETE): Like or unlike a post (requires token).</li>
<li class="has-line-data" data-line-start="557" data-line-end="558"><code>/posts/&lt;int:post_id&gt;/comments</code> (GET, POST): Get comments for a post or add a new comment (requires token for POST).</li>
<li class="has-line-data" data-line-start="558" data-line-end="559"><code>/</code>: A simple root endpoint.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="559" data-line-end="560"><strong>Error Handling</strong>: Basic error handling (e.g., missing fields, user already exists) is included, along with <code>try-except</code> blocks for database operations. <code>db.session.rollback()</code> is important to undo changes if an error occurs during a database transaction.</li>
<li class="has-line-data" data-line-start="560" data-line-end="561"><strong>Return Values</strong>: API endpoints return JSON responses using <code>jsonify()</code> along with appropriate HTTP status codes.</li>
<li class="has-line-data" data-line-start="561" data-line-end="563"><strong><code>if __name__ == '__main__': app.run(debug=True)</code></strong>: Runs the Flask development server when the script is executed directly. <code>debug=True</code> enables debug mode, which is very helpful during development but should be disabled for production.</li>
</ul>
<hr>
<h3 class="code-line" data-line-start=565 data-line-end=566 ><a id="_Step_6_Initialize_the_Database_Migrations_565"></a>⚙️ Step 6: Initialize the Database Migrations</h3>
<p class="has-line-data" data-line-start="567" data-line-end="568">Flask-Migrate (using Alembic) helps you manage changes to your database schema as your models evolve.</p>
<ul>
<li class="has-line-data" data-line-start="569" data-line-end="576"><strong>Initialize the migration repository:</strong>
<ul>
<li class="has-line-data" data-line-start="570" data-line-end="571"><strong>What?</strong> This command creates a <code>migrations</code> folder in your project. This folder will store migration scripts and the migration version history. You only need to run this once per project.</li>
<li class="has-line-data" data-line-start="571" data-line-end="576"><strong>Command:</strong><pre><code class="has-line-data" data-line-start="573" data-line-end="575" class="language-bash">flask db init
</code></pre>
</li>
</ul>
</li>
</ul>
<hr>
<h3 class="code-line" data-line-start=578 data-line-end=579 ><a id="_Step_7_Generate_an_Initial_Migration_578"></a>📜 Step 7: Generate an Initial Migration</h3>
<p class="has-line-data" data-line-start="580" data-line-end="581">Now that you have models defined and the migration repository initialized, you’ll generate the first migration script.</p>
<ul>
<li class="has-line-data" data-line-start="582" data-line-end="590"><strong>Generate the migration script:</strong>
<ul>
<li class="has-line-data" data-line-start="583" data-line-end="584"><strong>What?</strong> This command inspects your models (in <code>models.py</code>) and compares them to the current (empty) database state. It then generates a Python script (in the <code>migrations/versions</code> folder) that contains the instructions (Alembic operations) to create the tables corresponding to your models.</li>
<li class="has-line-data" data-line-start="584" data-line-end="590"><strong>Command:</strong><pre><code class="has-line-data" data-line-start="586" data-line-end="588" class="language-bash">flask db migrate -m <span class="hljs-string">"Initial migration creating users, posts, likes, comments tables"</span>
</code></pre>
<ul>
<li class="has-line-data" data-line-start="588" data-line-end="590">The <code>-m &quot;...&quot;</code> part provides a descriptive message for this migration.</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 class="code-line" data-line-start=592 data-line-end=593 ><a id="_Step_8_Apply_the_Migration_to_the_Database_592"></a>🚀 Step 8: Apply the Migration to the Database</h3>
<p class="has-line-data" data-line-start="594" data-line-end="595">The previous step only <em>generated</em> the script; this step <em>applies</em> it to your actual database.</p>
<ul>
<li class="has-line-data" data-line-start="596" data-line-end="603"><strong>Apply the changes:</strong>
<ul>
<li class="has-line-data" data-line-start="597" data-line-end="598"><strong>What?</strong> This command executes the migration script(s) that haven’t been applied yet. In this case, it will run the “Initial migration” script, creating the <code>users</code>, <code>posts</code>, <code>likes</code>, and <code>comments</code> tables in your <code>instagram_clone_db</code> database on SQL Server.</li>
<li class="has-line-data" data-line-start="598" data-line-end="603"><strong>Command:</strong><pre><code class="has-line-data" data-line-start="600" data-line-end="602" class="language-bash">flask db upgrade
</code></pre>
</li>
</ul>
</li>
</ul>
<hr>
<h3 class="code-line" data-line-start=605 data-line-end=606 ><a id="_Step_9_Verify_in_SQL_Server_Optional_but_Recommended_605"></a>👀 Step 9: Verify in SQL Server (Optional but Recommended)</h3>
<ul>
<li class="has-line-data" data-line-start="607" data-line-end="611"><strong>Refresh SQL Server Management Studio (SSMS):</strong>
<ul>
<li class="has-line-data" data-line-start="608" data-line-end="609">Open SSMS, connect to your server, expand “Databases”, then <code>instagram_clone_db</code>, and then “Tables”. You should now see the tables: <code>users</code>, <code>posts</code>, <code>likes</code>, <code>comments</code>, and <code>alembic_version</code> (Alembic uses this table to keep track of applied migrations).</li>
<li class="has-line-data" data-line-start="609" data-line-end="611">You might need to right-click on the “Tables” folder and select “Refresh” to see the newly created tables.</li>
</ul>
</li>
</ul>
<hr>
<h3 class="code-line" data-line-start=613 data-line-end=614 ><a id="_Step_10_Run_the_Backend_Application_613"></a>▶️ Step 10: Run the Backend Application</h3>
<p class="has-line-data" data-line-start="615" data-line-end="616">Now it’s time to start your Flask development server!</p>
<ul>
<li class="has-line-data" data-line-start="617" data-line-end="628">
<p class="has-line-data" data-line-start="617" data-line-end="618"><strong>Command:</strong></p>
<pre><code class="has-line-data" data-line-start="619" data-line-end="621" class="language-bash">python app.py
</code></pre>
<p class="has-line-data" data-line-start="621" data-line-end="622">This command executes your <code>app.py</code> script directly. Since you have <code>if __name__ == '__main__': app.run(debug=True)</code> in the script, this will start the Flask development server.</p>
<p class="has-line-data" data-line-start="623" data-line-end="624">Alternatively, you can also use the Flask CLI command (ensure <code>FLASK_APP=app.py</code> is set in your <code>.env</code> file or as an environment variable):</p>
<pre><code class="has-line-data" data-line-start="625" data-line-end="627" class="language-bash">flask run
</code></pre>
</li>
</ul>
<p class="has-line-data" data-line-start="628" data-line-end="629">Your backend server should now be running (typically at <code>http://127.0.0.1:5000/</code>). You can test the endpoints using a tool like Postman or Insomnia, or by connecting your frontend application.</p>
<p class="has-line-data" data-line-start="630" data-line-end="631">🎉 <strong>Congratulations! Your Instagram clone backend with SQL Server integration should now be set up and running!</strong> 🎉</p>

</body></html>