<!DOCTYPE html><html><head><meta charset="utf-8"><title>code.html</title><style>@charset "UTF-8";@import 'https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-alpha2/katex.min.css';code{color:#c7254e;background-color:#f9f2f4;border-radius:4px}code,kbd{padding:2px 4px}kbd{color:#fff;background-color:#333;border-radius:3px;box-shadow:inset 0 -1px 0 rgba(0,0,0,.25)}kbd kbd{padding:0;font-size:100%;box-shadow:none}pre{display:block;margin:0 0 10px;word-break:break-all;word-wrap:break-word;color:#333;background-color:#f5f5f5;border:1px solid #ccc;border-radius:4px}pre code{padding:0;font-size:inherit;color:inherit;white-space:pre-wrap;background-color:transparent;border-radius:0}.pre-scrollable{max-height:340px;overflow-y:scroll}table{background-color:transparent}th{text-align:left}.table{width:100%;max-width:100%;margin-bottom:20px}.table>thead>tr>th{padding:8px;line-height:1.4285714;border-top:1px solid #ddd}.table>thead>tr>td,.table>tbody>tr>th,.table>tbody>tr>td,.table>tfoot>tr>th,.table>tfoot>tr>td{padding:8px;line-height:1.4285714;vertical-align:top;border-top:1px solid #ddd}.table>thead>tr>th{vertical-align:bottom;border-bottom:2px solid #ddd}.table>caption+thead>tr:first-child>th,.table>caption+thead>tr:first-child>td,.table>colgroup+thead>tr:first-child>th,.table>colgroup+thead>tr:first-child>td,.table>thead:first-child>tr:first-child>th,.table>thead:first-child>tr:first-child>td{border-top:0}.table>tbody+tbody{border-top:2px solid #ddd}.table .table{background-color:#fff}.table-condensed>thead>tr>th,.table-condensed>thead>tr>td,.table-condensed>tbody>tr>th,.table-condensed>tbody>tr>td,.table-condensed>tfoot>tr>th,.table-condensed>tfoot>tr>td{padding:5px}.table-bordered,.table-bordered>thead>tr>th,.table-bordered>thead>tr>td,.table-bordered>tbody>tr>th,.table-bordered>tbody>tr>td,.table-bordered>tfoot>tr>th,.table-bordered>tfoot>tr>td{border:1px solid #ddd}.table-bordered>thead>tr>th,.table-bordered>thead>tr>td{border-bottom-width:2px}.table-striped>tbody>tr:nth-child(odd)>td,.table-striped>tbody>tr:nth-child(odd)>th{background-color:#f9f9f9}.table-hover>tbody>tr:hover>td,.table-hover>tbody>tr:hover>th{background-color:#f5f5f5}table col[class*="col-"]{position:static;float:none;display:table-column}table td[class*="col-"],table th[class*="col-"]{position:static;float:none;display:table-cell}.table>thead>tr>td.active,.table>thead>tr>th.active,.table>thead>tr.active>td,.table>thead>tr.active>th,.table>tbody>tr>td.active,.table>tbody>tr>th.active,.table>tbody>tr.active>td,.table>tbody>tr.active>th,.table>tfoot>tr>td.active,.table>tfoot>tr>th.active,.table>tfoot>tr.active>td,.table>tfoot>tr.active>th{background-color:#f5f5f5}.table-hover>tbody>tr>td.active:hover,.table-hover>tbody>tr>th.active:hover,.table-hover>tbody>tr.active:hover>td,.table-hover>tbody>tr:hover>.active,.table-hover>tbody>tr.active:hover>th{background-color:#e8e8e8}.table>thead>tr>td.success,.table>thead>tr>th.success,.table>thead>tr.success>td,.table>thead>tr.success>th,.table>tbody>tr>td.success,.table>tbody>tr>th.success,.table>tbody>tr.success>td,.table>tbody>tr.success>th,.table>tfoot>tr>td.success,.table>tfoot>tr>th.success,.table>tfoot>tr.success>td,.table>tfoot>tr.success>th{background-color:#dff0d8}.table-hover>tbody>tr>td.success:hover,.table-hover>tbody>tr>th.success:hover,.table-hover>tbody>tr.success:hover>td,.table-hover>tbody>tr:hover>.success,.table-hover>tbody>tr.success:hover>th{background-color:#d0e9c6}.table>thead>tr>td.info,.table>thead>tr>th.info,.table>thead>tr.info>td,.table>thead>tr.info>th,.table>tbody>tr>td.info,.table>tbody>tr>th.info,.table>tbody>tr.info>td,.table>tbody>tr.info>th,.table>tfoot>tr>td.info,.table>tfoot>tr>th.info,.table>tfoot>tr.info>td,.table>tfoot>tr.info>th{background-color:#d9edf7}.table-hover>tbody>tr>td.info:hover,.table-hover>tbody>tr>th.info:hover,.table-hover>tbody>tr.info:hover>td,.table-hover>tbody>tr:hover>.info,.table-hover>tbody>tr.info:hover>th{background-color:#c4e3f3}.table>thead>tr>td.warning,.table>thead>tr>th.warning,.table>thead>tr.warning>td,.table>thead>tr.warning>th,.table>tbody>tr>td.warning,.table>tbody>tr>th.warning,.table>tbody>tr.warning>td,.table>tbody>tr.warning>th,.table>tfoot>tr>td.warning,.table>tfoot>tr>th.warning,.table>tfoot>tr.warning>td,.table>tfoot>tr.warning>th{background-color:#fcf8e3}.table-hover>tbody>tr>td.warning:hover,.table-hover>tbody>tr>th.warning:hover,.table-hover>tbody>tr.warning:hover>td,.table-hover>tbody>tr:hover>.warning,.table-hover>tbody>tr.warning:hover>th{background-color:#faf2cc}.table>thead>tr>td.danger,.table>thead>tr>th.danger,.table>thead>tr.danger>td,.table>thead>tr.danger>th,.table>tbody>tr>td.danger,.table>tbody>tr>th.danger,.table>tbody>tr.danger>td,.table>tbody>tr.danger>th,.table>tfoot>tr>td.danger,.table>tfoot>tr>th.danger,.table>tfoot>tr.danger>td,.table>tfoot>tr.danger>th{background-color:#f2dede}.table-hover>tbody>tr>td.danger:hover,.table-hover>tbody>tr>th.danger:hover,.table-hover>tbody>tr.danger:hover>td,.table-hover>tbody>tr:hover>.danger,.table-hover>tbody>tr.danger:hover>th{background-color:#ebcccc}fieldset{border:0;min-width:0}legend{display:block;width:100%;margin-bottom:20px;font-size:21px;line-height:inherit;color:#333;border-bottom:1px solid #e5e5e5}label{display:inline-block;max-width:100%;margin-bottom:5px;font-weight:700}input[type="radio"],input[type="checkbox"]{margin:4px 0 0;margin-top:1px \9;line-height:normal}input[type="file"]{display:block}input[type="range"]{display:block;width:100%}select[multiple],select[size]{height:auto}input[type="file"]:focus,input[type="radio"]:focus,input[type="checkbox"]:focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}output{padding-top:7px}output,.form-control{display:block;font-size:14px;line-height:1.4285714;color:#555}.form-control{width:100%;height:34px;padding:6px 12px;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;box-shadow:inset 0 1px 1px rgba(0,0,0,.075);transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s}.form-control:focus{border-color:#66afe9;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.form-control::-moz-placeholder{color:#777;opacity:1}.form-control:-ms-input-placeholder{color:#777}.form-control::-webkit-input-placeholder{color:#777}.form-control[disabled],.form-control[readonly],fieldset[disabled] .form-control{cursor:not-allowed;background-color:#eee;opacity:1}textarea.form-control{height:auto}input[type="date"],input[type="time"],input[type="datetime-local"],input[type="month"]{line-height:34px;line-height:1.4285714 \0}input[type="date"].input-sm,.form-horizontal .form-group-sm input.form-control[type="date"],.input-group-sm>input.form-control[type="date"],.input-group-sm>input.input-group-addon[type="date"],.input-group-sm>.input-group-btn>input.btn[type="date"],input[type="time"].input-sm,.form-horizontal .form-group-sm input.form-control[type="time"],.input-group-sm>input.form-control[type="time"],.input-group-sm>input.input-group-addon[type="time"],.input-group-sm>.input-group-btn>input.btn[type="time"],input[type="datetime-local"].input-sm,.form-horizontal .form-group-sm input.form-control[type="datetime-local"],.input-group-sm>input.form-control[type="datetime-local"],.input-group-sm>input.input-group-addon[type="datetime-local"],.input-group-sm>.input-group-btn>input.btn[type="datetime-local"],input[type="month"].input-sm,.form-horizontal .form-group-sm input.form-control[type="month"],.input-group-sm>input.form-control[type="month"],.input-group-sm>input.input-group-addon[type="month"],.input-group-sm>.input-group-btn>input.btn[type="month"]{line-height:30px}input[type="date"].input-lg,.form-horizontal .form-group-lg input.form-control[type="date"],.input-group-lg>input.form-control[type="date"],.input-group-lg>input.input-group-addon[type="date"],.input-group-lg>.input-group-btn>input.btn[type="date"],input[type="time"].input-lg,.form-horizontal .form-group-lg input.form-control[type="time"],.input-group-lg>input.form-control[type="time"],.input-group-lg>input.input-group-addon[type="time"],.input-group-lg>.input-group-btn>input.btn[type="time"],input[type="datetime-local"].input-lg,.form-horizontal .form-group-lg input.form-control[type="datetime-local"],.input-group-lg>input.form-control[type="datetime-local"],.input-group-lg>input.input-group-addon[type="datetime-local"],.input-group-lg>.input-group-btn>input.btn[type="datetime-local"],input[type="month"].input-lg,.form-horizontal .form-group-lg input.form-control[type="month"],.input-group-lg>input.form-control[type="month"],.input-group-lg>input.input-group-addon[type="month"],.input-group-lg>.input-group-btn>input.btn[type="month"]{line-height:46px}.form-group{margin-bottom:15px}.radio,.checkbox{position:relative;display:block;min-height:20px;margin-top:10px;margin-bottom:10px}.radio label,.checkbox label{padding-left:20px;margin-bottom:0;font-weight:400;cursor:pointer}.radio input[type="radio"],.radio-inline input[type="radio"],.checkbox input[type="checkbox"],.checkbox-inline input[type="checkbox"]{position:absolute;margin-left:-20px;margin-top:4px \9}.radio+.radio,.checkbox+.checkbox{margin-top:-5px}.radio-inline,.checkbox-inline{display:inline-block;padding-left:20px;margin-bottom:0;vertical-align:middle;font-weight:400;cursor:pointer}.radio-inline+.radio-inline,.checkbox-inline+.checkbox-inline{margin-top:0;margin-left:10px}input[type="radio"][disabled],input[type="radio"].disabled,fieldset[disabled] input[type="radio"],input[type="checkbox"][disabled],input[type="checkbox"].disabled,fieldset[disabled] input[type="checkbox"],.radio-inline.disabled,fieldset[disabled] .radio-inline,.checkbox-inline.disabled,fieldset[disabled] .checkbox-inline,.radio.disabled label,fieldset[disabled] .radio label,.checkbox.disabled label,fieldset[disabled] .checkbox label{cursor:not-allowed}.form-control-static{padding-top:7px;padding-bottom:7px;margin-bottom:0}.form-control-static.input-lg,.form-horizontal .form-group-lg .form-control-static.form-control,.input-group-lg>.form-control-static.form-control,.input-group-lg>.form-control-static.input-group-addon,.input-group-lg>.input-group-btn>.form-control-static.btn,.form-control-static.input-sm,.form-horizontal .form-group-sm .form-control-static.form-control,.input-group-sm>.form-control-static.form-control,.input-group-sm>.form-control-static.input-group-addon,.input-group-sm>.input-group-btn>.form-control-static.btn{padding-left:0;padding-right:0}.input-sm,.form-horizontal .form-group-sm .form-control,.input-group-sm>.form-control{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}.input-group-sm>.input-group-addon{height:30px;line-height:1.5}.input-group-sm>.input-group-btn>.btn{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}select.input-sm,.form-horizontal .form-group-sm select.form-control,.input-group-sm>select.form-control,.input-group-sm>select.input-group-addon,.input-group-sm>.input-group-btn>select.btn{height:30px;line-height:30px}textarea.input-sm,.form-horizontal .form-group-sm textarea.form-control,.input-group-sm>textarea.form-control,.input-group-sm>textarea.input-group-addon,.input-group-sm>.input-group-btn>textarea.btn,select[multiple].input-sm,.form-horizontal .form-group-sm select.form-control[multiple],.input-group-sm>select.form-control[multiple],.input-group-sm>select.input-group-addon[multiple],.input-group-sm>.input-group-btn>select.btn[multiple]{height:auto}.input-lg,.form-horizontal .form-group-lg .form-control,.input-group-lg>.form-control{height:46px;padding:10px 16px;font-size:18px;line-height:1.33;border-radius:6px}.input-group-lg>.input-group-addon{height:46px;line-height:1.33}.input-group-lg>.input-group-btn>.btn{height:46px;padding:10px 16px;font-size:18px;line-height:1.33;border-radius:6px}select.input-lg,.form-horizontal .form-group-lg select.form-control,.input-group-lg>select.form-control,.input-group-lg>select.input-group-addon,.input-group-lg>.input-group-btn>select.btn{height:46px;line-height:46px}textarea.input-lg,.form-horizontal .form-group-lg textarea.form-control,.input-group-lg>textarea.form-control,.input-group-lg>textarea.input-group-addon,.input-group-lg>.input-group-btn>textarea.btn,select[multiple].input-lg,.form-horizontal .form-group-lg select.form-control[multiple],.input-group-lg>select.form-control[multiple],.input-group-lg>select.input-group-addon[multiple],.input-group-lg>.input-group-btn>select.btn[multiple]{height:auto}.has-feedback{position:relative}.has-feedback .form-control{padding-right:42.5px}.form-control-feedback{position:absolute;top:25px;right:0;z-index:2;display:block;width:34px;height:34px;line-height:34px;text-align:center}.input-lg+.form-control-feedback,.form-horizontal .form-group-lg .form-control+.form-control-feedback,.input-group-lg>.form-control+.form-control-feedback,.input-group-lg>.input-group-addon+.form-control-feedback,.input-group-lg>.input-group-btn>.btn+.form-control-feedback{width:46px;height:46px;line-height:46px}.input-sm+.form-control-feedback,.form-horizontal .form-group-sm .form-control+.form-control-feedback,.input-group-sm>.form-control+.form-control-feedback,.input-group-sm>.input-group-addon+.form-control-feedback,.input-group-sm>.input-group-btn>.btn+.form-control-feedback{width:30px;height:30px;line-height:30px}.has-success .help-block,.has-success .control-label,.has-success .radio,.has-success .checkbox,.has-success .radio-inline,.has-success .checkbox-inline{color:#3c763d}.has-success .form-control{border-color:#3c763d;box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-success .form-control:focus{border-color:#2b542c;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #67b168}.has-success .input-group-addon{color:#3c763d;border-color:#3c763d;background-color:#dff0d8}.has-success .form-control-feedback{color:#3c763d}.has-warning .help-block,.has-warning .control-label,.has-warning .radio,.has-warning .checkbox,.has-warning .radio-inline,.has-warning .checkbox-inline{color:#8a6d3b}.has-warning .form-control{border-color:#8a6d3b;box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-warning .form-control:focus{border-color:#66512c;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #c0a16b}.has-warning .input-group-addon{color:#8a6d3b;border-color:#8a6d3b;background-color:#fcf8e3}.has-warning .form-control-feedback{color:#8a6d3b}.has-error .help-block,.has-error .control-label,.has-error .radio,.has-error .checkbox,.has-error .radio-inline,.has-error .checkbox-inline{color:#a94442}.has-error .form-control{border-color:#a94442;box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-error .form-control:focus{border-color:#843534;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #ce8483}.has-error .input-group-addon{color:#a94442;border-color:#a94442;background-color:#f2dede}.has-error .form-control-feedback{color:#a94442}.has-feedback label.sr-only~.form-control-feedback{top:0}.help-block{display:block;margin-top:5px;margin-bottom:10px;color:#737373}.form-horizontal .radio,.form-horizontal .checkbox,.form-horizontal .radio-inline,.form-horizontal .checkbox-inline{margin-top:0;margin-bottom:0;padding-top:7px}.form-horizontal .radio,.form-horizontal .checkbox{min-height:27px}.form-horizontal .form-group{margin-left:-15px;margin-right:-15px}.form-horizontal .form-group:before{content:" ";display:table}.form-horizontal .form-group:after{content:" ";display:table;clear:both}.form-horizontal .has-feedback .form-control-feedback{top:0;right:15px}.btn{display:inline-block;vertical-align:middle;cursor:pointer;background-image:none;border:1px solid transparent;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.btn:focus,.btn:active:focus,.btn.active:focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.btn:hover,.btn:focus{color:#333;text-decoration:none}.btn:active,.btn.active{outline:0;background-image:none;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn.disabled,.btn[disabled],fieldset[disabled] .btn{cursor:not-allowed;pointer-events:none;opacity:.65;filter:alpha(opacity=65);box-shadow:none}.btn-default{color:#333;background-color:#fff;border-color:#ccc}.btn-default:hover,.btn-default:focus,.btn-default:active,.btn-default.active,.open>.btn-default.dropdown-toggle{color:#333;background-color:#e6e6e6;border-color:#adadad}.btn-default:active,.btn-default.active,.open>.btn-default.dropdown-toggle{background-image:none}.btn-default.disabled,.btn-default.disabled:hover,.btn-default.disabled:focus,.btn-default.disabled:active,.btn-default.disabled.active,.btn-default[disabled],.btn-default[disabled]:hover,.btn-default[disabled]:focus,.btn-default[disabled]:active,.btn-default[disabled].active,fieldset[disabled] .btn-default,fieldset[disabled] .btn-default:hover,fieldset[disabled] .btn-default:focus,fieldset[disabled] .btn-default:active,fieldset[disabled] .btn-default.active{background-color:#fff;border-color:#ccc}.btn-default .badge{color:#fff;background-color:#333}.btn-primary{color:#fff;background-color:#428bca;border-color:#357ebd}.btn-primary:hover,.btn-primary:focus,.btn-primary:active,.btn-primary.active,.open>.btn-primary.dropdown-toggle{color:#fff;background-color:#3071a9;border-color:#285e8e}.btn-primary:active,.btn-primary.active,.open>.btn-primary.dropdown-toggle{background-image:none}.btn-primary.disabled,.btn-primary.disabled:hover,.btn-primary.disabled:focus,.btn-primary.disabled:active,.btn-primary.disabled.active,.btn-primary[disabled],.btn-primary[disabled]:hover,.btn-primary[disabled]:focus,.btn-primary[disabled]:active,.btn-primary[disabled].active,fieldset[disabled] .btn-primary,fieldset[disabled] .btn-primary:hover,fieldset[disabled] .btn-primary:focus,fieldset[disabled] .btn-primary:active,fieldset[disabled] .btn-primary.active{background-color:#428bca;border-color:#357ebd}.btn-primary .badge{color:#428bca;background-color:#fff}.btn-success{color:#fff;background-color:#5cb85c;border-color:#4cae4c}.btn-success:hover,.btn-success:focus,.btn-success:active,.btn-success.active,.open>.btn-success.dropdown-toggle{color:#fff;background-color:#449d44;border-color:#398439}.btn-success:active,.btn-success.active,.open>.btn-success.dropdown-toggle{background-image:none}.btn-success.disabled,.btn-success.disabled:hover,.btn-success.disabled:focus,.btn-success.disabled:active,.btn-success.disabled.active,.btn-success[disabled],.btn-success[disabled]:hover,.btn-success[disabled]:focus,.btn-success[disabled]:active,.btn-success[disabled].active,fieldset[disabled] .btn-success,fieldset[disabled] .btn-success:hover,fieldset[disabled] .btn-success:focus,fieldset[disabled] .btn-success:active,fieldset[disabled] .btn-success.active{background-color:#5cb85c;border-color:#4cae4c}.btn-success .badge{color:#5cb85c;background-color:#fff}.btn-info{color:#fff;background-color:#5bc0de;border-color:#46b8da}.btn-info:hover,.btn-info:focus,.btn-info:active,.btn-info.active,.open>.btn-info.dropdown-toggle{color:#fff;background-color:#31b0d5;border-color:#269abc}.btn-info:active,.btn-info.active,.open>.btn-info.dropdown-toggle{background-image:none}.btn-info.disabled,.btn-info.disabled:hover,.btn-info.disabled:focus,.btn-info.disabled:active,.btn-info.disabled.active,.btn-info[disabled],.btn-info[disabled]:hover,.btn-info[disabled]:focus,.btn-info[disabled]:active,.btn-info[disabled].active,fieldset[disabled] .btn-info,fieldset[disabled] .btn-info:hover,fieldset[disabled] .btn-info:focus,fieldset[disabled] .btn-info:active,fieldset[disabled] .btn-info.active{background-color:#5bc0de;border-color:#46b8da}.btn-info .badge{color:#5bc0de;background-color:#fff}.btn-warning{color:#fff;background-color:#f0ad4e;border-color:#eea236}.btn-warning:hover,.btn-warning:focus,.btn-warning:active,.btn-warning.active,.open>.btn-warning.dropdown-toggle{color:#fff;background-color:#ec971f;border-color:#d58512}.btn-warning:active,.btn-warning.active,.open>.btn-warning.dropdown-toggle{background-image:none}.btn-warning.disabled,.btn-warning.disabled:hover,.btn-warning.disabled:focus,.btn-warning.disabled:active,.btn-warning.disabled.active,.btn-warning[disabled],.btn-warning[disabled]:hover,.btn-warning[disabled]:focus,.btn-warning[disabled]:active,.btn-warning[disabled].active,fieldset[disabled] .btn-warning,fieldset[disabled] .btn-warning:hover,fieldset[disabled] .btn-warning:focus,fieldset[disabled] .btn-warning:active,fieldset[disabled] .btn-warning.active{background-color:#f0ad4e;border-color:#eea236}.btn-warning .badge{color:#f0ad4e;background-color:#fff}.btn-danger{color:#fff;background-color:#d9534f;border-color:#d43f3a}.btn-danger:hover,.btn-danger:focus,.btn-danger:active,.btn-danger.active,.open>.btn-danger.dropdown-toggle{color:#fff;background-color:#c9302c;border-color:#ac2925}.btn-danger:active,.btn-danger.active,.open>.btn-danger.dropdown-toggle{background-image:none}.btn-danger.disabled,.btn-danger.disabled:hover,.btn-danger.disabled:focus,.btn-danger.disabled:active,.btn-danger.disabled.active,.btn-danger[disabled],.btn-danger[disabled]:hover,.btn-danger[disabled]:focus,.btn-danger[disabled]:active,.btn-danger[disabled].active,fieldset[disabled] .btn-danger,fieldset[disabled] .btn-danger:hover,fieldset[disabled] .btn-danger:focus,fieldset[disabled] .btn-danger:active,fieldset[disabled] .btn-danger.active{background-color:#d9534f;border-color:#d43f3a}.btn-danger .badge{color:#d9534f;background-color:#fff}.btn-link{color:#428bca;font-weight:400;cursor:pointer;border-radius:0}.btn-link,.btn-link:active,.btn-link[disabled],fieldset[disabled] .btn-link{background-color:transparent;box-shadow:none}.btn-link,.btn-link:hover,.btn-link:focus,.btn-link:active{border-color:transparent}.btn-link:hover,.btn-link:focus{color:#2a6496;text-decoration:underline;background-color:transparent}.btn-link[disabled]:hover,.btn-link[disabled]:focus,fieldset[disabled] .btn-link:hover,fieldset[disabled] .btn-link:focus{color:#777;text-decoration:none}.btn-lg{padding:10px 16px;font-size:18px;line-height:1.33;border-radius:6px}.btn-sm{padding:5px 10px}.btn-sm,.btn-xs{font-size:12px;line-height:1.5;border-radius:3px}.btn-xs{padding:1px 5px}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:5px}input[type="submit"].btn-block,input[type="reset"].btn-block,input[type="button"].btn-block{width:100%}.fade{opacity:0;transition:opacity .15s linear}.fade.in{opacity:1}.collapse{display:none}.collapse.in{display:block}tr.collapse.in{display:table-row}tbody.collapse.in{display:table-row-group}.collapsing{position:relative;height:0;overflow:hidden;transition:height .35s ease}.input-group{position:relative;display:table;border-collapse:separate}.input-group[class*="col-"]{float:none;padding-left:0;padding-right:0}.input-group .form-control{position:relative;z-index:2;float:left;width:100%;margin-bottom:0}.input-group-addon,.input-group-btn,.input-group .form-control{display:table-cell}.input-group-addon:not(:first-child):not(:last-child),.input-group-btn:not(:first-child):not(:last-child),.input-group .form-control:not(:first-child):not(:last-child){border-radius:0}.input-group-addon{white-space:nowrap}.input-group-addon,.input-group-btn{width:1%;vertical-align:middle}.input-group-addon{padding:6px 12px;font-size:14px;font-weight:400;line-height:1;color:#555;text-align:center;background-color:#eee;border:1px solid #ccc;border-radius:4px}.input-group-addon.input-sm,.form-horizontal .form-group-sm .input-group-addon.form-control,.input-group-sm>.input-group-addon,.input-group-sm>.input-group-btn>.input-group-addon.btn{padding:5px 10px;font-size:12px;border-radius:3px}.input-group-addon.input-lg,.form-horizontal .form-group-lg .input-group-addon.form-control,.input-group-lg>.input-group-addon,.input-group-lg>.input-group-btn>.input-group-addon.btn{padding:10px 16px;font-size:18px;border-radius:6px}.input-group-addon input[type="radio"],.input-group-addon input[type="checkbox"]{margin-top:0}.input-group .form-control:first-child,.input-group-addon:first-child,.input-group-btn:first-child>.btn,.input-group-btn:first-child>.btn-group>.btn,.input-group-btn:first-child>.dropdown-toggle,.input-group-btn:last-child>.btn:not(:last-child):not(.dropdown-toggle),.input-group-btn:last-child>.btn-group:not(:last-child)>.btn{border-bottom-right-radius:0;border-top-right-radius:0}.input-group-addon:first-child{border-right:0}.input-group .form-control:last-child,.input-group-addon:last-child,.input-group-btn:last-child>.btn,.input-group-btn:last-child>.btn-group>.btn,.input-group-btn:last-child>.dropdown-toggle,.input-group-btn:first-child>.btn:not(:first-child),.input-group-btn:first-child>.btn-group:not(:first-child)>.btn{border-bottom-left-radius:0;border-top-left-radius:0}.input-group-addon:last-child{border-left:0}.input-group-btn{font-size:0;white-space:nowrap}.input-group-btn,.input-group-btn>.btn{position:relative}.input-group-btn>.btn+.btn{margin-left:-1px}.input-group-btn>.btn:hover,.input-group-btn>.btn:focus,.input-group-btn>.btn:active{z-index:2}.input-group-btn:first-child>.btn,.input-group-btn:first-child>.btn-group{margin-right:-1px}.input-group-btn:last-child>.btn,.input-group-btn:last-child>.btn-group{margin-left:-1px}.pagination{display:inline-block;padding-left:0;margin:20px 0;border-radius:4px}.pagination>li{display:inline}.pagination>li>a,.pagination>li>span{position:relative;float:left;padding:6px 12px;line-height:1.4285714;text-decoration:none;color:#428bca;background-color:#fff;border:1px solid #ddd;margin-left:-1px}.pagination>li:first-child>a,.pagination>li:first-child>span{margin-left:0;border-bottom-left-radius:4px;border-top-left-radius:4px}.pagination>li:last-child>a,.pagination>li:last-child>span{border-bottom-right-radius:4px;border-top-right-radius:4px}.pagination>li>a:hover,.pagination>li>a:focus,.pagination>li>span:hover,.pagination>li>span:focus{color:#2a6496;background-color:#eee;border-color:#ddd}.pagination>.active>a,.pagination>.active>a:hover,.pagination>.active>a:focus,.pagination>.active>span,.pagination>.active>span:hover,.pagination>.active>span:focus{z-index:2;color:#fff;background-color:#428bca;border-color:#428bca;cursor:default}.pagination>.disabled>span,.pagination>.disabled>span:hover,.pagination>.disabled>span:focus,.pagination>.disabled>a,.pagination>.disabled>a:hover,.pagination>.disabled>a:focus{color:#777;background-color:#fff;border-color:#ddd;cursor:not-allowed}.pagination-lg>li>a,.pagination-lg>li>span{padding:10px 16px;font-size:18px}.pagination-lg>li:first-child>a,.pagination-lg>li:first-child>span{border-bottom-left-radius:6px;border-top-left-radius:6px}.pagination-lg>li:last-child>a,.pagination-lg>li:last-child>span{border-bottom-right-radius:6px;border-top-right-radius:6px}.pagination-sm>li>a,.pagination-sm>li>span{padding:5px 10px;font-size:12px}.pagination-sm>li:first-child>a,.pagination-sm>li:first-child>span{border-bottom-left-radius:3px;border-top-left-radius:3px}.pagination-sm>li:last-child>a,.pagination-sm>li:last-child>span{border-bottom-right-radius:3px;border-top-right-radius:3px}.close{float:right;font-size:21px;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.2;filter:alpha(opacity=20)}.close:hover,.close:focus{color:#000;text-decoration:none;cursor:pointer;opacity:.5;filter:alpha(opacity=50)}button.close{padding:0;cursor:pointer;background:0 0;border:0;-webkit-appearance:none}.modal-open,.modal{overflow:hidden}.modal{display:none;position:fixed;top:0;right:0;bottom:0;left:0;z-index:1050;-webkit-overflow-scrolling:touch;outline:0}.modal.fade .modal-dialog{transform:translate3d(0,-25%,0);transition:transform .3s ease-out}.modal.in .modal-dialog{transform:translate3d(0,0,0)}.modal-open .modal{overflow-x:hidden;overflow-y:auto}.modal-dialog{position:relative;width:auto;margin:10px}.modal-content{position:relative;background-color:#fff;border:1px solid #999;border:1px solid rgba(0,0,0,.2);border-radius:6px;box-shadow:0 3px 9px rgba(0,0,0,.5);background-clip:padding-box;outline:0}.modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1040;background-color:#000}.modal-backdrop.fade{opacity:0;filter:alpha(opacity=0)}.modal-backdrop.in{opacity:.5;filter:alpha(opacity=50)}.modal-header{padding:15px;border-bottom:1px solid #e5e5e5;min-height:16.4285714px}.modal-header .close{margin-top:-2px}.modal-title{margin:0;line-height:1.4285714}.modal-body{position:relative;padding:15px}.modal-footer{padding:15px;text-align:right;border-top:1px solid #e5e5e5}.modal-footer:before,.modal-footer:after{content:" ";display:table}.modal-footer:after{clear:both}.modal-footer .btn+.btn{margin-left:5px;margin-bottom:0}.modal-footer .btn-group .btn+.btn{margin-left:-1px}.modal-footer .btn-block+.btn-block{margin-left:0}.modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.clearfix:before,.clearfix:after{content:" ";display:table}.clearfix:after{clear:both}.center-block{display:block;margin-left:auto;margin-right:auto}.pull-right{float:right!important}.pull-left{float:left!important}.hide{display:none!important}.show{display:block!important}.invisible{visibility:hidden}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.hidden{display:none!important;visibility:hidden!important}.affix{position:fixed;transform:translate3d(0,0,0)}.hljs{display:block;overflow-x:auto;padding:.5em;background:#002b36;color:#839496;-webkit-text-size-adjust:none}.hljs-comment,.hljs-template_comment,.diff .hljs-header,.hljs-doctype,.hljs-pi,.lisp .hljs-string,.hljs-javadoc{color:#586e75}.hljs-keyword,.hljs-winutils,.method,.hljs-addition,.css .hljs-tag,.hljs-request,.hljs-status,.nginx .hljs-title{color:#859900}.hljs-number,.hljs-command,.hljs-string,.hljs-tag .hljs-value,.hljs-rules .hljs-value,.hljs-phpdoc,.hljs-dartdoc,.tex .hljs-formula,.hljs-regexp,.hljs-hexcolor,.hljs-link_url{color:#2aa198}.hljs-title,.hljs-localvars,.hljs-chunk,.hljs-decorator,.hljs-built_in,.hljs-identifier,.vhdl .hljs-literal,.hljs-id,.css .hljs-function{color:#268bd2}.hljs-attribute,.hljs-variable,.lisp .hljs-body,.smalltalk .hljs-number,.hljs-constant,.hljs-class .hljs-title,.hljs-parent,.hljs-type,.hljs-link_reference{color:#b58900}.hljs-preprocessor,.hljs-preprocessor .hljs-keyword,.hljs-pragma,.hljs-shebang,.hljs-symbol,.hljs-symbol .hljs-string,.diff .hljs-change,.hljs-special,.hljs-attr_selector,.hljs-subst,.hljs-cdata,.css .hljs-pseudo,.hljs-header{color:#cb4b16}.hljs-deletion,.hljs-important{color:#dc322f}.hljs-link_label{color:#6c71c4}.tex .hljs-formula{background:#073642}*,*:before,*:after{box-sizing:border-box}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background:0 0}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}images{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd{font-size:1em}code,kbd,pre,samp{font-family:monospace,monospace}samp{font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0;margin-right:5px}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}.debug{background-color:#ffc0cb!important}.ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ir{background-color:transparent;border:0;overflow:hidden}.ir::before{content:'';display:block;height:150%;width:0}html{font-size:.875em;background:#fff;color:#373D49}html,body{font-family:Georgia,Cambria,serif;height:100%}body{font-size:1rem;font-weight:400;line-height:2rem}ul,ol{margin-bottom:.83999rem;padding-top:.16001rem}li{font-feature-settings:'kern' 1,'onum' 1,'liga' 1;margin-left:1rem}li>ul,li>ol{margin-bottom:0}p{padding-top:.66001rem;font-feature-settings:'kern' 1,'onum' 1,'liga' 1;margin-top:0}p,pre{margin-bottom:1.33999rem}pre{font-size:1rem;padding:.66001rem 9.5px 9.5px;line-height:2rem;background:linear-gradient(to bottom,#fff 0,#fff .75rem,#f5f7fa .75rem,#f5f7fa 2.75rem,#fff 2.75rem,#fff 4rem);background-size:100% 4rem;border-color:#D3DAEA}blockquote{margin:0}blockquote p{font-size:1rem;margin-bottom:.33999rem;font-style:italic;padding:.66001rem 1rem 1rem;border-left:3px solid #A0AABF}th,td{padding:12px}h1,h2,h3,h4,h5,h6{font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif;font-feature-settings:'dlig' 1,'liga' 1,'lnum' 1,'kern' 1;font-style:normal;font-weight:600;margin-top:0}h1{line-height:3rem;font-size:2.0571429rem;margin-bottom:.21999rem;padding-top:.78001rem}h2{font-size:1.953125rem;margin-bottom:.1835837rem;padding-top:.8164163rem}h2,h3{line-height:3rem}h3{font-size:1.6457143rem;margin-bottom:.07599rem;padding-top:.92401rem}h4{font-size:1.5625rem;margin-bottom:.546865rem;padding-top:.453135rem}h5{font-size:1.25rem;margin-bottom:-.56251rem;padding-top:.56251rem}h6{font-size:1rem;margin-bottom:-.65001rem;padding-top:.65001rem}a{cursor:pointer;color:#35D7BB;text-decoration:none}a:hover,a:focus{border-bottom-color:#35D7BB;color:#dff9f4}img{height:auto;max-width:100%}dt{font-style:italic;font-weight:600}.g{display:block}.g:after{clear:both;content:'';display:table}.g-b{float:left;margin:0;width:100%}.g{margin-left:-16px;margin-right:-16px}.g-b{padding-left:16px;padding-right:16px}.g-b--center{display:block;float:none;margin:0 auto}.g-b--right{float:right}.g-b--1of1{width:100%}.g-b--1of2,.g-b--2of4,.g-b--3of6,.g-b--4of8,.g-b--5of10,.g-b--6of12{width:50%}.g-b--1of3,.g-b--2of6,.g-b--4of12{width:33.333%}.g-b--2of3,.g-b--4of6,.g-b--8of12{width:66.666%}.g-b--1of4,.g-b--2of8,.g-b--3of12{width:25%}.g-b--3of4,.g-b--6of8,.g-b--9of12{width:75%}.g-b--1of5,.g-b--2of10{width:20%}.g-b--2of5,.g-b--4of10{width:40%}.g-b--3of5,.g-b--6of10{width:60%}.g-b--4of5,.g-b--8of10{width:80%}.g-b--1of6,.g-b--2of12{width:16.666%}.g-b--5of6,.g-b--10of12{width:83.333%}.g-b--1of8{width:12.5%}.g-b--3of8{width:37.5%}.g-b--5of8{width:62.5%}.g-b--7of8{width:87.5%}.g-b--1of10{width:10%}.g-b--3of10{width:30%}.g-b--7of10{width:70%}.g-b--9of10{width:90%}.g-b--1of12{width:8.333%}.g-b--5of12{width:41.666%}.g-b--7of12{width:58.333%}.g-b--11of12{width:91.666%}.g-b--push--1of1{margin-left:100%}.g-b--push--1of2,.g-b--push--2of4,.g-b--push--3of6,.g-b--push--4of8,.g-b--push--5of10,.g-b--push--6of12{margin-left:50%}.g-b--push--1of3,.g-b--push--2of6,.g-b--push--4of12{margin-left:33.333%}.g-b--push--2of3,.g-b--push--4of6,.g-b--push--8of12{margin-left:66.666%}.g-b--push--1of4,.g-b--push--2of8,.g-b--push--3of12{margin-left:25%}.g-b--push--3of4,.g-b--push--6of8,.g-b--push--9of12{margin-left:75%}.g-b--push--1of5,.g-b--push--2of10{margin-left:20%}.g-b--push--2of5,.g-b--push--4of10{margin-left:40%}.g-b--push--3of5,.g-b--push--6of10{margin-left:60%}.g-b--push--4of5,.g-b--push--8of10{margin-left:80%}.g-b--push--1of6,.g-b--push--2of12{margin-left:16.666%}.g-b--push--5of6,.g-b--push--10of12{margin-left:83.333%}.g-b--push--1of8{margin-left:12.5%}.g-b--push--3of8{margin-left:37.5%}.g-b--push--5of8{margin-left:62.5%}.g-b--push--7of8{margin-left:87.5%}.g-b--push--1of10{margin-left:10%}.g-b--push--3of10{margin-left:30%}.g-b--push--7of10{margin-left:70%}.g-b--push--9of10{margin-left:90%}.g-b--push--1of12{margin-left:8.333%}.g-b--push--5of12{margin-left:41.666%}.g-b--push--7of12{margin-left:58.333%}.g-b--push--11of12{margin-left:91.666%}.g-b--pull--1of1{margin-right:100%}.g-b--pull--1of2,.g-b--pull--2of4,.g-b--pull--3of6,.g-b--pull--4of8,.g-b--pull--5of10,.g-b--pull--6of12{margin-right:50%}.g-b--pull--1of3,.g-b--pull--2of6,.g-b--pull--4of12{margin-right:33.333%}.g-b--pull--2of3,.g-b--pull--4of6,.g-b--pull--8of12{margin-right:66.666%}.g-b--pull--1of4,.g-b--pull--2of8,.g-b--pull--3of12{margin-right:25%}.g-b--pull--3of4,.g-b--pull--6of8,.g-b--pull--9of12{margin-right:75%}.g-b--pull--1of5,.g-b--pull--2of10{margin-right:20%}.g-b--pull--2of5,.g-b--pull--4of10{margin-right:40%}.g-b--pull--3of5,.g-b--pull--6of10{margin-right:60%}.g-b--pull--4of5,.g-b--pull--8of10{margin-right:80%}.g-b--pull--1of6,.g-b--pull--2of12{margin-right:16.666%}.g-b--pull--5of6,.g-b--pull--10of12{margin-right:83.333%}.g-b--pull--1of8{margin-right:12.5%}.g-b--pull--3of8{margin-right:37.5%}.g-b--pull--5of8{margin-right:62.5%}.g-b--pull--7of8{margin-right:87.5%}.g-b--pull--1of10{margin-right:10%}.g-b--pull--3of10{margin-right:30%}.g-b--pull--7of10{margin-right:70%}.g-b--pull--9of10{margin-right:90%}.g-b--pull--1of12{margin-right:8.333%}.g-b--pull--5of12{margin-right:41.666%}.g-b--pull--7of12{margin-right:58.333%}.g-b--pull--11of12{margin-right:91.666%}.splashscreen{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#373D49;z-index:22}.splashscreen-dillinger{width:260px;height:auto;display:block;margin:0 auto;padding-bottom:3rem}.splashscreen p{font-size:1.25rem;padding-top:.56251rem;font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:400;text-align:center;max-width:500px;margin:0 auto;color:#FFF}.sp-center{position:relative;transform:translateY(-50%);top:50%}.open-menu>.wrapper{overflow-x:hidden}.page{margin:0 auto;position:relative;top:0;left:0;width:100%;height:100%;z-index:2;transition:all .25s ease-in-out;background-color:#fff;padding-top:51px;will-change:left}.open-menu .page{left:270px}.title{line-height:1rem;font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem;font-weight:500;color:#A0AABF;letter-spacing:1px;text-transform:uppercase;padding-left:16px;padding-right:16px;margin-top:1rem}.split-preview .title{padding-left:0}.title-document{line-height:1rem;font-size:1.25rem;margin-bottom:.89999rem;padding-top:.10001rem;font-weight:400;font-family:"Ubuntu Mono",Monaco;color:#373D49;padding-left:16px;padding-right:16px;width:80%;min-width:300px;outline:0;border:none}.icon{display:block;margin:0 auto;width:36px;height:36px;border-radius:3px;text-align:center}.icon svg{display:inline-block;margin-left:auto;margin-right:auto}.icon-preview{background-color:#373D49;line-height:40px}.icon-preview svg{width:19px;height:12px}.icon-settings{background-color:#373D49;line-height:44px}.icon-settings svg{width:18px;height:18px}.icon-link{width:16px;height:16px;line-height:1;margin-right:24px;text-align:right}.navbar{background-color:#373D49;height:51px;width:100%;position:fixed;top:0;left:0;z-index:6;transition:all .25s ease-in-out;will-change:left}.navbar:after{content:"";display:table;clear:both}.open-menu .navbar{left:270px}.navbar-brand{float:left;margin:0 0 0 24px;padding:0;line-height:42px}.navbar-brand svg{width:85px;height:11px}.nav-left{float:left}.nav-right{float:right}.nav-sidebar{width:100%}.menu{list-style:none;margin:0;padding:0}.menu a{border:0;color:#A0AABF;font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif;outline:none;text-transform:uppercase}.menu a:hover{color:#35D7BB}.menu .menu-item{border:0;display:none;float:left;margin:0;position:relative}.menu .menu-item>a{display:block;font-size:12px;height:51px;letter-spacing:1px;line-height:51px;padding:0 24px}.menu .menu-item--settings,.menu .menu-item--preview,.menu .menu-item--save-to.in-sidebar,.menu .menu-item--import-from.in-sidebar,.menu .menu-item--link-unlink.in-sidebar,.menu .menu-item--documents.in-sidebar{display:block}.menu .menu-item--documents{padding-bottom:1rem}.menu .menu-item.open>a{background-color:#1D212A}.menu .menu-item-icon>a{height:auto;padding:0}.menu .menu-item-icon:hover>a{background-color:transparent}.menu .menu-link.open i{background-color:#1D212A}.menu .menu-link.open g{fill:#35D7BB}.menu .menu-link-preview,.menu .menu-link-settings{margin-top:8px;width:51px}.menu-sidebar{width:100%}.menu-sidebar .menu-item{float:none;margin-bottom:1px;width:100%}.menu-sidebar .menu-item.open>a{background-color:#373D49}.menu-sidebar .open .caret{transform:rotate(180deg)}.menu-sidebar>.menu-item:hover .dropdown a,.menu-sidebar>.menu-item:hover .settings a{background-color:transparent}.menu-sidebar .menu-link{background-color:#373D49;font-weight:600}.menu-sidebar .menu-link:after{content:"";display:table;clear:both}.menu-sidebar .menu-link>span{float:left}.menu-sidebar .menu-link>.caret{float:right;text-align:right;top:22px}.menu-sidebar .dropdown,.menu-sidebar .settings{background-color:transparent;position:static;width:100%}.dropdown{position:absolute;right:0;top:51px;width:188px}.dropdown,.settings{display:none;background-color:#1D212A}.dropdown{padding:0}.dropdown,.settings,.sidebar-list{list-style:none;margin:0}.sidebar-list{padding:0}.dropdown li{margin:32px 0;padding:0 0 0 32px}.dropdown li,.settings li{line-height:1}.sidebar-list li{line-height:1;margin:32px 0;padding:0 0 0 32px}.dropdown a{color:#D0D6E2}.dropdown a,.settings a,.sidebar-list a{display:block;text-transform:none}.sidebar-list a{color:#D0D6E2}.dropdown a:after,.settings a:after,.sidebar-list a:after{content:"";display:table;clear:both}.dropdown .icon,.settings .icon,.sidebar-list .icon{float:right}.open .dropdown,.open .settings,.open .sidebar-list{display:block}.open .dropdown.collapse,.open .collapse.settings,.open .sidebar-list.collapse{display:none}.open .dropdown.collapse.in,.open .collapse.in.settings,.open .sidebar-list.collapse.in{display:block}.dropdown .unlinked .icon,.settings .unlinked .icon,.sidebar-list .unlinked .icon{opacity:.3}.dropdown.documents li,.documents.settings li,.sidebar-list.documents li{background-image:url("../img/icons/file.svg");background-position:240px center;background-repeat:no-repeat;background-size:14px 16px;padding:3px 32px}.dropdown.documents li.octocat,.documents.settings li.octocat,.sidebar-list.documents li.octocat{background-image:url("../img/icons/octocat.svg");background-position:234px center;background-size:24px 24px}.dropdown.documents li:last-child,.documents.settings li:last-child,.sidebar-list.documents li:last-child{margin-bottom:1rem}.dropdown.documents li.active a,.documents.settings li.active a,.sidebar-list.documents li.active a{color:#35D7BB}.settings{position:fixed;top:67px;right:16px;border-radius:3px;width:288px;background-color:#373D49;padding:16px;z-index:7}.show-settings .settings{display:block}.settings .has-checkbox{float:left}.settings form{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between}.settings input{width:20%}.settings a{font-size:1.25rem;font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:400;-webkit-font-smoothing:antialiased;line-height:28px;color:#D0D6E2}.settings a:after{content:"";display:table;clear:both}.settings a:hover{color:#35D7BB}.settings li{border-bottom:1px solid #4F535B;margin:0;padding:16px 0}.settings li:last-child{border-bottom:none}.brand{border:none;display:block}.brand:hover g{fill:#35D7BB}.toggle{display:block;float:left;height:16px;padding:25px 16px 26px;width:40px}.toggle span:after,.toggle span:before{content:'';left:0;position:absolute;top:-6px}.toggle span:after{top:6px}.toggle span{display:block;position:relative}.toggle span,.toggle span:after,.toggle span:before{-webkit-backface-visibility:hidden;backface-visibility:hidden;background-color:#D3DAEA;height:2px;transition:all .3s;width:20px}.open-menu .toggle span{background-color:transparent}.open-menu .toggle span:before{transform:rotate(45deg) translate(3px,3px)}.open-menu .toggle span:after{transform:rotate(-45deg) translate(5px,-6px)}.caret{display:inline-block;width:0;height:0;margin-left:6px;vertical-align:middle;position:relative;top:-1px;border-top:4px solid;border-right:4px solid transparent;border-left:4px solid transparent}.sidebar{overflow:auto;height:100%;padding-right:15px;padding-bottom:15px;width:285px}.sidebar-wrapper{-webkit-overflow-scrolling:touch;background-color:#2B2F36;left:0;height:100%;overflow-y:hidden;position:fixed;top:0;width:285px;z-index:1}.sidebar-branding{width:160px;padding:0;margin:16px auto}.header{border-bottom:1px solid #E8E8E8;position:relative}.words,.characters{line-height:1rem;font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem;font-weight:500;font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif;letter-spacing:1px;text-transform:uppercase;z-index:5;position:absolute;right:16px;top:0}.words span,.characters span{color:#A0AABF}.words .counter,.characters .counter{color:#000}.words+.characters{top:22px}.mr10{margin-right:10px}.btn{text-align:center;display:inline-block;width:100%;text-transform:uppercase;font-weight:600;font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif;font-size:14px;text-shadow:0 1px 0 #1b8b77;padding:16px 24px;background-color:#35D7BB;border-radius:3px;margin:0 auto 16px;line-height:1;color:#fff;transition:all .15s linear;-webkit-font-smoothing:antialiased}.btn--new,.btn--save{display:block;width:238px}.btn--new:hover,.btn--new:focus,.btn--save:hover,.btn--save:focus{color:#fff;border-bottom-color:transparent;box-shadow:0 1px 3px #24b59c;text-shadow:0 1px 0 #24b59c}.btn--save{background-color:#4A5261;text-shadow:0 1px 1px #1e2127}.btn--save:hover,.btn--save:focus{color:#fff;border-bottom-color:transparent;box-shadow:0 1px 5px #08090a;text-shadow:none}.btn--delete{display:block;width:238px;background-color:transparent;font-size:12px;text-shadow:none}.btn--delete:hover,.btn--delete:focus{color:#fff;border-bottom-color:transparent;text-shadow:0 1px 0 #08090a;opacity:.8}.btn--delete-modal,.btn--ok,.btn--close{border-top:0;background-color:#4A5261;text-shadow:0 1px 0 #08090a;margin:0}.btn--delete-modal:hover,.btn--delete-modal:focus,.btn--ok:hover,.btn--ok:focus,.btn--close:hover,.btn--close:focus{color:#fff;background-color:#292d36;text-shadow:none}.btn--delete-modal{display:inline;width:auto}.overlay{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(55,61,73,.8);transition:all .25s ease-in-out;transition-timing-function:ease-out;will-change:left,opacity,visibility;z-index:5;opacity:0;visibility:hidden}.show-settings .overlay{visibility:visible;opacity:1}.switch{float:right;line-height:1}.switch input{display:none}.switch small{display:inline-block;cursor:pointer;padding:0 24px 0 0;transition:all ease .2s;background-color:#2B2F36;border-color:#2B2F36}.switch small,.switch small:before{border-radius:30px;box-shadow:inset 0 0 2px 0 #14171F}.switch small:before{display:block;content:'';width:28px;height:28px;background:#fff}.switch.checked small{padding-right:0;padding-left:24px;background-color:#35D7BB;box-shadow:none}.modal--dillinger.about .modal-dialog{font-size:1.25rem;max-width:500px}.modal--dillinger.scope .modal-dialog{max-width:300px;margin:5rem auto}.modal--dillinger .modal-dialog{max-width:600px;width:auto;margin:5rem auto}.modal--dillinger .modal-content{background:#373D49;border-radius:3px;box-shadow:0 2px 5px 0 #2C3B59;color:#fff;font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:400;padding:2rem}.modal--dillinger ul{list-style-type:disc;margin:1rem 0;padding:0 0 0 1rem}.modal--dillinger li{padding:0;margin:0}.modal--dillinger .modal-header{border:0;padding:0}.modal--dillinger .modal-body{padding:0}.modal--dillinger .modal-footer{border:0;padding:0}.modal--dillinger .close{color:#fff;opacity:1}.modal-backdrop{background-color:#373D49}.pagination--dillinger{padding:0!important;margin:1.5rem 0!important;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-line-pack:stretch;align-content:stretch}.pagination--dillinger li{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;text-align:center}.pagination--dillinger li:first-child>a,.pagination--dillinger li.disabled>a,.pagination--dillinger li.disabled>a:hover,.pagination--dillinger li.disabled>a:focus,.pagination--dillinger li>a{background-color:transparent;border-color:#4F535B;border-right-color:transparent}.pagination--dillinger li.active>a,.pagination--dillinger li.active>a:hover,.pagination--dillinger li.active>a:focus{border-color:#4A5261;background-color:#4A5261;color:#fff}.pagination--dillinger li>a{float:none;color:#fff;width:100%;display:block;text-align:center;margin:0;border-right-color:transparent;padding:6px}.pagination--dillinger li>a:hover,.pagination--dillinger li>a:focus{border-color:#35D7BB;background-color:#35D7BB;color:#fff}.pagination--dillinger li:last-child a{border-color:#4F535B}.pagination--dillinger li:first-child a{border-right-color:transparent}.diNotify{position:absolute;z-index:9999;left:0;right:0;top:0;margin:0 auto;max-width:400px;text-align:center;transition:top .5s ease-in-out,opacity .5s ease-in-out;visibility:hidden}.diNotify-body{-webkit-font-smoothing:antialiased;background-color:#35D7BB;background:#666E7F;border-radius:3px;color:#fff;font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:400;overflow:hidden;padding:1rem 2rem .5rem;display:-ms-flexbox;display:flex;-ms-flex-align:baseline;align-items:baseline;-ms-flex-pack:center;justify-content:center}.diNotify-icon{display:block;width:16px;height:16px;line-height:16px;position:relative;top:3px}.diNotify-message{padding-left:1rem}.zen-wrapper{position:fixed;top:0;left:0;right:0;bottom:0;width:100%;height:100%;z-index:10;background-color:#FFF;opacity:0;transition:opacity .25s ease-in-out}.zen-wrapper.on{opacity:1}.enter-zen-mode{background-image:url("../img/icons/enter-zen.svg");right:.5rem;top:.313rem;display:none}.enter-zen-mode,.close-zen-mode{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0;background-repeat:no-repeat;width:32px;height:32px;display:block;position:absolute}.close-zen-mode{background-image:url("../img/icons/exit-zen.svg");right:1rem;top:1rem}.zen-page{position:relative;top:0;bottom:0;z-index:11;height:100%;width:100%}#zen{font-size:1.25rem;width:300px;height:80%;margin:0 auto;position:relative;top:10%}#zen:before,#zen:after{content:"";position:absolute;height:10%;width:100%;z-index:12;pointer-events:none}#preview .table{width:auto}.ui-resizable{position:relative}.ui-resizable-handle{position:absolute;font-size:.1px;z-index:99999;display:block}.ui-resizable-e{background-color:#666;border-right:8px solid #e8e8e8;border-left:1px solid #222;width:10px;z-index:88!important;position:relative}.ui-resizable-e:after{content:"-";display:block;position:absolute;top:calc(50% - 16px);left:0;height:25px;width:2px;background-color:rgba(0,0,0,.4);margin:3px}#editor{cursor:ew-resize;position:relative;z-index:auto}.profile-pic{float:left;width:250px}#_default_ a::before{color:#A0AABF}#_default_ img{display:none}#_default_ #_default_{display:block;float:left;max-width:38%;word-wrap:break-word}#_default_ .default-ad{display:none}#_default_ ._default_{display:block}#_default_ a{color:#35d7bb;text-decoration:none}#_default_ a:hover{color:#8ae8d8}#_default_ .default-image{display:none}#_default_ .default-title:after{content:" — "}#_default_ .default-title,#_default_ .default-text,#_default_ .default-description{display:inline}#_default_ .default-title{position:relative;font-weight:600;display:none}#_default_ a:before{position:relative;top:0;padding:5px;color:#a0aabf;content:"Ad";text-transform:uppercase;font-size:8px;font-family:Verdana,sans-serif}#_default_{display:block;float:left;max-width:38%;word-wrap:break-word}#_default_ ._default_{display:block;font-size:.75rem;height:51px;letter-spacing:1px;line-height:1rem;padding:18px 24px}body{max-width:1024px;margin:0 auto;overflow:auto;padding:2%}.split{overflow:scroll;padding:0!important;-webkit-overflow-scrolling:touch}.split-editor{padding-left:0;padding-right:0;position:relative;z-index:3}.show-preview .split-editor{display:none}.split-preview{background-color:#fff;display:none;top:0;position:relative;z-index:4}.show-preview .split-preview{display:block}#editor{font-size:1rem;font-family:"Ubuntu Mono",Monaco;font-weight:400;line-height:2rem;width:100%;height:100%}#editor .ace_gutter{-webkit-font-smoothing:antialiased}.editor-header{width:50%;float:left;border-bottom:1px solid #E8E8E8;position:relative}.editor-header--first{border-right:1px solid #E8E8E8}.editor-header .title{display:inline-block}.preview-html{padding:15px}.preview-html a{color:#A0AABF;text-decoration:underline}.preview-src{white-space:normal}.preview-mode-toggle-src{background-image:url("../img/icons/code.svg")}.preview-mode-toggle-src,.preview-mode-toggle-html{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0;background-repeat:no-repeat;width:32px;height:32px;display:block;position:absolute;right:.5rem;top:.5rem;display:none}.preview-mode-toggle-html{background-image:url("../img/icons/eye.svg")}.sr-only{visibility:hidden;text-overflow:110%;overflow:hidden;top:-100px;position:absolute}.mnone{margin:0!important}@media screen and (min-width:27.5em){html{font-size:.875em}body{font-size:1rem}ul,ol{margin-bottom:.83999rem;padding-top:.16001rem}p{padding-top:.66001rem}p,pre{margin-bottom:1.33999rem}pre,blockquote p{font-size:1rem;padding-top:.66001rem}blockquote p{margin-bottom:.33999rem}h1{font-size:2.0571429rem;margin-bottom:.21999rem;padding-top:.78001rem}h2{font-size:1.953125rem;margin-bottom:.1835837rem;padding-top:.8164163rem}h3{font-size:1.6457143rem;margin-bottom:.07599rem;padding-top:.92401rem}h4{font-size:1.5625rem;margin-bottom:.546865rem;padding-top:.453135rem}h5{font-size:1.25rem;margin-bottom:-.56251rem;padding-top:.56251rem}h6{font-size:1rem;margin-bottom:-.65001rem;padding-top:.65001rem}.g{margin-left:-16px;margin-right:-16px}.g-b{padding-left:16px;padding-right:16px}.g-b--m1of1{width:100%}.g-b--m1of2,.g-b--m2of4,.g-b--m3of6,.g-b--m4of8,.g-b--m5of10,.g-b--m6of12{width:50%}.g-b--m1of3,.g-b--m2of6,.g-b--m4of12{width:33.333%}.g-b--m2of3,.g-b--m4of6,.g-b--m8of12{width:66.666%}.g-b--m1of4,.g-b--m2of8,.g-b--m3of12{width:25%}.g-b--m3of4,.g-b--m6of8,.g-b--m9of12{width:75%}.g-b--m1of5,.g-b--m2of10{width:20%}.g-b--m2of5,.g-b--m4of10{width:40%}.g-b--m3of5,.g-b--m6of10{width:60%}.g-b--m4of5,.g-b--m8of10{width:80%}.g-b--m1of6,.g-b--m2of12{width:16.666%}.g-b--m5of6,.g-b--m10of12{width:83.333%}.g-b--m1of8{width:12.5%}.g-b--m3of8{width:37.5%}.g-b--m5of8{width:62.5%}.g-b--m7of8{width:87.5%}.g-b--m1of10{width:10%}.g-b--m3of10{width:30%}.g-b--m7of10{width:70%}.g-b--m9of10{width:90%}.g-b--m1of12{width:8.333%}.g-b--m5of12{width:41.666%}.g-b--m7of12{width:58.333%}.g-b--m11of12{width:91.666%}.g-b--push--m1of1{margin-left:100%}.g-b--push--m1of2,.g-b--push--m2of4,.g-b--push--m3of6,.g-b--push--m4of8,.g-b--push--m5of10,.g-b--push--m6of12{margin-left:50%}.g-b--push--m1of3,.g-b--push--m2of6,.g-b--push--m4of12{margin-left:33.333%}.g-b--push--m2of3,.g-b--push--m4of6,.g-b--push--m8of12{margin-left:66.666%}.g-b--push--m1of4,.g-b--push--m2of8,.g-b--push--m3of12{margin-left:25%}.g-b--push--m3of4,.g-b--push--m6of8,.g-b--push--m9of12{margin-left:75%}.g-b--push--m1of5,.g-b--push--m2of10{margin-left:20%}.g-b--push--m2of5,.g-b--push--m4of10{margin-left:40%}.g-b--push--m3of5,.g-b--push--m6of10{margin-left:60%}.g-b--push--m4of5,.g-b--push--m8of10{margin-left:80%}.g-b--push--m1of6,.g-b--push--m2of12{margin-left:16.666%}.g-b--push--m5of6,.g-b--push--m10of12{margin-left:83.333%}.g-b--push--m1of8{margin-left:12.5%}.g-b--push--m3of8{margin-left:37.5%}.g-b--push--m5of8{margin-left:62.5%}.g-b--push--m7of8{margin-left:87.5%}.g-b--push--m1of10{margin-left:10%}.g-b--push--m3of10{margin-left:30%}.g-b--push--m7of10{margin-left:70%}.g-b--push--m9of10{margin-left:90%}.g-b--push--m1of12{margin-left:8.333%}.g-b--push--m5of12{margin-left:41.666%}.g-b--push--m7of12{margin-left:58.333%}.g-b--push--m11of12{margin-left:91.666%}.g-b--pull--m1of1{margin-right:100%}.g-b--pull--m1of2,.g-b--pull--m2of4,.g-b--pull--m3of6,.g-b--pull--m4of8,.g-b--pull--m5of10,.g-b--pull--m6of12{margin-right:50%}.g-b--pull--m1of3,.g-b--pull--m2of6,.g-b--pull--m4of12{margin-right:33.333%}.g-b--pull--m2of3,.g-b--pull--m4of6,.g-b--pull--m8of12{margin-right:66.666%}.g-b--pull--m1of4,.g-b--pull--m2of8,.g-b--pull--m3of12{margin-right:25%}.g-b--pull--m3of4,.g-b--pull--m6of8,.g-b--pull--m9of12{margin-right:75%}.g-b--pull--m1of5,.g-b--pull--m2of10{margin-right:20%}.g-b--pull--m2of5,.g-b--pull--m4of10{margin-right:40%}.g-b--pull--m3of5,.g-b--pull--m6of10{margin-right:60%}.g-b--pull--m4of5,.g-b--pull--m8of10{margin-right:80%}.g-b--pull--m1of6,.g-b--pull--m2of12{margin-right:16.666%}.g-b--pull--m5of6,.g-b--pull--m10of12{margin-right:83.333%}.g-b--pull--m1of8{margin-right:12.5%}.g-b--pull--m3of8{margin-right:37.5%}.g-b--pull--m5of8{margin-right:62.5%}.g-b--pull--m7of8{margin-right:87.5%}.g-b--pull--m1of10{margin-right:10%}.g-b--pull--m3of10{margin-right:30%}.g-b--pull--m7of10{margin-right:70%}.g-b--pull--m9of10{margin-right:90%}.g-b--pull--m1of12{margin-right:8.333%}.g-b--pull--m5of12{margin-right:41.666%}.g-b--pull--m7of12{margin-right:58.333%}.g-b--pull--m11of12{margin-right:91.666%}.splashscreen p{font-size:1.25rem;margin-bottom:1.43749rem;padding-top:.56251rem}.title{font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem}.title-document{margin-bottom:.89999rem;padding-top:.10001rem}.title-document,.settings a{font-size:1.25rem}.words,.characters{font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem}.modal--dillinger.about .modal-dialog,#zen{font-size:1.25rem}#zen{width:400px}#editor{font-size:1rem}}@media screen and (min-width:46.25em){html{font-size:.875em}body{font-size:1rem}ul,ol{margin-bottom:.83999rem;padding-top:.16001rem}p{padding-top:.66001rem}p,pre{margin-bottom:1.33999rem}pre,blockquote p{font-size:1rem;padding-top:.66001rem}blockquote p{margin-bottom:.33999rem}h1{font-size:2.0571429rem;margin-bottom:.21999rem;padding-top:.78001rem}h2{font-size:1.953125rem;margin-bottom:.1835837rem;padding-top:.8164163rem}h3{font-size:1.6457143rem;margin-bottom:.07599rem;padding-top:.92401rem}h4{font-size:1.5625rem;margin-bottom:.546865rem;padding-top:.453135rem}h5{font-size:1.25rem;margin-bottom:-.56251rem;padding-top:.56251rem}h6{font-size:1rem;margin-bottom:-.65001rem;padding-top:.65001rem}.g{margin-left:-16px;margin-right:-16px}.g-b{padding-left:16px;padding-right:16px}.g-b--t1of1{width:100%}.g-b--t1of2,.g-b--t2of4,.g-b--t3of6,.g-b--t4of8,.g-b--t5of10,.g-b--t6of12{width:50%}.g-b--t1of3,.g-b--t2of6,.g-b--t4of12{width:33.333%}.g-b--t2of3,.g-b--t4of6,.g-b--t8of12{width:66.666%}.g-b--t1of4,.g-b--t2of8,.g-b--t3of12{width:25%}.g-b--t3of4,.g-b--t6of8,.g-b--t9of12{width:75%}.g-b--t1of5,.g-b--t2of10{width:20%}.g-b--t2of5,.g-b--t4of10{width:40%}.g-b--t3of5,.g-b--t6of10{width:60%}.g-b--t4of5,.g-b--t8of10{width:80%}.g-b--t1of6,.g-b--t2of12{width:16.666%}.g-b--t5of6,.g-b--t10of12{width:83.333%}.g-b--t1of8{width:12.5%}.g-b--t3of8{width:37.5%}.g-b--t5of8{width:62.5%}.g-b--t7of8{width:87.5%}.g-b--t1of10{width:10%}.g-b--t3of10{width:30%}.g-b--t7of10{width:70%}.g-b--t9of10{width:90%}.g-b--t1of12{width:8.333%}.g-b--t5of12{width:41.666%}.g-b--t7of12{width:58.333%}.g-b--t11of12{width:91.666%}.g-b--push--t1of1{margin-left:100%}.g-b--push--t1of2,.g-b--push--t2of4,.g-b--push--t3of6,.g-b--push--t4of8,.g-b--push--t5of10,.g-b--push--t6of12{margin-left:50%}.g-b--push--t1of3,.g-b--push--t2of6,.g-b--push--t4of12{margin-left:33.333%}.g-b--push--t2of3,.g-b--push--t4of6,.g-b--push--t8of12{margin-left:66.666%}.g-b--push--t1of4,.g-b--push--t2of8,.g-b--push--t3of12{margin-left:25%}.g-b--push--t3of4,.g-b--push--t6of8,.g-b--push--t9of12{margin-left:75%}.g-b--push--t1of5,.g-b--push--t2of10{margin-left:20%}.g-b--push--t2of5,.g-b--push--t4of10{margin-left:40%}.g-b--push--t3of5,.g-b--push--t6of10{margin-left:60%}.g-b--push--t4of5,.g-b--push--t8of10{margin-left:80%}.g-b--push--t1of6,.g-b--push--t2of12{margin-left:16.666%}.g-b--push--t5of6,.g-b--push--t10of12{margin-left:83.333%}.g-b--push--t1of8{margin-left:12.5%}.g-b--push--t3of8{margin-left:37.5%}.g-b--push--t5of8{margin-left:62.5%}.g-b--push--t7of8{margin-left:87.5%}.g-b--push--t1of10{margin-left:10%}.g-b--push--t3of10{margin-left:30%}.g-b--push--t7of10{margin-left:70%}.g-b--push--t9of10{margin-left:90%}.g-b--push--t1of12{margin-left:8.333%}.g-b--push--t5of12{margin-left:41.666%}.g-b--push--t7of12{margin-left:58.333%}.g-b--push--t11of12{margin-left:91.666%}.g-b--pull--t1of1{margin-right:100%}.g-b--pull--t1of2,.g-b--pull--t2of4,.g-b--pull--t3of6,.g-b--pull--t4of8,.g-b--pull--t5of10,.g-b--pull--t6of12{margin-right:50%}.g-b--pull--t1of3,.g-b--pull--t2of6,.g-b--pull--t4of12{margin-right:33.333%}.g-b--pull--t2of3,.g-b--pull--t4of6,.g-b--pull--t8of12{margin-right:66.666%}.g-b--pull--t1of4,.g-b--pull--t2of8,.g-b--pull--t3of12{margin-right:25%}.g-b--pull--t3of4,.g-b--pull--t6of8,.g-b--pull--t9of12{margin-right:75%}.g-b--pull--t1of5,.g-b--pull--t2of10{margin-right:20%}.g-b--pull--t2of5,.g-b--pull--t4of10{margin-right:40%}.g-b--pull--t3of5,.g-b--pull--t6of10{margin-right:60%}.g-b--pull--t4of5,.g-b--pull--t8of10{margin-right:80%}.g-b--pull--t1of6,.g-b--pull--t2of12{margin-right:16.666%}.g-b--pull--t5of6,.g-b--pull--t10of12{margin-right:83.333%}.g-b--pull--t1of8{margin-right:12.5%}.g-b--pull--t3of8{margin-right:37.5%}.g-b--pull--t5of8{margin-right:62.5%}.g-b--pull--t7of8{margin-right:87.5%}.g-b--pull--t1of10{margin-right:10%}.g-b--pull--t3of10{margin-right:30%}.g-b--pull--t7of10{margin-right:70%}.g-b--pull--t9of10{margin-right:90%}.g-b--pull--t1of12{margin-right:8.333%}.g-b--pull--t5of12{margin-right:41.666%}.g-b--pull--t7of12{margin-right:58.333%}.g-b--pull--t11of12{margin-right:91.666%}.splashscreen-dillinger{width:500px}.splashscreen p{font-size:1.25rem;margin-bottom:1.43749rem;padding-top:.56251rem}.title{font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem}.title-document{font-size:1.25rem;margin-bottom:.89999rem;padding-top:.10001rem}.menu .menu-item--save-to,.menu .menu-item--import-from{display:block}.menu .menu-item--preview,.menu .menu-item--save-to.in-sidebar,.menu .menu-item--import-from.in-sidebar{display:none}.settings a{font-size:1.25rem}.words,.characters{font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem}.modal--dillinger.about .modal-dialog{font-size:1.25rem}.enter-zen-mode{display:block}.close-zen-mode{right:3rem;top:3rem}#zen{font-size:1.25rem;width:500px}.split-editor{border-right:1px solid #E8E8E8;float:left;padding-right:16px;width:50%}.show-preview .split-editor{display:block}.split-preview{display:block;float:right;position:relative;top:0;width:50%}#editor{font-size:1rem}.preview-mode-toggle-src,.preview-mode-toggle-html{display:block}}@media screen and (min-width:62.5em){html{font-size:.875em}body{font-size:1rem}ul,ol{margin-bottom:.83999rem;padding-top:.16001rem}p{padding-top:.66001rem}p,pre{margin-bottom:1.33999rem}pre,blockquote p{font-size:1rem;padding-top:.66001rem}blockquote p{margin-bottom:.33999rem}h1{font-size:2.0571429rem;margin-bottom:.21999rem;padding-top:.78001rem}h2{font-size:1.953125rem;margin-bottom:.1835837rem;padding-top:.8164163rem}h3{font-size:1.6457143rem;margin-bottom:.07599rem;padding-top:.92401rem}h4{font-size:1.5625rem;margin-bottom:.546865rem;padding-top:.453135rem}h5{font-size:1.25rem;margin-bottom:-.56251rem;padding-top:.56251rem}h6{font-size:1rem;margin-bottom:-.65001rem;padding-top:.65001rem}.g{margin-left:-16px;margin-right:-16px}.g-b{padding-left:16px;padding-right:16px}.g-b--d1of1{width:100%}.g-b--d1of2,.g-b--d2of4,.g-b--d3of6,.g-b--d4of8,.g-b--d5of10,.g-b--d6of12{width:50%}.g-b--d1of3,.g-b--d2of6,.g-b--d4of12{width:33.333%}.g-b--d2of3,.g-b--d4of6,.g-b--d8of12{width:66.666%}.g-b--d1of4,.g-b--d2of8,.g-b--d3of12{width:25%}.g-b--d3of4,.g-b--d6of8,.g-b--d9of12{width:75%}.g-b--d1of5,.g-b--d2of10{width:20%}.g-b--d2of5,.g-b--d4of10{width:40%}.g-b--d3of5,.g-b--d6of10{width:60%}.g-b--d4of5,.g-b--d8of10{width:80%}.g-b--d1of6,.g-b--d2of12{width:16.666%}.g-b--d5of6,.g-b--d10of12{width:83.333%}.g-b--d1of8{width:12.5%}.g-b--d3of8{width:37.5%}.g-b--d5of8{width:62.5%}.g-b--d7of8{width:87.5%}.g-b--d1of10{width:10%}.g-b--d3of10{width:30%}.g-b--d7of10{width:70%}.g-b--d9of10{width:90%}.g-b--d1of12{width:8.333%}.g-b--d5of12{width:41.666%}.g-b--d7of12{width:58.333%}.g-b--d11of12{width:91.666%}.g-b--push--d1of1{margin-left:100%}.g-b--push--d1of2,.g-b--push--d2of4,.g-b--push--d3of6,.g-b--push--d4of8,.g-b--push--d5of10,.g-b--push--d6of12{margin-left:50%}.g-b--push--d1of3,.g-b--push--d2of6,.g-b--push--d4of12{margin-left:33.333%}.g-b--push--d2of3,.g-b--push--d4of6,.g-b--push--d8of12{margin-left:66.666%}.g-b--push--d1of4,.g-b--push--d2of8,.g-b--push--d3of12{margin-left:25%}.g-b--push--d3of4,.g-b--push--d6of8,.g-b--push--d9of12{margin-left:75%}.g-b--push--d1of5,.g-b--push--d2of10{margin-left:20%}.g-b--push--d2of5,.g-b--push--d4of10{margin-left:40%}.g-b--push--d3of5,.g-b--push--d6of10{margin-left:60%}.g-b--push--d4of5,.g-b--push--d8of10{margin-left:80%}.g-b--push--d1of6,.g-b--push--d2of12{margin-left:16.666%}.g-b--push--d5of6,.g-b--push--d10of12{margin-left:83.333%}.g-b--push--d1of8{margin-left:12.5%}.g-b--push--d3of8{margin-left:37.5%}.g-b--push--d5of8{margin-left:62.5%}.g-b--push--d7of8{margin-left:87.5%}.g-b--push--d1of10{margin-left:10%}.g-b--push--d3of10{margin-left:30%}.g-b--push--d7of10{margin-left:70%}.g-b--push--d9of10{margin-left:90%}.g-b--push--d1of12{margin-left:8.333%}.g-b--push--d5of12{margin-left:41.666%}.g-b--push--d7of12{margin-left:58.333%}.g-b--push--d11of12{margin-left:91.666%}.g-b--pull--d1of1{margin-right:100%}.g-b--pull--d1of2,.g-b--pull--d2of4,.g-b--pull--d3of6,.g-b--pull--d4of8,.g-b--pull--d5of10,.g-b--pull--d6of12{margin-right:50%}.g-b--pull--d1of3,.g-b--pull--d2of6,.g-b--pull--d4of12{margin-right:33.333%}.g-b--pull--d2of3,.g-b--pull--d4of6,.g-b--pull--d8of12{margin-right:66.666%}.g-b--pull--d1of4,.g-b--pull--d2of8,.g-b--pull--d3of12{margin-right:25%}.g-b--pull--d3of4,.g-b--pull--d6of8,.g-b--pull--d9of12{margin-right:75%}.g-b--pull--d1of5,.g-b--pull--d2of10{margin-right:20%}.g-b--pull--d2of5,.g-b--pull--d4of10{margin-right:40%}.g-b--pull--d3of5,.g-b--pull--d6of10{margin-right:60%}.g-b--pull--d4of5,.g-b--pull--d8of10{margin-right:80%}.g-b--pull--d1of6,.g-b--pull--d2of12{margin-right:16.666%}.g-b--pull--d5of6,.g-b--pull--d10of12{margin-right:83.333%}.g-b--pull--d1of8{margin-right:12.5%}.g-b--pull--d3of8{margin-right:37.5%}.g-b--pull--d5of8{margin-right:62.5%}.g-b--pull--d7of8{margin-right:87.5%}.g-b--pull--d1of10{margin-right:10%}.g-b--pull--d3of10{margin-right:30%}.g-b--pull--d7of10{margin-right:70%}.g-b--pull--d9of10{margin-right:90%}.g-b--pull--d1of12{margin-right:8.333%}.g-b--pull--d5of12{margin-right:41.666%}.g-b--pull--d7of12{margin-right:58.333%}.g-b--pull--d11of12{margin-right:91.666%}.splashscreen-dillinger{width:700px}.splashscreen p{font-size:1.25rem;margin-bottom:1.43749rem;padding-top:.56251rem}.title{font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem}.title-document{font-size:1.25rem;margin-bottom:.89999rem;padding-top:.10001rem}.menu .menu-item--export-as{display:block}.menu .menu-item--preview{display:none}.settings a{font-size:1.25rem}.words,.characters{font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem}.modal--dillinger.about .modal-dialog,#zen{font-size:1.25rem}#zen{width:700px}#editor{font-size:1rem}}@media screen and (min-width:87.5em){html{font-size:.875em}body{font-size:1rem}ul,ol{margin-bottom:.83999rem;padding-top:.16001rem}p{padding-top:.66001rem}p,pre{margin-bottom:1.33999rem}pre,blockquote p{font-size:1rem;padding-top:.66001rem}blockquote p{margin-bottom:.33999rem}h1{font-size:2.0571429rem;margin-bottom:.21999rem;padding-top:.78001rem}h2{font-size:1.953125rem;margin-bottom:.1835837rem;padding-top:.8164163rem}h3{font-size:1.6457143rem;margin-bottom:.07599rem;padding-top:.92401rem}h4{font-size:1.5625rem;margin-bottom:.546865rem;padding-top:.453135rem}h5{font-size:1.25rem;margin-bottom:-.56251rem;padding-top:.56251rem}h6{font-size:1rem;margin-bottom:-.65001rem;padding-top:.65001rem}.splashscreen-dillinger{width:800px}.splashscreen p{font-size:1.25rem;margin-bottom:1.43749rem;padding-top:.56251rem}.title{font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem}.title-document{margin-bottom:.89999rem;padding-top:.10001rem}.title-document,.settings a{font-size:1.25rem}.words,.characters{font-size:.8rem;margin-bottom:.77999rem;padding-top:.22001rem}.modal--dillinger.about .modal-dialog,#zen{font-size:1.25rem}#editor{font-size:1rem}}@media (min-width:768px){.form-inline .form-group{display:inline-block;margin-bottom:0;vertical-align:middle}.form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}.form-inline .input-group{display:inline-table;vertical-align:middle}.form-inline .input-group .input-group-addon,.form-inline .input-group .input-group-btn,.form-inline .input-group .form-control{width:auto}.form-inline .input-group>.form-control{width:100%}.form-inline .control-label{margin-bottom:0;vertical-align:middle}.form-inline .radio,.form-inline .checkbox{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.form-inline .radio label,.form-inline .checkbox label{padding-left:0}.form-inline .radio input[type="radio"],.form-inline .checkbox input[type="checkbox"]{position:relative;margin-left:0}.form-inline .has-feedback .form-control-feedback{top:0}.form-horizontal .control-label{text-align:right;margin-bottom:0;padding-top:7px}.form-horizontal .form-group-lg .control-label{padding-top:14.3px}.form-horizontal .form-group-sm .control-label{padding-top:6px}.modal-dialog{width:600px;margin:30px auto}.modal-content{box-shadow:0 5px 15px rgba(0,0,0,.5)}.modal-sm{width:300px}}@media (min-width:992px){.modal-lg{width:900px}}@media screen and (max-width:1200px){#_default_{max-width:30%}#_default_ ._default_{font-size:.825rem;line-height:.875rem;padding:12px 12px 6px 24px;text-align:justify}}@media screen and (max-width:1100px){#_default_{max-width:27%}#_default_ ._default_{font-size:.8rem;line-height:.85rem;padding:12px 6px 6px 24px;text-align:justify}}@media screen and (max-width:1000px){#_default_{max-width:24%}#_default_ ._default_{font-size:.775rem;line-height:.8rem;padding:12px 6px 6px 24px;text-align:justify}}@media screen and (max-width:900px){#_default_{max-width:30%}}@media screen and (max-width:767px){.table-responsive{width:100%;margin-bottom:15px;overflow-y:hidden;overflow-x:auto;-ms-overflow-style:-ms-autohiding-scrollbar;border:1px solid #ddd;-webkit-overflow-scrolling:touch}.table-responsive>.table{margin-bottom:0}.table-responsive>.table>thead>tr>th,.table-responsive>.table>thead>tr>td,.table-responsive>.table>tbody>tr>th,.table-responsive>.table>tbody>tr>td,.table-responsive>.table>tfoot>tr>th,.table-responsive>.table>tfoot>tr>td{white-space:nowrap}.table-responsive>.table-bordered{border:0}.table-responsive>.table-bordered>thead>tr>th:first-child,.table-responsive>.table-bordered>thead>tr>td:first-child,.table-responsive>.table-bordered>tbody>tr>th:first-child,.table-responsive>.table-bordered>tbody>tr>td:first-child,.table-responsive>.table-bordered>tfoot>tr>th:first-child,.table-responsive>.table-bordered>tfoot>tr>td:first-child{border-left:0}.table-responsive>.table-bordered>thead>tr>th:last-child,.table-responsive>.table-bordered>thead>tr>td:last-child,.table-responsive>.table-bordered>tbody>tr>th:last-child,.table-responsive>.table-bordered>tbody>tr>td:last-child,.table-responsive>.table-bordered>tfoot>tr>th:last-child,.table-responsive>.table-bordered>tfoot>tr>td:last-child{border-right:0}.table-responsive>.table-bordered>tbody>tr:last-child>th,.table-responsive>.table-bordered>tbody>tr:last-child>td,.table-responsive>.table-bordered>tfoot>tr:last-child>th,.table-responsive>.table-bordered>tfoot>tr:last-child>td{border-bottom:0}}@media screen and (max-width:720px){#_default_{max-width:60%}#_default_ ._default_{font-size:.75rem;line-height:1rem;padding:12px 24px}}@media screen and (max-width:620px){#_default_{max-width:50%}#_default_ ._default_{font-size:.66rem;letter-spacing:1px;line-height:1rem;padding:10px 24px}}@media screen and (max-width:520px){#_default_ ._default_{font-size:.4rem;line-height:.875rem;padding:6px 12px 6px 24px;text-align:justify}}@media screen and (max-width:460px){#_default_{display:none}}@media screen and (max-width:46.1875em){.editor-header{display:none}.editor-header--first{display:block;width:100%}}</style></head><body id="preview">
<h1 class="code-line" data-line-start=0 data-line-end=1 ><a id="Enhanced_14Day_Instagram_Clone_Project_Plan_0"></a>Enhanced 14-Day Instagram Clone Project Plan</h1>
<h2 class="code-line" data-line-start=2 data-line-end=3 ><a id="Overview_2"></a>Overview</h2>
<p class="has-line-data" data-line-start="3" data-line-end="4">This enhanced guide leads you through building a simplified Instagram clone, focusing on core features like authentication, photo posts, likes, and comments. We’ll leverage Vite for a fast React frontend and Python Flask with SQLite for the backend. This plan adapts the DevConnect structure for a more image-centric, social-media-style application.</p>
<hr>
<h2 class="code-line" data-line-start=7 data-line-end=8 ><a id="Day_1_Environment_Setup__Project_Kickoff__7"></a>Day 1: Environment Setup &amp; Project Kickoff ⚙️</h2>
<h3 class="code-line" data-line-start=9 data-line-end=10 ><a id="_Objectives_9"></a>🎯 Objectives</h3>
<ul>
<li class="has-line-data" data-line-start="10" data-line-end="11">Set up your complete development environment</li>
<li class="has-line-data" data-line-start="11" data-line-end="12">Configure Git, GitHub, and VSCode (with GitHub Copilot)</li>
<li class="has-line-data" data-line-start="12" data-line-end="14">Understand the project architecture for an Instagram clone</li>
</ul>
<h3 class="code-line" data-line-start=14 data-line-end=15 ><a id="_Knowledge_Refresher_Monorepo_vs_Polyrepo_14"></a>📚 Knowledge Refresher: Monorepo vs. Polyrepo</h3>
<blockquote>
<p class="has-line-data" data-line-start="15" data-line-end="16">For this project, we’ll use a simple monorepo-like structure within a single Git repository, housing both frontend and backend folders. This simplifies initial setup compared to managing separate repositories (polyrepo), but for larger projects, polyrepos or more advanced monorepo tools are often preferred.</p>
</blockquote>
<h3 class="code-line" data-line-start=17 data-line-end=18 ><a id="_StepbyStep_Tasks_17"></a>✅ Step-by-Step Tasks</h3>
<ol>
<li class="has-line-data" data-line-start="18" data-line-end="23">
<p class="has-line-data" data-line-start="18" data-line-end="19"><strong>Install Tools:</strong></p>
<ul>
<li class="has-line-data" data-line-start="19" data-line-end="20">Download and install Visual Studio Code</li>
<li class="has-line-data" data-line-start="20" data-line-end="21">Install Git and verify installation with: <code>git --version</code></li>
<li class="has-line-data" data-line-start="21" data-line-end="23">Create GitHub accounts (if you haven’t already) at GitHub</li>
</ul>
</li>
<li class="has-line-data" data-line-start="23" data-line-end="27">
<p class="has-line-data" data-line-start="23" data-line-end="24"><strong>Set Up VSCode Extensions:</strong></p>
<ul>
<li class="has-line-data" data-line-start="24" data-line-end="25">Install the “GitHub Copilot” extension</li>
<li class="has-line-data" data-line-start="25" data-line-end="27">Install other useful extensions: “Python”, “ESLint”, “Prettier”, “Live Share”.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="27" data-line-end="35">
<p class="has-line-data" data-line-start="27" data-line-end="28"><strong>Create a Repository:</strong></p>
<ul>
<li class="has-line-data" data-line-start="28" data-line-end="29">On GitHub, create a new repository named <code>InstagramClone</code></li>
<li class="has-line-data" data-line-start="29" data-line-end="35">Clone the repository locally:<pre><code class="has-line-data" data-line-start="31" data-line-end="34" class="language-bash">git <span class="hljs-built_in">clone</span> https://github.com/yourusername/InstagramClone.git
<span class="hljs-built_in">cd</span> InstagramClone
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="35" data-line-end="44">
<p class="has-line-data" data-line-start="35" data-line-end="36"><strong>Initialize Project Folders:</strong></p>
<ul>
<li class="has-line-data" data-line-start="36" data-line-end="42">Create a folder structure:<pre><code class="has-line-data" data-line-start="38" data-line-end="42">InstagramClone/
├── frontend/
└── backend/
</code></pre>
</li>
<li class="has-line-data" data-line-start="42" data-line-end="44">Open the project folder in VSCode</li>
</ul>
</li>
<li class="has-line-data" data-line-start="44" data-line-end="54">
<p class="has-line-data" data-line-start="44" data-line-end="45"><strong>Commit Initial Setup:</strong></p>
<ul>
<li class="has-line-data" data-line-start="45" data-line-end="46">Add a <code>.gitignore</code> file (include patterns for Python <code>venv/</code> and Node <code>node_modules/</code>, <code>.env</code>)</li>
<li class="has-line-data" data-line-start="46" data-line-end="47">Create a basic <code>README.md</code> file explaining the project’s goal.</li>
<li class="has-line-data" data-line-start="47" data-line-end="54">Make an initial commit:<pre><code class="has-line-data" data-line-start="49" data-line-end="53" class="language-bash">git add .
git commit -m <span class="hljs-string">"Initial project structure for Instagram Clone"</span>
git push
</code></pre>
</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=54 data-line-end=55 ><a id="_Daily_Challenge_54"></a>🧩 Daily Challenge</h3>
<p class="has-line-data" data-line-start="55" data-line-end="56">Find and bookmark useful resources for frontend and backend development (e.g., React documentation, Flask documentation, W3Schools CSS Grid/Flexbox guides).</p>
<h3 class="code-line" data-line-start=57 data-line-end=58 ><a id="_Troubleshooting_Tips_57"></a>🔍 Troubleshooting Tips</h3>
<ul>
<li class="has-line-data" data-line-start="58" data-line-end="59"><strong>Git commands not working?</strong> Ensure Git is installed and your terminal recognizes it. Restart terminal/VSCode.</li>
<li class="has-line-data" data-line-start="59" data-line-end="60"><strong>VSCode not opening folder?</strong> Use <code>code .</code> from the correct directory in your terminal, or use File &gt; Open Folder.</li>
<li class="has-line-data" data-line-start="60" data-line-end="62"><strong>GitHub connection issues?</strong> Check your internet connection and GitHub credentials.</li>
</ul>
<h3 class="code-line" data-line-start=62 data-line-end=63 ><a id="_Stretch_Goal_62"></a>✨ Stretch Goal</h3>
<p class="has-line-data" data-line-start="63" data-line-end="64">Research and decide on a simple public image hosting service you might use later (e.g., Cloudinary free tier, ImgBB, or understand the limitations of storing images locally in a simple setup). <em>Note: For this plan, we’ll initially store image URLs and assume an external hosting solution or simplified local storage.</em></p>
<hr>
<h2 class="code-line" data-line-start=67 data-line-end=68 ><a id="Day_2_Planning_Features__Data_Model__67"></a>Day 2: Planning, Features &amp; Data Model 📝</h2>
<h3 class="code-line" data-line-start=69 data-line-end=70 ><a id="_Objectives_69"></a>🎯 Objectives</h3>
<ul>
<li class="has-line-data" data-line-start="70" data-line-end="71">Define clear project requirements and features for the clone</li>
<li class="has-line-data" data-line-start="71" data-line-end="72">Sketch out core UI flows and layouts (wireframes)</li>
<li class="has-line-data" data-line-start="72" data-line-end="74">Design the basic database schema (tables and relationships)</li>
</ul>
<h3 class="code-line" data-line-start=74 data-line-end=75 ><a id="_Knowledge_Refresher_Relational_Database_Design_Simplified_74"></a>📚 Knowledge Refresher: Relational Database Design (Simplified)</h3>
<blockquote>
<p class="has-line-data" data-line-start="75" data-line-end="76">A relational database organizes data into tables with rows and columns. Data is linked between tables using relationships (one-to-one, one-to-many, many-to-many). For our clone, we’ll need tables for <code>users</code>, <code>posts</code>, <code>likes</code>, and <code>comments</code>.</p>
</blockquote>
<h3 class="code-line" data-line-start=77 data-line-end=78 ><a id="_StepbyStep_Tasks_77"></a>✅ Step-by-Step Tasks</h3>
<ol>
<li class="has-line-data" data-line-start="78" data-line-end="89">
<p class="has-line-data" data-line-start="78" data-line-end="79"><strong>Define Core Features:</strong></p>
<ul>
<li class="has-line-data" data-line-start="79" data-line-end="80">User Authentication (Sign up, Sign in)</li>
<li class="has-line-data" data-line-start="80" data-line-end="81">Creating a Post (Upload image URL, add caption)</li>
<li class="has-line-data" data-line-start="81" data-line-end="82">Viewing a Feed of posts</li>
<li class="has-line-data" data-line-start="82" data-line-end="83">Viewing individual posts (modal or page)</li>
<li class="has-line-data" data-line-start="83" data-line-end="84">Liking/Unliking a post</li>
<li class="has-line-data" data-line-start="84" data-line-end="85">Viewing Likes on a post</li>
<li class="has-line-data" data-line-start="85" data-line-end="86">Adding comments to a post</li>
<li class="has-line-data" data-line-start="86" data-line-end="87">Viewing comments on a post</li>
<li class="has-line-data" data-line-start="87" data-line-end="89">(Simplified) Basic User Profile view (just username, maybe post count)</li>
</ul>
</li>
<li class="has-line-data" data-line-start="89" data-line-end="99">
<p class="has-line-data" data-line-start="89" data-line-end="90"><strong>Sketch Wireframes:</strong></p>
<ul>
<li class="has-line-data" data-line-start="90" data-line-end="91">Use a tool (Figma, <a href="http://draw.io">draw.io</a>) or paper. Focus on layout, not style.</li>
<li class="has-line-data" data-line-start="91" data-line-end="99">Draw wireframes for:
<ul>
<li class="has-line-data" data-line-start="92" data-line-end="93">Login/Signup Page</li>
<li class="has-line-data" data-line-start="93" data-line-end="94">Feed Page (Header, scrollable list of posts)</li>
<li class="has-line-data" data-line-start="94" data-line-end="95">Post Item (Image, caption, author, like count, comment count/preview, actions)</li>
<li class="has-line-data" data-line-start="95" data-line-end="96">Create New Post Modal/Page</li>
<li class="has-line-data" data-line-start="96" data-line-end="97">(Optional) Post Detail View (showing all comments)</li>
<li class="has-line-data" data-line-start="97" data-line-end="99">(Optional) Simple Profile Page</li>
</ul>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="99" data-line-end="107">
<p class="has-line-data" data-line-start="99" data-line-end="100"><strong>Design Database Schema:</strong></p>
<ul>
<li class="has-line-data" data-line-start="100" data-line-end="105">Define tables and columns:
<ul>
<li class="has-line-data" data-line-start="101" data-line-end="102"><code>users</code>: <code>id</code>, <code>username</code> (unique), <code>password</code> (hashed)</li>
<li class="has-line-data" data-line-start="102" data-line-end="103"><code>posts</code>: <code>id</code>, <code>user_id</code> (FK to <a href="http://users.id">users.id</a>), <code>image_url</code>, <code>caption</code>, <code>timestamp</code></li>
<li class="has-line-data" data-line-start="103" data-line-end="104"><code>likes</code>: <code>id</code>, <code>user_id</code> (FK to <a href="http://users.id">users.id</a>), <code>post_id</code> (FK to <a href="http://posts.id">posts.id</a>) - <em>Note: This is a many-to-many relationship table</em></li>
<li class="has-line-data" data-line-start="104" data-line-end="105"><code>comments</code>: <code>id</code>, <code>user_id</code> (FK to <a href="http://users.id">users.id</a>), <code>post_id</code> (FK to <a href="http://posts.id">posts.id</a>), <code>content</code>, <code>timestamp</code></li>
</ul>
</li>
<li class="has-line-data" data-line-start="105" data-line-end="107">Sketch out the relationships.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="107" data-line-end="131">
<p class="has-line-data" data-line-start="107" data-line-end="108"><strong>Document the Plan:</strong></p>
<ul>
<li class="has-line-data" data-line-start="108" data-line-end="129">Create a markdown file (<code>PLAN.md</code>) in your repo:<pre><code class="has-line-data" data-line-start="110" data-line-end="129" class="language-markdown"><span class="hljs-header"># Instagram Clone Project Plan</span>

<span class="hljs-header">## Features</span>
<span class="hljs-bullet">- </span>User Authentication (Sign Up / Sign In)
<span class="hljs-bullet">- </span>Post Creation (Image URL + Caption)
<span class="hljs-bullet">- </span>Global Post Feed
<span class="hljs-bullet">- </span>Likes
<span class="hljs-bullet">- </span>Comments
<span class="hljs-bullet">- </span>Simple User Profile

<span class="hljs-header">## Architecture</span>
<span class="hljs-bullet">- </span><span class="hljs-strong">**Frontend:**</span> React with Vite
<span class="hljs-bullet">- </span><span class="hljs-strong">**Backend:**</span> Python (Flask) with SQLite
<span class="hljs-bullet">- </span><span class="hljs-strong">**Image Storage:**</span> External URL (for this plan's scope)
<span class="hljs-bullet">- </span><span class="hljs-strong">**Authentication:**</span> JWT

<span class="hljs-header">## Database Schema</span>
(Add your table definitions and relationships here, possibly with a diagram)
</code></pre>
</li>
<li class="has-line-data" data-line-start="129" data-line-end="131">Commit your wireframes (as images) and the <code>PLAN.md</code> file.</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=131 data-line-end=132 ><a id="_Daily_Challenge_131"></a>🧩 Daily Challenge</h3>
<p class="has-line-data" data-line-start="132" data-line-end="133">Refine your database schema to include timestamps for likes and comments. Think about how you’d uniquely identify a like (user+post).</p>
<h3 class="code-line" data-line-start=134 data-line-end=135 ><a id="_Troubleshooting_Tips_134"></a>🔍 Troubleshooting Tips</h3>
<ul>
<li class="has-line-data" data-line-start="135" data-line-end="136"><strong>Stuck on design?</strong> Look at existing Instagram UI for inspiration on layout, but keep it simple.</li>
<li class="has-line-data" data-line-start="136" data-line-end="138"><strong>Database relationships confusing?</strong> Focus on what data needs to be connected (a like belongs to a user AND a post).</li>
</ul>
<h3 class="code-line" data-line-start=138 data-line-end=139 ><a id="_Stretch_Goal_138"></a>✨ Stretch Goal</h3>
<p class="has-line-data" data-line-start="139" data-line-end="140">Design a basic profile page schema and layout (e.g., adding a ‘bio’ column to the <code>users</code> table, showing a grid of a user’s posts).</p>
<hr>
<h2 class="code-line" data-line-start=143 data-line-end=144 ><a id="Day_3_FrontEnd_Setup_with_Vite_and_React__Layout__143"></a>Day 3: Front-End Setup with Vite and React - Layout ⚛️</h2>
<h3 class="code-line" data-line-start=145 data-line-end=146 ><a id="_Objectives_145"></a>🎯 Objectives</h3>
<ul>
<li class="has-line-data" data-line-start="146" data-line-end="147">Set up the Vite React project in the <code>frontend</code> folder</li>
<li class="has-line-data" data-line-start="147" data-line-end="148">Create a basic layout structure (Header, Main content)</li>
<li class="has-line-data" data-line-start="148" data-line-end="150">Implement simple global styling resembling an Instagram look</li>
</ul>
<h3 class="code-line" data-line-start=150 data-line-end=151 ><a id="_Knowledge_Refresher_CSS_Layout_FlexboxGrid_150"></a>📚 Knowledge Refresher: CSS Layout (Flexbox/Grid)</h3>
<blockquote>
<p class="has-line-data" data-line-start="151" data-line-end="152">Flexbox and CSS Grid are powerful layout models. Flexbox is great for aligning items in a single row or column, while Grid is ideal for 2-dimensional layouts like grids of images (which we’ll need later!).</p>
</blockquote>
<h3 class="code-line" data-line-start=153 data-line-end=154 ><a id="_StepbyStep_Tasks_153"></a>✅ Step-by-Step Tasks</h3>
<ol>
<li class="has-line-data" data-line-start="154" data-line-end="162">
<p class="has-line-data" data-line-start="154" data-line-end="155"><strong>Initialize Vite React App:</strong></p>
<ul>
<li class="has-line-data" data-line-start="155" data-line-end="160">Inside the <code>frontend</code> folder:<pre><code class="has-line-data" data-line-start="157" data-line-end="160" class="language-bash">npm create vite@latest . --template react <span class="hljs-comment"># Use '.' to create in current dir</span>
npm install
</code></pre>
</li>
<li class="has-line-data" data-line-start="160" data-line-end="162">Open the <code>frontend</code> folder in VSCode (or open the root and navigate)</li>
</ul>
</li>
<li class="has-line-data" data-line-start="162" data-line-end="166">
<p class="has-line-data" data-line-start="162" data-line-end="163"><strong>Project Structure Exploration:</strong></p>
<ul>
<li class="has-line-data" data-line-start="163" data-line-end="164">Review the default Vite project structure in <code>frontend/</code>.</li>
<li class="has-line-data" data-line-start="164" data-line-end="166">Note <code>src/main.jsx</code>, <code>src/App.jsx</code>, <code>vite.config.js</code>.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="166" data-line-end="204">
<p class="has-line-data" data-line-start="166" data-line-end="167"><strong>Create Basic Components:</strong></p>
<ul>
<li class="has-line-data" data-line-start="167" data-line-end="204">
<p class="has-line-data" data-line-start="167" data-line-end="168">In <code>src/</code>, create a new folder <code>components</code> and add:</p>
<p class="has-line-data" data-line-start="169" data-line-end="170"><strong>Header.jsx:</strong></p>
<pre><code class="has-line-data" data-line-start="171" data-line-end="186" class="language-jsx">import './Header.css';

function Header() {
  return (
    &lt;header className=&quot;app-header&quot;&gt;
      &lt;div className=&quot;container&quot;&gt;
        &lt;h1&gt;InstagramClone&lt;/h1&gt;
        {/* Navigation/user controls will go here later */}
      &lt;/div&gt;
    &lt;/header&gt;
  );
}

export default Header;
</code></pre>
<p class="has-line-data" data-line-start="187" data-line-end="188"><strong>Footer.jsx:</strong></p>
<pre><code class="has-line-data" data-line-start="189" data-line-end="203" class="language-jsx">import './Footer.css';

function Footer() {
  return (
    &lt;footer className=&quot;app-footer&quot;&gt;
      &lt;div className=&quot;container&quot;&gt;
        &lt;p&gt;&amp;copy; 2025 InstagramClone&lt;/p&gt;
      &lt;/div&gt;
    &lt;/footer&gt;
  );
}

export default Footer;
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="204" data-line-end="231">
<p class="has-line-data" data-line-start="204" data-line-end="205"><strong>Modify App.jsx:</strong></p>
<ul>
<li class="has-line-data" data-line-start="205" data-line-end="231">Replace content with a basic structure:<pre><code class="has-line-data" data-line-start="207" data-line-end="230" class="language-jsx">import Header from './components/Header';
import Footer from './components/Footer';
import './App.css'; // Global styles
import './components/Header.css'; // Header specific styles
import './components/Footer.css'; // Footer specific styles


function App() {
  return (
    &lt;div className=&quot;app-container&quot;&gt;
      &lt;Header /&gt;
      &lt;main className=&quot;app-main container&quot;&gt;
        {/* Content of the current page will go here */}
        &lt;h2&gt;Welcome to InstagramClone&lt;/h2&gt;
        &lt;p&gt;Start by creating or logging into an account.&lt;/p&gt;
      &lt;/main&gt;
      &lt;Footer /&gt;
    &lt;/div&gt;
  );
}

export default App;
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="231" data-line-end="294">
<p class="has-line-data" data-line-start="231" data-line-end="232"><strong>Add Basic Styling:</strong></p>
<ul>
<li class="has-line-data" data-line-start="232" data-line-end="258">Update <code>src/App.css</code> for global styles:<pre><code class="has-line-data" data-line-start="234" data-line-end="258" class="language-css"><span class="hljs-tag">body</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">margin</span>:<span class="hljs-value"> <span class="hljs-number">0</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">font-family</span>:<span class="hljs-value"> -apple-system, BlinkMacSystemFont, <span class="hljs-string">'Segoe UI'</span>, Roboto, Oxygen, Ubuntu, Cantarell, <span class="hljs-string">'Open Sans'</span>, <span class="hljs-string">'Helvetica Neue'</span>, sans-serif</span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#fafafa</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#262626</span></span></span>;
}</span>

<span class="hljs-class">.container</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">max-width</span>:<span class="hljs-value"> <span class="hljs-number">935px</span></span></span>; <span class="hljs-comment">/* Standard Instagram web width */</span>
  <span class="hljs-rule"><span class="hljs-attribute">margin</span>:<span class="hljs-value"> <span class="hljs-number">0</span> auto</span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">0</span> <span class="hljs-number">20px</span></span></span>; <span class="hljs-comment">/* Add some padding on smaller screens */</span>
}</span>

<span class="hljs-class">.app-container</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">display</span>:<span class="hljs-value"> flex</span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">flex-direction</span>:<span class="hljs-value"> column</span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">min-height</span>:<span class="hljs-value"> <span class="hljs-number">100vh</span></span></span>;
}</span>

<span class="hljs-class">.app-main</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">flex-grow</span>:<span class="hljs-value"> <span class="hljs-number">1</span></span></span>; <span class="hljs-comment">/* Allows main content to fill space */</span>
  <span class="hljs-rule"><span class="hljs-attribute">padding-top</span>:<span class="hljs-value"> <span class="hljs-number">60px</span></span></span>; <span class="hljs-comment">/* Add space for fixed header if you implement it */</span>
}</span>
</code></pre>
</li>
<li class="has-line-data" data-line-start="258" data-line-end="283">Create <code>src/components/Header.css</code>:<pre><code class="has-line-data" data-line-start="260" data-line-end="283" class="language-css"><span class="hljs-class">.app-header</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#ffffff</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">border-bottom</span>:<span class="hljs-value"> <span class="hljs-number">1px</span> solid <span class="hljs-hexcolor">#dbdbdb</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">10px</span> <span class="hljs-number">0</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">position</span>:<span class="hljs-value"> fixed</span></span>; <span class="hljs-comment">/* Keep header visible */</span>
  <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">100%</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">top</span>:<span class="hljs-value"> <span class="hljs-number">0</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">z-index</span>:<span class="hljs-value"> <span class="hljs-number">100</span></span></span>;
}</span>

<span class="hljs-class">.app-header</span> <span class="hljs-tag">h1</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">margin</span>:<span class="hljs-value"> <span class="hljs-number">0</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> <span class="hljs-number">1.5rem</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">text-align</span>:<span class="hljs-value"> center</span></span>; <span class="hljs-comment">/* Center the title for now */</span>
}</span>

<span class="hljs-comment">/* Add flexbox to header container later */</span>
<span class="hljs-class">.app-header</span> <span class="hljs-class">.container</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">display</span>:<span class="hljs-value"> flex</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">justify-content</span>:<span class="hljs-value"> center</span></span>; <span class="hljs-comment">/* Center for now */</span>
    <span class="hljs-rule"><span class="hljs-attribute">align-items</span>:<span class="hljs-value"> center</span></span>;
}</span>
</code></pre>
</li>
<li class="has-line-data" data-line-start="283" data-line-end="294">Create <code>src/components/Footer.css</code>:<pre><code class="has-line-data" data-line-start="285" data-line-end="293" class="language-css"><span class="hljs-class">.app-footer</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">margin-top</span>:<span class="hljs-value"> <span class="hljs-number">2rem</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">1rem</span> <span class="hljs-number">0</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">text-align</span>:<span class="hljs-value"> center</span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#8e8e8e</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> <span class="hljs-number">0.8rem</span></span></span>;
}</span>
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="294" data-line-end="301">
<p class="has-line-data" data-line-start="294" data-line-end="295"><strong>Run the App:</strong></p>
<ul>
<li class="has-line-data" data-line-start="295" data-line-end="299">Start the development server <em>inside the frontend folder</em>:<pre><code class="has-line-data" data-line-start="297" data-line-end="299" class="language-bash">npm run dev
</code></pre>
</li>
<li class="has-line-data" data-line-start="299" data-line-end="301">Verify the basic header, content, and footer are visible.</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=301 data-line-end=302 ><a id="_Daily_Challenge_301"></a>🧩 Daily Challenge</h3>
<p class="has-line-data" data-line-start="302" data-line-end="303">Implement the basic layout for the <code>container</code> in <code>App.css</code> using CSS Grid or Flexbox to hold potential sidebars or a central content column as you see in Instagram’s web layout.</p>
<h3 class="code-line" data-line-start=304 data-line-end=305 ><a id="_Troubleshooting_Tips_304"></a>🔍 Troubleshooting Tips</h3>
<ul>
<li class="has-line-data" data-line-start="305" data-line-end="306"><strong>CSS not applying?</strong> Check that your <code>.css</code> files are imported correctly in your components or <code>App.jsx</code>.</li>
<li class="has-line-data" data-line-start="306" data-line-end="307"><strong>Vite server not starting?</strong> Ensure you are running <code>npm run dev</code> from inside the <code>frontend</code> directory.</li>
<li class="has-line-data" data-line-start="307" data-line-end="309"><strong>Content hidden by header?</strong> Add <code>padding-top</code> to your <code>app-main</code> or body to account for the fixed header height.</li>
</ul>
<h3 class="code-line" data-line-start=309 data-line-end=310 ><a id="_Stretch_Goal_309"></a>✨ Stretch Goal</h3>
<p class="has-line-data" data-line-start="310" data-line-end="311">Add a simple, static navigation bar within the <code>Header</code> component with placeholder icons or links.</p>
<hr>
<h2 class="code-line" data-line-start=314 data-line-end=315 ><a id="Day_4_FrontEnd_Authentication_UI__314"></a>Day 4: Front-End Authentication UI 🔐</h2>
<h3 class="code-line" data-line-start=316 data-line-end=317 ><a id="_Objectives_316"></a>🎯 Objectives</h3>
<ul>
<li class="has-line-data" data-line-start="317" data-line-end="318">Build React components for user signup and login forms</li>
<li class="has-line-data" data-line-start="318" data-line-end="319">Implement basic form state management using <code>useState</code></li>
<li class="has-line-data" data-line-start="319" data-line-end="321">Add specific styling for authentication pages</li>
</ul>
<h3 class="code-line" data-line-start=321 data-line-end=322 ><a id="_Knowledge_Refresher_Controlled_Components__Form_Handling_321"></a>📚 Knowledge Refresher: Controlled Components &amp; Form Handling</h3>
<blockquote>
<p class="has-line-data" data-line-start="322" data-line-end="323">In React, form elements like <code>&lt;input&gt;</code> and <code>&lt;textarea&gt;</code> whose values are controlled by React state are called controlled components. You handle user input by attaching an <code>onChange</code> handler that updates the state.</p>
</blockquote>
<h3 class="code-line" data-line-start=324 data-line-end=325 ><a id="_StepbyStep_Tasks_324"></a>✅ Step-by-Step Tasks</h3>
<ol>
<li class="has-line-data" data-line-start="325" data-line-end="386">
<p class="has-line-data" data-line-start="325" data-line-end="326"><strong>Create an Authentication Form Component:</strong></p>
<ul>
<li class="has-line-data" data-line-start="326" data-line-end="386">Create <code>src/components/AuthForm.jsx</code>:<pre><code class="has-line-data" data-line-start="328" data-line-end="385" class="language-jsx">import { useState } from 'react';
import './AuthForm.css';

function AuthForm({ type, onSubmit, error, loading }) {
  const [username, setUsername] = useState('');
  const [password, setPassword] = useState('');

  const handleSubmit = (e) =&gt; {
    e.preventDefault();
    if (!username.trim() || !password.trim()) {
      // Basic client-side validation
      onSubmit({ error: 'Please fill out all fields' });
      return;
    }
    onSubmit({ username, password });
  };

  return (
    &lt;div className=&quot;auth-form-container&quot;&gt;
      &lt;h2&gt;{type === 'signup' ? 'Sign Up' : 'Log In'}&lt;/h2&gt;
      {error &amp;&amp; &lt;div className=&quot;error-message&quot;&gt;{error}&lt;/div&gt;}

      &lt;form onSubmit={handleSubmit} className=&quot;auth-form&quot;&gt;
        &lt;div className=&quot;form-group&quot;&gt;
          &lt;input
            type=&quot;text&quot;
            placeholder=&quot;Username&quot;
            value={username}
            onChange={(e) =&gt; setUsername(e.target.value)}
            disabled={loading}
            autoComplete=&quot;username&quot;
          /&gt;
        &lt;/div&gt;

        &lt;div className=&quot;form-group&quot;&gt;
          &lt;input
            type=&quot;password&quot;
            placeholder=&quot;Password&quot;
            value={password}
            onChange={(e) =&gt; setPassword(e.target.value)}
            disabled={loading}
            autoComplete={type === 'signup' ? 'new-password' : 'current-password'}
          /&gt;
        &lt;/div&gt;

        &lt;button type=&quot;submit&quot; disabled={loading}&gt;
          {loading
            ? (type === 'signup' ? 'Signing Up...' : 'Logging In...')
            : (type === 'signup' ? 'Sign Up' : 'Log In')}
        &lt;/button&gt;
      &lt;/form&gt;
    &lt;/div&gt;
  );
}

export default AuthForm;
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="386" data-line-end="456">
<p class="has-line-data" data-line-start="386" data-line-end="387"><strong>Create CSS for AuthForm:</strong></p>
<ul>
<li class="has-line-data" data-line-start="387" data-line-end="456">Create <code>src/components/AuthForm.css</code>:<pre><code class="has-line-data" data-line-start="389" data-line-end="455" class="language-css"><span class="hljs-class">.auth-form-container</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">display</span>:<span class="hljs-value"> flex</span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">flex-direction</span>:<span class="hljs-value"> column</span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">align-items</span>:<span class="hljs-value"> center</span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">justify-content</span>:<span class="hljs-value"> center</span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">min-height</span>:<span class="hljs-value"> <span class="hljs-function">calc</span>(<span class="hljs-number">100vh</span> - <span class="hljs-number">120px</span>)</span></span>; <span class="hljs-comment">/* Adjust height based on header/footer */</span>
  <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">20px</span></span></span>;
}</span>

<span class="hljs-class">.auth-form</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#ffffff</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> <span class="hljs-number">1px</span> solid <span class="hljs-hexcolor">#dbdbdb</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">margin-top</span>:<span class="hljs-value"> <span class="hljs-number">10px</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">40px</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">max-width</span>:<span class="hljs-value"> <span class="hljs-number">350px</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">100%</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">text-align</span>:<span class="hljs-value"> center</span></span>;
}</span>

<span class="hljs-class">.auth-form</span> <span class="hljs-tag">h2</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">margin-bottom</span>:<span class="hljs-value"> <span class="hljs-number">20px</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> <span class="hljs-number">1.5rem</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#262626</span></span></span>;
}</span>

<span class="hljs-class">.auth-form</span> <span class="hljs-class">.form-group</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">margin-bottom</span>:<span class="hljs-value"> <span class="hljs-number">10px</span></span></span>;
}</span>

<span class="hljs-class">.auth-form</span> <span class="hljs-tag">input</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">100%</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">10px</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> <span class="hljs-number">1px</span> solid <span class="hljs-hexcolor">#dbdbdb</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">border-radius</span>:<span class="hljs-value"> <span class="hljs-number">3px</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">box-sizing</span>:<span class="hljs-value"> border-box</span></span>; <span class="hljs-comment">/* Include padding and border in element's total width */</span>
  <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#fafafa</span></span></span>;
}</span>

<span class="hljs-class">.auth-form</span> <span class="hljs-tag">button</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">100%</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">8px</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#0095f6</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> white</span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> none</span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">border-radius</span>:<span class="hljs-value"> <span class="hljs-number">4px</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">font-weight</span>:<span class="hljs-value"> bold</span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">cursor</span>:<span class="hljs-value"> pointer</span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">margin-top</span>:<span class="hljs-value"> <span class="hljs-number">10px</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">transition</span>:<span class="hljs-value"> background-color <span class="hljs-number">0.2s</span> ease-in-out</span></span>;
}</span>

<span class="hljs-class">.auth-form</span> <span class="hljs-tag">button</span><span class="hljs-pseudo">:hover</span><span class="hljs-pseudo">:not(</span><span class="hljs-pseudo">:disabled)</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#0078d7</span></span></span>;
}</span>

<span class="hljs-class">.auth-form</span> <span class="hljs-tag">button</span><span class="hljs-pseudo">:disabled</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> <span class="hljs-function">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">149</span>, <span class="hljs-number">246</span>, <span class="hljs-number">0.3</span>)</span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">cursor</span>:<span class="hljs-value"> not-allowed</span></span>;
}</span>

<span class="hljs-class">.error-message</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#ed4956</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> <span class="hljs-number">0.9rem</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">margin-bottom</span>:<span class="hljs-value"> <span class="hljs-number">10px</span></span></span>;
}</span>
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="456" data-line-end="551">
<p class="has-line-data" data-line-start="456" data-line-end="457"><strong>Update App.jsx to Display Auth Forms:</strong></p>
<ul>
<li class="has-line-data" data-line-start="457" data-line-end="458">Add logic to toggle between Login and Signup forms.</li>
<li class="has-line-data" data-line-start="458" data-line-end="517">Modify <code>src/App.jsx</code>:<pre><code class="has-line-data" data-line-start="460" data-line-end="517" class="language-jsx">import { useState } from 'react';
import Header from './components/Header';
import Footer from './components/Footer';
import AuthForm from './components/AuthForm';
import './App.css';
import './components/Header.css';
import './components/Footer.css';
import './components/AuthForm.css'; // Import AuthForm styles

function App() {
  const [isAuthenticated, setIsAuthenticated] = useState(false); // State to check if user is logged in
  const [showSignUp, setShowSignUp] = useState(false); // State to toggle between login/signup

  // Placeholder functions for handling auth submission (will connect to backend later)
  const handleAuthSubmit = (formData) =&gt; {
    console.log('Auth form submitted:', formData);
    // Simulate success for UI testing
     if (!formData.error) {
         console.log(&quot;Simulating successful auth&quot;);
         setIsAuthenticated(true); // Simulate login success
     }
  };

  return (
    &lt;div className=&quot;app-container&quot;&gt;
      &lt;Header /&gt;
      &lt;main className=&quot;app-main container&quot;&gt;
        {isAuthenticated ? (
          &lt;div&gt;
            &lt;h2&gt;Welcome! You are logged in.&lt;/h2&gt;
            {/* Placeholder for authenticated content (Feed/Profile) */}
            &lt;button onClick={() =&gt; setIsAuthenticated(false)}&gt;Logout&lt;/button&gt; {/* Simple logout */}
          &lt;/div&gt;
        ) : (
          &lt;div className=&quot;auth-page-content&quot;&gt;
            {showSignUp ? (
              &lt;AuthForm type=&quot;signup&quot; onSubmit={handleAuthSubmit} /&gt;
            ) : (
              &lt;AuthForm type=&quot;login&quot; onSubmit={handleAuthSubmit} /&gt;
            )}
            &lt;div className=&quot;auth-switch&quot;&gt;
                {showSignUp ? (
                    &lt;p&gt;Have an account? &lt;button className=&quot;switch-button&quot; onClick={() =&gt; setShowSignUp(false)}&gt;Log In&lt;/button&gt;&lt;/p&gt;
                ) : (
                    &lt;p&gt;Don't have an account? &lt;button className=&quot;switch-button&quot; onClick={() =&gt; setShowSignUp(true)}&gt;Sign Up&lt;/button&gt;&lt;/p&gt;
                )}
            &lt;/div&gt;
          &lt;/div&gt;
        )}
      &lt;/main&gt;
      &lt;Footer /&gt;
    &lt;/div&gt;
  );
}

export default App;
</code></pre>
</li>
<li class="has-line-data" data-line-start="517" data-line-end="551">Add minimal style for the auth switch button in <code>AuthForm.css</code>:<pre><code class="has-line-data" data-line-start="519" data-line-end="550" class="language-css"><span class="hljs-comment">/* Add to AuthForm.css */</span>
<span class="hljs-class">.auth-switch</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">text-align</span>:<span class="hljs-value"> center</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">margin-top</span>:<span class="hljs-value"> <span class="hljs-number">20px</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#ffffff</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> <span class="hljs-number">1px</span> solid <span class="hljs-hexcolor">#dbdbdb</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">20px</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">max-width</span>:<span class="hljs-value"> <span class="hljs-number">350px</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">100%</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">box-sizing</span>:<span class="hljs-value"> border-box</span></span>;
}</span>

<span class="hljs-class">.auth-switch</span> <span class="hljs-tag">p</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">margin</span>:<span class="hljs-value"> <span class="hljs-number">0</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#262626</span></span></span>;
}</span>

<span class="hljs-class">.auth-switch</span> <span class="hljs-class">.switch-button</span> <span class="hljs-rules">{
   <span class="hljs-rule"><span class="hljs-attribute">background</span>:<span class="hljs-value"> none</span></span>;
   <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> none</span></span>;
   <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#0095f6</span></span></span>;
   <span class="hljs-rule"><span class="hljs-attribute">cursor</span>:<span class="hljs-value"> pointer</span></span>;
   <span class="hljs-rule"><span class="hljs-attribute">font-weight</span>:<span class="hljs-value"> bold</span></span>;
   <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">0</span></span></span>; <span class="hljs-comment">/* Remove default button padding */</span>
   <span class="hljs-rule"><span class="hljs-attribute">margin</span>:<span class="hljs-value"> <span class="hljs-number">0</span></span></span>; <span class="hljs-comment">/* Remove default button margin */</span>
}</span>

 <span class="hljs-class">.auth-switch</span> <span class="hljs-class">.switch-button</span><span class="hljs-pseudo">:hover</span> <span class="hljs-rules">{
     <span class="hljs-rule"><span class="hljs-attribute">text-decoration</span>:<span class="hljs-value"> underline</span></span>;
 }</span>
</code></pre>
</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=551 data-line-end=552 ><a id="_Daily_Challenge_551"></a>🧩 Daily Challenge</h3>
<p class="has-line-data" data-line-start="552" data-line-end="553">Add client-side validation to the form (e.g., minimum password length). Display error messages within the form if validation fails <em>before</em> submitting.</p>
<h3 class="code-line" data-line-start=554 data-line-end=555 ><a id="_Troubleshooting_Tips_554"></a>🔍 Troubleshooting Tips</h3>
<ul>
<li class="has-line-data" data-line-start="555" data-line-end="556"><strong>Inputs not typing?</strong> Check if your <code>onChange</code> handlers are correctly wired up to update the state.</li>
<li class="has-line-data" data-line-start="556" data-line-end="557"><strong>Button disabled unexpectedly?</strong> Ensure your <code>loading</code> state is managed correctly (though it’s static for now).</li>
<li class="has-line-data" data-line-start="557" data-line-end="559"><strong>Styles not looking like Instagram?</strong> Use the browser’s developer tools to inspect elements and their styles, compare to actual Instagram if needed.</li>
</ul>
<h3 class="code-line" data-line-start=559 data-line-end=560 ><a id="_Stretch_Goal_559"></a>✨ Stretch Goal</h3>
<p class="has-line-data" data-line-start="560" data-line-end="561">Use React Router DOM (install with <code>npm install react-router-dom</code>) to create separate <code>/login</code> and <code>/signup</code> routes instead of toggling within <code>App.jsx</code>.</p>
<hr>
<h2 class="code-line" data-line-start=564 data-line-end=565 ><a id="Day_5_BackEnd_Setup_with_Python__SQLite_DB_Schema__564"></a>Day 5: Back-End Setup with Python &amp; SQLite DB Schema 🐍</h2>
<h3 class="code-line" data-line-start=566 data-line-end=567 ><a id="_Objectives_566"></a>🎯 Objectives</h3>
<ul>
<li class="has-line-data" data-line-start="567" data-line-end="568">Set up the Flask backend environment</li>
<li class="has-line-data" data-line-start="568" data-line-end="569">Initialize the SQLite database with defined tables (<code>users</code>, <code>posts</code>, <code>likes</code>, <code>comments</code>)</li>
<li class="has-line-data" data-line-start="569" data-line-end="571">Create basic endpoints (<code>/signup</code>, <code>/login</code>, <code>/posts</code>)</li>
</ul>
<h3 class="code-line" data-line-start=571 data-line-end=572 ><a id="_Knowledge_Refresher_SQLite__Database_Initialization_571"></a>📚 Knowledge Refresher: SQLite &amp; Database Initialization</h3>
<blockquote>
<p class="has-line-data" data-line-start="572" data-line-end="573">SQLite is a serverless, self-contained SQL database engine. It stores data in a single file. We’ll use Python’s built-in <code>sqlite3</code> module to interact with it. Database initialization involves creating tables if they don’t exist.</p>
</blockquote>
<h3 class="code-line" data-line-start=574 data-line-end=575 ><a id="_StepbyStep_Tasks_574"></a>✅ Step-by-Step Tasks</h3>
<ol>
<li class="has-line-data" data-line-start="575" data-line-end="590">
<p class="has-line-data" data-line-start="575" data-line-end="576"><strong>Set Up a Flask Environment:</strong></p>
<ul>
<li class="has-line-data" data-line-start="576" data-line-end="581">In the <code>backend</code> folder, create a virtual environment:<pre><code class="has-line-data" data-line-start="578" data-line-end="581" class="language-bash">python -m venv venv
<span class="hljs-built_in">source</span> venv/bin/activate  <span class="hljs-comment"># On Windows use: venv\Scripts\activate</span>
</code></pre>
</li>
<li class="has-line-data" data-line-start="581" data-line-end="585">Install Flask, Flask-CORS, Werkzeug (for hashing), and PyJWT:<pre><code class="has-line-data" data-line-start="583" data-line-end="585" class="language-bash">pip install Flask flask-cors werkzeug pyjwt
</code></pre>
</li>
<li class="has-line-data" data-line-start="585" data-line-end="590">Create <code>requirements.txt</code>:<pre><code class="has-line-data" data-line-start="587" data-line-end="589" class="language-bash">pip freeze &gt; requirements.txt
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="590" data-line-end="645">
<p class="has-line-data" data-line-start="590" data-line-end="591"><strong>Create Flask App and Database Logic:</strong></p>
<ul>
<li class="has-line-data" data-line-start="591" data-line-end="645">Create <code>app.py</code>:<pre><code class="has-line-data" data-line-start="593" data-line-end="644" class="language-python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, jsonify, request
<span class="hljs-keyword">from</span> flask_cors <span class="hljs-keyword">import</span> CORS
<span class="hljs-keyword">import</span> sqlite3
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime
<span class="hljs-keyword">from</span> werkzeug.security <span class="hljs-keyword">import</span> generate_password_hash, check_password_hash
<span class="hljs-keyword">import</span> jwt

app = Flask(__name__)
CORS(app) <span class="hljs-comment"># Allow requests from frontend</span>
app.config[<span class="hljs-string">'SECRET_KEY'</span>] = os.environ.get(<span class="hljs-string">'SECRET_KEY'</span>, <span class="hljs-string">'your-super-secret-key-change-me'</span>) <span class="hljs-comment"># Replace with a strong key!</span>

DATABASE = <span class="hljs-string">'instagram_clone.db'</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_db</span><span class="hljs-params">()</span>:</span>
    db = getattr(g, <span class="hljs-string">'_database'</span>, <span class="hljs-keyword">None</span>)
    <span class="hljs-keyword">if</span> db <span class="hljs-keyword">is</span> <span class="hljs-keyword">None</span>:
        db = g._database = sqlite3.connect(DATABASE)
        db.row_factory = sqlite3.Row <span class="hljs-comment"># Access columns by name</span>
    <span class="hljs-keyword">return</span> db

<span class="hljs-comment"># This is good practice to close the db connection after each request</span>
<span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> g
<span class="hljs-decorator">@app.teardown_appcontext</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">close_db</span><span class="hljs-params">(error)</span>:</span>
    db = getattr(g, <span class="hljs-string">'_database'</span>, <span class="hljs-keyword">None</span>)
    <span class="hljs-keyword">if</span> db <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">None</span>:
        db.close()

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">init_db</span><span class="hljs-params">()</span>:</span>
    <span class="hljs-keyword">with</span> app.app_context():
        db = get_db()
        <span class="hljs-keyword">with</span> app.open_resource(<span class="hljs-string">'schema.sql'</span>, mode=<span class="hljs-string">'r'</span>) <span class="hljs-keyword">as</span> f:
            db.cursor().executescript(f.read())
        db.commit()
    print(<span class="hljs-string">"Database initialized."</span>)

<span class="hljs-comment"># --- Routes ---</span>

<span class="hljs-decorator">@app.route('/')</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">index</span><span class="hljs-params">()</span>:</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">'Instagram Clone Backend'</span>

<span class="hljs-comment"># Add signup, login, and basic posts routes here in the next steps</span>

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    <span class="hljs-comment"># Initialize db if it doesn't exist</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(DATABASE):
         init_db()
    app.run(debug=<span class="hljs-keyword">True</span>)
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="645" data-line-end="691">
<p class="has-line-data" data-line-start="645" data-line-end="646"><strong>Define Database Schema (SQL):</strong></p>
<ul>
<li class="has-line-data" data-line-start="646" data-line-end="691">Create <code>schema.sql</code> in the <em>backend</em> folder:<pre><code class="has-line-data" data-line-start="648" data-line-end="690" class="language-sql"><span class="hljs-operator"><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-keyword">IF</span> <span class="hljs-keyword">EXISTS</span> <span class="hljs-keyword">users</span>;</span>
<span class="hljs-operator"><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-keyword">IF</span> <span class="hljs-keyword">EXISTS</span> posts;</span>
<span class="hljs-operator"><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-keyword">IF</span> <span class="hljs-keyword">EXISTS</span> likes;</span>
<span class="hljs-operator"><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-keyword">IF</span> <span class="hljs-keyword">EXISTS</span> comments;</span>

<span class="hljs-operator"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-keyword">users</span> (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">INTEGER</span> PRIMARY <span class="hljs-keyword">KEY</span> AUTOINCREMENT,
    username <span class="hljs-built_in">TEXT</span> <span class="hljs-keyword">UNIQUE</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    <span class="hljs-keyword">password</span> <span class="hljs-built_in">TEXT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>, <span class="hljs-comment">-- Store hashed passwords</span>
    created_at DATETIME <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">CURRENT_TIMESTAMP</span>
);</span>

<span class="hljs-operator"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> posts (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">INTEGER</span> PRIMARY <span class="hljs-keyword">KEY</span> AUTOINCREMENT,
    user_id <span class="hljs-built_in">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>, <span class="hljs-comment">-- Foreign key to users</span>
    image_url <span class="hljs-built_in">TEXT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>, <span class="hljs-comment">-- URL of the image</span>
    caption <span class="hljs-built_in">TEXT</span>,
    created_at DATETIME <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">CURRENT_TIMESTAMP</span>,
    FOREIGN <span class="hljs-keyword">KEY</span> (user_id) <span class="hljs-keyword">REFERENCES</span> <span class="hljs-keyword">users</span>(<span class="hljs-keyword">id</span>)
);</span>

<span class="hljs-operator"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> likes (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">INTEGER</span> PRIMARY <span class="hljs-keyword">KEY</span> AUTOINCREMENT,
    user_id <span class="hljs-built_in">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>, <span class="hljs-comment">-- Foreign key to users</span>
    post_id <span class="hljs-built_in">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>, <span class="hljs-comment">-- Foreign key to posts</span>
    created_at DATETIME <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">CURRENT_TIMESTAMP</span>,
    <span class="hljs-comment">-- Ensure a user can only like a post once</span>
    <span class="hljs-keyword">UNIQUE</span> (user_id, post_id),
    FOREIGN <span class="hljs-keyword">KEY</span> (user_id) <span class="hljs-keyword">REFERENCES</span> <span class="hljs-keyword">users</span>(<span class="hljs-keyword">id</span>),
    FOREIGN <span class="hljs-keyword">KEY</span> (post_id) <span class="hljs-keyword">REFERENCES</span> posts(<span class="hljs-keyword">id</span>)
);</span>

<span class="hljs-operator"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> comments (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">INTEGER</span> PRIMARY <span class="hljs-keyword">KEY</span> AUTOINCREMENT,
    user_id <span class="hljs-built_in">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>, <span class="hljs-comment">-- Foreign key to users</span>
    post_id <span class="hljs-built_in">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>, <span class="hljs-comment">-- Foreign key to posts</span>
    <span class="hljs-keyword">content</span> <span class="hljs-built_in">TEXT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    created_at DATETIME <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">CURRENT_TIMESTAMP</span>,
    FOREIGN <span class="hljs-keyword">KEY</span> (user_id) <span class="hljs-keyword">REFERENCES</span> <span class="hljs-keyword">users</span>(<span class="hljs-keyword">id</span>),
    FOREIGN <span class="hljs-keyword">KEY</span> (post_id) <span class="hljs-keyword">REFERENCES</span> posts(<span class="hljs-keyword">id</span>)
);</span>
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="691" data-line-end="759">
<p class="has-line-data" data-line-start="691" data-line-end="692"><strong>Add Authentication Endpoints:</strong></p>
<ul>
<li class="has-line-data" data-line-start="692" data-line-end="759">Add these routes to <code>app.py</code>:<pre><code class="has-line-data" data-line-start="694" data-line-end="758" class="language-python"><span class="hljs-comment"># Inside app.py, below the init_db function</span>

<span class="hljs-decorator">@app.route('/signup', methods=['POST'])</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">signup</span><span class="hljs-params">()</span>:</span>
    data = request.json
    username = data.get(<span class="hljs-string">'username'</span>)
    password = data.get(<span class="hljs-string">'password'</span>)

    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> username <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> password:
        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Missing username or password'</span>}), <span class="hljs-number">400</span>

    db = get_db()
    c = db.cursor()

    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># Check if username already exists</span>
        c.execute(<span class="hljs-string">"SELECT id FROM users WHERE username = ?"</span>, (username,))
        <span class="hljs-keyword">if</span> c.fetchone():
            <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Username already exists'</span>}), <span class="hljs-number">409</span>

        <span class="hljs-comment"># Hash password and insert user</span>
        hashed_password = generate_password_hash(password)
        c.execute(<span class="hljs-string">"INSERT INTO users (username, password) VALUES (?, ?)"</span>,
                  (username, hashed_password))
        db.commit()

        <span class="hljs-comment"># Optionally fetch the newly created user's ID for the token</span>
        user_id = c.lastrowid

        <span class="hljs-comment"># Generate JWT token (optional for basic auth flow)</span>
        <span class="hljs-comment"># We will add JWT token generation and verification on Day 7</span>

        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'User created successfully'</span>, <span class="hljs-string">'username'</span>: username}), <span class="hljs-number">201</span> <span class="hljs-comment"># Return username for simplicity initially</span>

    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
         print(f<span class="hljs-string">"Error during signup: {e}"</span>)
         <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'An error occurred during signup'</span>}), <span class="hljs-number">500</span>

<span class="hljs-decorator">@app.route('/login', methods=['POST'])</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">login</span><span class="hljs-params">()</span>:</span>
    data = request.json
    username = data.get(<span class="hljs-string">'username'</span>)
    password = data.get(<span class="hljs-string">'password'</span>)

    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> username <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> password:
        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Missing username or password'</span>}), <span class="hljs-number">400</span>

    db = get_db()
    c = db.cursor()

    c.execute(<span class="hljs-string">"SELECT id, username, password FROM users WHERE username = ?"</span>, (username,))
    user = c.fetchone() <span class="hljs-comment"># Use fetchone() because username is unique</span>

    <span class="hljs-keyword">if</span> user <span class="hljs-keyword">and</span> check_password_hash(user[<span class="hljs-string">'password'</span>], password):
        <span class="hljs-comment"># Authentication successful</span>
        <span class="hljs-comment"># Generate JWT token (Day 7)</span>
        <span class="hljs-comment"># For now, just return success</span>
         <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Login successful'</span>, <span class="hljs-string">'username'</span>: user[<span class="hljs-string">'username'</span>]}), <span class="hljs-number">200</span> <span class="hljs-comment"># Return username</span>

    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Invalid credentials'</span>}), <span class="hljs-number">401</span>

    <span class="hljs-comment"># We will add JWT token generation and verification on Day 7</span>
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="759" data-line-end="771">
<p class="has-line-data" data-line-start="759" data-line-end="760"><strong>Test Backend:</strong></p>
<ul>
<li class="has-line-data" data-line-start="760" data-line-end="765">Run the Flask app:<pre><code class="has-line-data" data-line-start="762" data-line-end="765" class="language-bash"><span class="hljs-built_in">source</span> venv/bin/activate <span class="hljs-comment"># if not already active</span>
python app.py
</code></pre>
</li>
<li class="has-line-data" data-line-start="765" data-line-end="771">Use Postman or curl to test:
<ul>
<li class="has-line-data" data-line-start="766" data-line-end="767">POST <code>/signup</code> with <code>{ &quot;username&quot;: &quot;testuser&quot;, &quot;password&quot;: &quot;password123&quot; }</code></li>
<li class="has-line-data" data-line-start="767" data-line-end="768">POST <code>/login</code> with <code>{ &quot;username&quot;: &quot;testuser&quot;, &quot;password&quot;: &quot;password123&quot; }</code></li>
<li class="has-line-data" data-line-start="768" data-line-end="769">POST <code>/signup</code> with the same username again (should fail)</li>
<li class="has-line-data" data-line-start="769" data-line-end="771">POST <code>/login</code> with wrong password (should fail)</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=771 data-line-end=772 ><a id="_Daily_Challenge_771"></a>🧩 Daily Challenge</h3>
<p class="has-line-data" data-line-start="772" data-line-end="773">Install a tool like “DB Browser for SQLite” to inspect your <code>instagram_clone.db</code> file and visually verify that tables are created and users are added.</p>
<h3 class="code-line" data-line-start=774 data-line-end=775 ><a id="_Troubleshooting_Tips_774"></a>🔍 Troubleshooting Tips</h3>
<ul>
<li class="has-line-data" data-line-start="775" data-line-end="776"><strong>Module not found?</strong> Ensure your virtual environment is activated (<code>source venv/bin/activate</code>) and <code>pip install</code> was successful.</li>
<li class="has-line-data" data-line-start="776" data-line-end="777"><strong>Database file not created/tables missing?</strong> Check the <code>init_db()</code> function in <code>app.py</code> and ensure it’s called when the app runs and the DB file doesn’t exist. Make sure <code>schema.sql</code> is in the correct location relative to <code>app.py</code>.</li>
<li class="has-line-data" data-line-start="777" data-line-end="779"><strong>Password hashing/checking issues?</strong> Verify you are importing <code>generate_password_hash</code> and <code>check_password_hash</code> from <code>werkzeug.security</code>.</li>
</ul>
<h3 class="code-line" data-line-start=779 data-line-end=780 ><a id="_Stretch_Goal_779"></a>✨ Stretch Goal</h3>
<p class="has-line-data" data-line-start="780" data-line-end="781">Add basic fields to the <code>users</code> table (e.g., <code>full_name</code>, <code>profile_picture_url</code>) and update the <code>signup</code> endpoint to accept and save these.</p>
<hr>
<h2 class="code-line" data-line-start=784 data-line-end=785 ><a id="Day_6_Connecting_Auth_Forms__Backend__784"></a>Day 6: Connecting Auth Forms &amp; Backend 🔄</h2>
<h3 class="code-line" data-line-start=786 data-line-end=787 ><a id="_Objectives_786"></a>🎯 Objectives</h3>
<ul>
<li class="has-line-data" data-line-start="787" data-line-end="788">Connect the frontend <code>AuthForm</code> component to the Flask backend endpoints</li>
<li class="has-line-data" data-line-start="788" data-line-end="789">Implement fetching logic in the frontend using <code>fetch</code></li>
<li class="has-line-data" data-line-start="789" data-line-end="791">Manage authentication state globally using React Context API</li>
</ul>
<h3 class="code-line" data-line-start=791 data-line-end=792 ><a id="_Knowledge_Refresher_Fetch_API__AsyncAwait_791"></a>📚 Knowledge Refresher: Fetch API &amp; Async/Await</h3>
<blockquote>
<p class="has-line-data" data-line-start="792" data-line-end="793">The Fetch API provides a JavaScript interface for making HTTP requests. <code>async</code> and <code>await</code> are modern JavaScript features that make working with asynchronous operations (like network requests) much cleaner and easier to read than traditional Promises or callbacks.</p>
</blockquote>
<h3 class="code-line" data-line-start=794 data-line-end=795 ><a id="_StepbyStep_Tasks_794"></a>✅ Step-by-Step Tasks</h3>
<ol>
<li class="has-line-data" data-line-start="795" data-line-end="851">
<p class="has-line-data" data-line-start="795" data-line-end="796"><strong>Create Authentication Context:</strong></p>
<ul>
<li class="has-line-data" data-line-start="796" data-line-end="851">Create <code>src/context/AuthContext.jsx</code>:<pre><code class="has-line-data" data-line-start="798" data-line-end="850" class="language-jsx">import { createContext, useState, useEffect, useContext } from 'react';
import { API_URL } from '../constants'; // We'll create this next

const AuthContext = createContext();

export function AuthProvider({ children }) {
  const [user, setUser] = useState(null); // Stores { username, token } (or just username for now)
  const [loading, setLoading] = useState(true); // To show loading while checking stored token

  useEffect(() =&gt; {
    // Check for stored user/token on initial load
    const storedUser = localStorage.getItem('instaCloneUser');
    const storedToken = localStorage.getItem('instaCloneToken'); // Will use token later

    if (storedUser) {
      // For now, just set user based on username.
      // Later, we'll validate the token.
       setUser({ username: storedUser /*, token: storedToken */ });
    }

    setLoading(false); // Finished checking
  }, []); // Empty dependency array means this runs once on mount

  const login = ({ username, token }) =&gt; { // Accept token even if not used immediately
    setUser({ username /*, token */ });
    localStorage.setItem('instaCloneUser', username);
    localStorage.setItem('instaCloneToken', token); // Store token for later
  };

  const logout = () =&gt; {
    setUser(null);
    localStorage.removeItem('instaCloneUser');
    localStorage.removeItem('instaCloneToken');
  };

  const isAuthenticated = !!user; // Simple check if user is not null

  return (
    &lt;AuthContext.Provider value=&gt;
      {children}
    &lt;/AuthContext.Provider&gt;
  );
}

export function useAuth() {
  const context = useContext(AuthContext);
  if (context === undefined) {
    throw new Error('useAuth must be used within an AuthProvider');
  }
  return context;
}
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="851" data-line-end="857">
<p class="has-line-data" data-line-start="851" data-line-end="852"><strong>Create Constants File:</strong></p>
<ul>
<li class="has-line-data" data-line-start="852" data-line-end="857">Create <code>src/constants.js</code>:<pre><code class="has-line-data" data-line-start="854" data-line-end="856" class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> API_URL = <span class="hljs-string">'http://localhost:5000'</span>; <span class="hljs-comment">// Your Flask backend URL</span>
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="857" data-line-end="875">
<p class="has-line-data" data-line-start="857" data-line-end="858"><strong>Wrap App with AuthProvider:</strong></p>
<ul>
<li class="has-line-data" data-line-start="858" data-line-end="875">Modify <code>src/main.jsx</code> to wrap the <code>App</code> component with <code>AuthProvider</code>:<pre><code class="has-line-data" data-line-start="860" data-line-end="874" class="language-jsx">import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App.jsx';
import './index.css'; // Your global CSS
import { AuthProvider } from './context/AuthContext.jsx'; // Import AuthProvider

ReactDOM.createRoot(document.getElementById('root')).render(
  &lt;React.StrictMode&gt;
    &lt;AuthProvider&gt; {/* Wrap App with AuthProvider */}
      &lt;App /&gt;
    &lt;/AuthProvider&gt;
  &lt;/React.StrictMode&gt;,
);
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="875" data-line-end="977">
<p class="has-line-data" data-line-start="875" data-line-end="876"><strong>Connect AuthForm to Backend via Context:</strong></p>
<ul>
<li class="has-line-data" data-line-start="876" data-line-end="977">Modify <code>src/components/AuthForm.jsx</code> to use <code>useAuth</code> and <code>fetch</code>:<pre><code class="has-line-data" data-line-start="878" data-line-end="976" class="language-jsx">import { useState } from 'react';
import { API_URL } from '../constants';
import { useAuth } from '../context/AuthContext'; // Import useAuth
import './AuthForm.css';

function AuthForm({ type }) { // Remove onSubmit prop, use context instead
  const [username, setUsername] = useState('');
  const [password, setPassword] = useState('');
  const [error, setError] = useState(null);
  const [loading, setLoading] = useState(false);
  const { login } = useAuth(); // Get login function from context

  const handleSubmit = async (e) =&gt; { // Make function async
    e.preventDefault();

    if (!username.trim() || !password.trim()) {
      setError('Please enter both username and password');
      return;
    }

    try {
      setLoading(true);
      setError(null); // Clear previous errors

      const url = type === 'signup'
        ? `${API_URL}/signup`
        : `${API_URL}/login`;

      const response = await fetch(url, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ username, password })
      });

      const data = await response.json();

      if (!response.ok) {
        // Handle API errors (e.g., username taken, invalid credentials)
        throw new Error(data.message || 'Authentication failed');
      }

      // Assuming success, call login from context
      // The backend currently only returns username, but we'll add token later
      login({ username: data.username /* , token: data.token */ }); // Pass username and token (when backend sends it)
      // No need to clear form here, redirect/state change will handle it

    } catch (err) {
      console.error('Authentication error:', err);
      setError(err.message || 'An unexpected error occurred.');
    } finally {
      setLoading(false);
    }
  };

  return (
    &lt;div className=&quot;auth-form-container&quot;&gt;
       {/* ... rest of the component remains the same ... */}
       &lt;h2&gt;{type === 'signup' ? 'Sign Up' : 'Log In'}&lt;/h2&gt;
       {error &amp;&amp; &lt;div className=&quot;error-message&quot;&gt;{error}&lt;/div&gt;}

       &lt;form onSubmit={handleSubmit} className=&quot;auth-form&quot;&gt;
         {/* ... form fields ... */}
          &lt;div className=&quot;form-group&quot;&gt;
            &lt;input
              type=&quot;text&quot;
              placeholder=&quot;Username&quot;
              value={username}
              onChange={(e) =&gt; setUsername(e.target.value)}
              disabled={loading}
              autoComplete=&quot;username&quot;
            /&gt;
          &lt;/div&gt;

          &lt;div className=&quot;form-group&quot;&gt;
            &lt;input
              type=&quot;password&quot;
              placeholder=&quot;Password&quot;
              value={password}
              onChange={(e) =&gt; setPassword(e.target.value)}
              disabled={loading}
              autoComplete={type === 'signup' ? 'new-password' : 'current-password'}
            /&gt;
          &lt;/div&gt;

         &lt;button type=&quot;submit&quot; disabled={loading}&gt;
           {loading
             ? (type === 'signup' ? 'Signing Up...' : 'Logging In...')
             : (type === 'signup' ? 'Sign Up' : 'Log In')}
         &lt;/button&gt;
       &lt;/form&gt;
     &lt;/div&gt;
   );
 }

 export default AuthForm;
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="977" data-line-end="1028">
<p class="has-line-data" data-line-start="977" data-line-end="978"><strong>Update App.jsx to Use Auth Context:</strong></p>
<ul>
<li class="has-line-data" data-line-start="978" data-line-end="1028">Modify <code>src/App.jsx</code> to check <code>isAuthenticated</code> from the context:<pre><code class="has-line-data" data-line-start="980" data-line-end="1027" class="language-jsx">// ... imports ...
import { useAuth } from './context/AuthContext'; // Import useAuth

function App() {
  const { isAuthenticated, user, loading: authLoading, logout } = useAuth(); // Get state and functions from context
  const [showSignUp, setShowSignUp] = useState(false); // Still needed for toggling forms

  // If auth is still loading (checking local storage), show a loading state
  if (authLoading) {
      return &lt;div className=&quot;loading-screen&quot;&gt;Loading...&lt;/div&gt;; // Add basic loading screen style
  }

  return (
    &lt;div className=&quot;app-container&quot;&gt;
      &lt;Header user={user} onLogout={logout} /&gt; {/* Pass user and logout to Header */}
      &lt;main className=&quot;app-main container&quot;&gt;
        {isAuthenticated ? (
          &lt;div&gt;
            {/* Placeholder for authenticated content (Feed/Profile) */}
             &lt;h2&gt;Welcome, {user?.username}!&lt;/h2&gt; {/* Display username */}
             &lt;p&gt;You are logged in.&lt;/p&gt;
             {/* Feed and other components will go here */}
          &lt;/div&gt;
        ) : (
          &lt;div className=&quot;auth-page-content&quot;&gt;
            {showSignUp ? (
              &lt;AuthForm type=&quot;signup&quot; /&gt; {/* No onSubmit needed here anymore */}
            ) : (
              &lt;AuthForm type=&quot;login&quot; /&gt; {/* No onSubmit needed here anymore */}
            )}
            &lt;div className=&quot;auth-switch&quot;&gt;
                {showSignUp ? (
                    &lt;p&gt;Have an account? &lt;button className=&quot;switch-button&quot; onClick={() =&gt; setShowSignUp(false)}&gt;Log In&lt;/button&gt;&lt;/p&gt;
                ) : (
                    &lt;p&gt;Don't have an account? &lt;button className=&quot;switch-button&quot; onClick={() =&gt; setShowSignUp(true)}&gt;Sign Up&lt;/button&gt;&lt;/p&gt;
                )}
            &lt;/div&gt;
          &lt;/div&gt;
        )}
      &lt;/main&gt;
      &lt;Footer /&gt;
    &lt;/div&gt;
  );
}

export default App;
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1028" data-line-end="1101">
<p class="has-line-data" data-line-start="1028" data-line-end="1029"><strong>Update Header to Show User/Logout:</strong></p>
<ul>
<li class="has-line-data" data-line-start="1029" data-line-end="1059">Modify <code>src/components/Header.jsx</code>:<pre><code class="has-line-data" data-line-start="1031" data-line-end="1059" class="language-jsx">import './Header.css';

function Header({ user, onLogout }) {
  return (
    &lt;header className=&quot;app-header&quot;&gt;
      &lt;div className=&quot;container&quot;&gt;
        &lt;div className=&quot;header-left&quot;&gt;
           &lt;h1&gt;InstagramClone&lt;/h1&gt; {/* Or a logo */}
        &lt;/div&gt;
        &lt;div className=&quot;header-right&quot;&gt;
           {user ? (
             &lt;div className=&quot;user-controls&quot;&gt;
                {/* Placeholder for navigation icons (Home, Create, Profile, etc.) */}
                &lt;span&gt;Hello, {user.username}!&lt;/span&gt; {/* Display username */}
                &lt;button onClick={onLogout} className=&quot;logout-button&quot;&gt;Logout&lt;/button&gt;
             &lt;/div&gt;
           ) : (
              // Optional: Placeholder for login/signup links if not on auth page
              null
           )}
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/header&gt;
  );
}

export default Header;
</code></pre>
</li>
<li class="has-line-data" data-line-start="1059" data-line-end="1101">Update <code>Header.css</code> for the new structure:<pre><code class="has-line-data" data-line-start="1061" data-line-end="1100" class="language-css"><span class="hljs-class">.app-header</span> <span class="hljs-class">.container</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">display</span>:<span class="hljs-value"> flex</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">justify-content</span>:<span class="hljs-value"> space-between</span></span>; <span class="hljs-comment">/* Space between left and right */</span>
    <span class="hljs-rule"><span class="hljs-attribute">align-items</span>:<span class="hljs-value"> center</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">max-width</span>:<span class="hljs-value"> <span class="hljs-number">935px</span></span></span>; <span class="hljs-comment">/* Match app container width */</span>
    <span class="hljs-rule"><span class="hljs-attribute">margin</span>:<span class="hljs-value"> <span class="hljs-number">0</span> auto</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">0</span> <span class="hljs-number">20px</span></span></span>;
}</span>

<span class="hljs-class">.header-left</span> <span class="hljs-tag">h1</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">margin</span>:<span class="hljs-value"> <span class="hljs-number">0</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> <span class="hljs-number">1.5rem</span></span></span>;
    <span class="hljs-comment">/* Optional: style like Instagram logo text */</span>
}</span>

<span class="hljs-class">.user-controls</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">display</span>:<span class="hljs-value"> flex</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">align-items</span>:<span class="hljs-value"> center</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">gap</span>:<span class="hljs-value"> <span class="hljs-number">15px</span></span></span>; <span class="hljs-comment">/* Space between items */</span>
}</span>

<span class="hljs-class">.user-controls</span> <span class="hljs-tag">span</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">font-weight</span>:<span class="hljs-value"> bold</span></span>;
}</span>

<span class="hljs-class">.logout-button</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">background</span>:<span class="hljs-value"> none</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> none</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#0095f6</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">cursor</span>:<span class="hljs-value"> pointer</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">0</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">margin</span>:<span class="hljs-value"> <span class="hljs-number">0</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">font-weight</span>:<span class="hljs-value"> bold</span></span>;
}</span>
 <span class="hljs-class">.logout-button</span><span class="hljs-pseudo">:hover</span> <span class="hljs-rules">{
     <span class="hljs-rule"><span class="hljs-attribute">text-decoration</span>:<span class="hljs-value"> underline</span></span>;
 }</span>

</code></pre>
</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1101 data-line-end=1102 ><a id="_Daily_Challenge_1101"></a>🧩 Daily Challenge</h3>
<p class="has-line-data" data-line-start="1102" data-line-end="1103">Add simple toast notifications (e.g., just logging to console for now, or using a basic state variable and rendering) for successful signup/login and for errors.</p>
<h3 class="code-line" data-line-start=1104 data-line-end=1105 ><a id="_Troubleshooting_Tips_1104"></a>🔍 Troubleshooting Tips</h3>
<ul>
<li class="has-line-data" data-line-start="1105" data-line-end="1106"><strong>CORS errors?</strong> Ensure <code>flask-cors</code> is installed and <code>CORS(app)</code> is called in your Flask app. Make sure your frontend <code>API_URL</code> matches your backend address/port.</li>
<li class="has-line-data" data-line-start="1106" data-line-end="1107"><strong>State not updating after login?</strong> Verify <code>login</code> function in <code>AuthContext</code> is called and <code>setUser</code> updates the state. Check if <code>localStorage</code> items are being set.</li>
<li class="has-line-data" data-line-start="1107" data-line-end="1109"><strong>Context not working?</strong> Ensure <code>AuthProvider</code> wraps the component tree where <code>useAuth</code> is called (<code>main.jsx</code> is a good place).</li>
</ul>
<h3 class="code-line" data-line-start=1109 data-line-end=1110 ><a id="_Stretch_Goal_1109"></a>✨ Stretch Goal</h3>
<p class="has-line-data" data-line-start="1110" data-line-end="1111">Implement the JWT token logic in the backend (<code>signup</code> and <code>login</code> endpoints) and store the token in <code>localStorage</code> on the frontend.</p>
<hr>
<h2 class="code-line" data-line-start=1114 data-line-end=1115 ><a id="Day_7_Implementing_JWT_Authentication__1114"></a>Day 7: Implementing JWT Authentication 🔐</h2>
<h3 class="code-line" data-line-start=1116 data-line-end=1117 ><a id="_Objectives_1116"></a>🎯 Objectives</h3>
<ul>
<li class="has-line-data" data-line-start="1117" data-line-end="1118">Modify backend to issue and verify JWT tokens</li>
<li class="has-line-data" data-line-start="1118" data-line-end="1119">Update frontend to send JWT with authenticated requests</li>
<li class="has-line-data" data-line-start="1119" data-line-end="1121">Implement a simple authentication middleware/decorator in Flask</li>
</ul>
<h3 class="code-line" data-line-start=1121 data-line-end=1122 ><a id="_Knowledge_Refresher_JWT_Token_Structure_1121"></a>📚 Knowledge Refresher: JWT Token Structure</h3>
<blockquote>
<p class="has-line-data" data-line-start="1122" data-line-end="1123">A JWT consists of three parts separated by dots (<code>.</code>), which are: Header, Payload, and Signature. The Payload typically contains “claims” about an entity (e.g., user ID, username) and potentially expiration time. The Signature is used to verify the token hasn’t been tampered with.</p>
</blockquote>
<h3 class="code-line" data-line-start=1124 data-line-end=1125 ><a id="_StepbyStep_Tasks_1124"></a>✅ Step-by-Step Tasks</h3>
<ol>
<li class="has-line-data" data-line-start="1125" data-line-end="1199">
<p class="has-line-data" data-line-start="1125" data-line-end="1126"><strong>Update Backend to Issue JWT:</strong></p>
<ul>
<li class="has-line-data" data-line-start="1126" data-line-end="1199">Modify the <code>signup</code> and <code>login</code> routes in <code>backend/app.py</code> to generate and return a token using <code>pyjwt</code>.<pre><code class="has-line-data" data-line-start="1128" data-line-end="1198" class="language-python"><span class="hljs-comment"># Inside app.py, import jwt and datetime if not already there</span>
<span class="hljs-keyword">import</span> jwt
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime, timedelta

<span class="hljs-comment"># ... existing code ...</span>

<span class="hljs-decorator">@app.route('/signup', methods=['POST'])</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">signup</span><span class="hljs-params">()</span>:</span>
    <span class="hljs-comment"># ... (existing data validation and username check) ...</span>

    db = get_db()
    c = db.cursor()

    <span class="hljs-keyword">try</span>:
         <span class="hljs-comment"># ... (existing username check and password hashing) ...</span>
         c.execute(<span class="hljs-string">"INSERT INTO users (username, password) VALUES (?, ?)"</span>,
                  (username, hashed_password))
         db.commit()
         user_id = c.lastrowid

         <span class="hljs-comment"># Generate JWT Token</span>
         token_payload = {
             <span class="hljs-string">'user_id'</span>: user_id,
             <span class="hljs-string">'username'</span>: username,
             <span class="hljs-string">'exp'</span>: datetime.utcnow() + timedelta(days=<span class="hljs-number">1</span>) <span class="hljs-comment"># Token expires in 1 day</span>
         }
         token = jwt.encode(token_payload, app.config[<span class="hljs-string">'SECRET_KEY'</span>], algorithm=<span class="hljs-string">'HS256'</span>)

         <span class="hljs-keyword">return</span> jsonify({
             <span class="hljs-string">'message'</span>: <span class="hljs-string">'User created successfully'</span>,
             <span class="hljs-string">'username'</span>: username,
             <span class="hljs-string">'token'</span>: token <span class="hljs-comment"># Return the token</span>
         }), <span class="hljs-number">201</span>

    <span class="hljs-keyword">except</span> sqlite3.IntegrityError: <span class="hljs-comment"># Handle unique constraint error</span>
         <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Username already exists'</span>}), <span class="hljs-number">409</span>
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
         print(f<span class="hljs-string">"Error during signup: {e}"</span>)
         <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'An error occurred during signup'</span>}), <span class="hljs-number">500</span>


<span class="hljs-decorator">@app.route('/login', methods=['POST'])</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">login</span><span class="hljs-params">()</span>:</span>
    <span class="hljs-comment"># ... (existing data validation) ...</span>

    db = get_db()
    c = db.cursor()

    c.execute(<span class="hljs-string">"SELECT id, username, password FROM users WHERE username = ?"</span>, (username,))
    user = c.fetchone()

    <span class="hljs-keyword">if</span> user <span class="hljs-keyword">and</span> check_password_hash(user[<span class="hljs-string">'password'</span>], password):
        <span class="hljs-comment"># Authentication successful</span>
        <span class="hljs-comment"># Generate JWT Token</span>
        token_payload = {
            <span class="hljs-string">'user_id'</span>: user[<span class="hljs-string">'id'</span>],
            <span class="hljs-string">'username'</span>: user[<span class="hljs-string">'username'</span>],
            <span class="hljs-string">'exp'</span>: datetime.utcnow() + timedelta(days=<span class="hljs-number">1</span>) <span class="hljs-comment"># Token expires in 1 day</span>
        }
        token = jwt.encode(token_payload, app.config[<span class="hljs-string">'SECRET_KEY'</span>], algorithm=<span class="hljs-string">'HS256'</span>)

        <span class="hljs-keyword">return</span> jsonify({
            <span class="hljs-string">'message'</span>: <span class="hljs-string">'Login successful'</span>,
            <span class="hljs-string">'username'</span>: user[<span class="hljs-string">'username'</span>],
            <span class="hljs-string">'token'</span>: token <span class="hljs-comment"># Return the token</span>
        }), <span class="hljs-number">200</span>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Invalid credentials'</span>}), <span class="hljs-number">401</span>

</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1199" data-line-end="1247">
<p class="has-line-data" data-line-start="1199" data-line-end="1200"><strong>Create a JWT Authentication Decorator (Backend):</strong></p>
<ul>
<li class="has-line-data" data-line-start="1200" data-line-end="1247">Add this function and decorator to <code>backend/app.py</code>:<pre><code class="has-line-data" data-line-start="1202" data-line-end="1246" class="language-python"><span class="hljs-comment"># Inside app.py, below imports</span>
<span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> wraps <span class="hljs-comment"># Need this for decorators</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">token_required</span><span class="hljs-params">(f)</span>:</span>
<span class="hljs-decorator">    @wraps(f) # Preserves original function's metadata</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">decorated</span><span class="hljs-params">(*args, **kwargs)</span>:</span>
        token = <span class="hljs-keyword">None</span>
        <span class="hljs-comment"># JWT is typically sent in the Authorization header as "Bearer &lt;token&gt;"</span>
        <span class="hljs-keyword">if</span> <span class="hljs-string">'Authorization'</span> <span class="hljs-keyword">in</span> request.headers:
            auth_header = request.headers[<span class="hljs-string">'Authorization'</span>]
            <span class="hljs-keyword">try</span>:
                token = auth_header.split(<span class="hljs-string">' '</span>)[<span class="hljs-number">1</span>] <span class="hljs-comment"># Get token part after "Bearer "</span>
            <span class="hljs-keyword">except</span> IndexError:
                <span class="hljs-keyword">pass</span> <span class="hljs-comment"># Malformed header, token remains None</span>

        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> token:
            <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Token is missing!'</span>}), <span class="hljs-number">401</span> <span class="hljs-comment"># Unauthorized</span>

        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># Decode the token</span>
            <span class="hljs-comment"># This will raise an exception if the token is invalid or expired</span>
            data = jwt.decode(token, app.config[<span class="hljs-string">'SECRET_KEY'</span>], algorithms=[<span class="hljs-string">'HS256'</span>])
            <span class="hljs-comment"># Get the user from the database based on token payload</span>
            db = get_db()
            c = db.cursor()
            c.execute(<span class="hljs-string">"SELECT id, username FROM users WHERE id = ?"</span>, (data[<span class="hljs-string">'user_id'</span>],))
            current_user = c.fetchone()

            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> current_user:
                <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'User not found!'</span>}), <span class="hljs-number">401</span> <span class="hljs-comment"># Unauthorized, user from token not found</span>

        <span class="hljs-keyword">except</span> jwt.ExpiredSignatureError:
            <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Token has expired!'</span>}), <span class="hljs-number">401</span> <span class="hljs-comment"># Unauthorized</span>
        <span class="hljs-keyword">except</span> jwt.InvalidTokenError:
             <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Token is invalid!'</span>}), <span class="hljs-number">401</span> <span class="hljs-comment"># Unauthorized</span>
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
             print(f<span class="hljs-string">"Token verification error: {e}"</span>)
             <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'An error occurred during token verification!'</span>}), <span class="hljs-number">500</span>

        <span class="hljs-comment"># Pass the authenticated user to the decorated function</span>
        <span class="hljs-keyword">return</span> f(current_user, *args, **kwargs)

    <span class="hljs-keyword">return</span> decorated
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1247" data-line-end="1297">
<p class="has-line-data" data-line-start="1247" data-line-end="1248"><strong>Update Frontend Auth Context to Handle Token:</strong></p>
<ul>
<li class="has-line-data" data-line-start="1248" data-line-end="1297">Modify <code>src/context/AuthContext.jsx</code> to store/retrieve the token and include it in the user object.<pre><code class="has-line-data" data-line-start="1250" data-line-end="1296" class="language-jsx">// ... imports ...

const AuthContext = createContext();

export function AuthProvider({ children }) {
  const [user, setUser] = useState(null); // Stores { username, token }
  const [loading, setLoading] = useState(true);

  useEffect(() =&gt; {
    const storedUser = localStorage.getItem('instaCloneUser');
    const storedToken = localStorage.getItem('instaCloneToken');

    if (storedUser &amp;&amp; storedToken) {
       // Basic check if token exists.
       // *Ideally, you'd send token to backend to validate if it's still active/not expired*
       // For this plan, we'll trust the presence of the token for simplicity.
       setUser({ username: storedUser, token: storedToken });
    }

    setLoading(false);
  }, []);

  const login = ({ username, token }) =&gt; {
    setUser({ username, token });
    localStorage.setItem('instaCloneUser', username);
    localStorage.setItem('instaCloneToken', token);
  };

  const logout = () =&gt; {
    setUser(null);
    localStorage.removeItem('instaCloneUser');
    localStorage.removeItem('instaCloneToken');
  };

  const isAuthenticated = !!user; // Check if user object exists

  // Value provided to consumers: user object (contains token), isAuthenticated, login, logout, loading
  return (
    &lt;AuthContext.Provider value&gt;
      {children}
    &lt;/AuthContext.Provider&gt;
  );
}

// ... useAuth hook ...
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1297" data-line-end="1345">
<p class="has-line-data" data-line-start="1297" data-line-end="1298"><strong>Update Frontend Fetch Calls to Include Token:</strong></p>
<ul>
<li class="has-line-data" data-line-start="1298" data-line-end="1299">Create a helper function or update your fetch calls to add the <code>Authorization: Bearer &lt;token&gt;</code> header when the user is authenticated. We’ll use this on future days for protected routes (like creating posts, liking, commenting).</li>
<li class="has-line-data" data-line-start="1299" data-line-end="1345">Example (this would go where you make API calls, like fetching posts or creating one):<pre><code class="has-line-data" data-line-start="1301" data-line-end="1344" class="language-javascript"><span class="hljs-comment">// Inside a component or utility function that makes authenticated API calls</span>
<span class="hljs-keyword">import</span> { useAuth } <span class="hljs-keyword">from</span> <span class="hljs-string">'../context/AuthContext'</span>;
<span class="hljs-keyword">import</span> { API_URL } <span class="hljs-keyword">from</span> <span class="hljs-string">'../constants'</span>;

<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fetchAuthenticated</span>(<span class="hljs-params">endpoint, options = {}</span>) </span>{
    <span class="hljs-keyword">const</span> { user } = useAuth(); <span class="hljs-comment">// Get user from context</span>

    <span class="hljs-keyword">if</span> (!user || !user.token) {
        <span class="hljs-comment">// Handle case where user is not authenticated - maybe redirect to login</span>
        <span class="hljs-built_in">console</span>.error(<span class="hljs-string">"Attempted to make authenticated request without token"</span>);
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"User not authenticated"</span>);
    }

    <span class="hljs-keyword">const</span> headers = {
        ...options.headers, <span class="hljs-comment">// Preserve existing headers</span>
        <span class="hljs-string">'Authorization'</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${user.token}</span>`</span>, <span class="hljs-comment">// Add Authorization header</span>
    };

    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">`<span class="hljs-subst">${API_URL}</span><span class="hljs-subst">${endpoint}</span>`</span>, {
        ...options,
        headers,
    });

    <span class="hljs-comment">// Optional: Check for 401/403 response and trigger logout</span>
    <span class="hljs-keyword">if</span> (response.status === <span class="hljs-number">401</span> || response.status === <span class="hljs-number">403</span>) {
        <span class="hljs-comment">// Maybe call logout() from context here? Requires getting the logout function.</span>
        <span class="hljs-comment">// Or handle this specific error higher up.</span>
         <span class="hljs-built_in">console</span>.error(<span class="hljs-string">"Authentication failed for this request"</span>);
         <span class="hljs-comment">// Potentially throw a specific error type or re-login flow</span>
    }

    <span class="hljs-keyword">return</span> response;
}

<span class="hljs-comment">// How you'd use it (e.g., inside useEffect or handleSubmit):</span>
<span class="hljs-comment">// try {</span>
<span class="hljs-comment">//     const response = await fetchAuthenticated('/protected-route');</span>
<span class="hljs-comment">//     const data = await response.json();</span>
<span class="hljs-comment">//     // ... process data ...</span>
<span class="hljs-comment">// } catch (error) {</span>
<span class="hljs-comment">//     // Handle authentication errors or other fetch errors</span>
<span class="hljs-comment">// }</span>
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1345" data-line-end="1352">
<p class="has-line-data" data-line-start="1345" data-line-end="1346"><strong>Test Authentication Flow:</strong></p>
<ul>
<li class="has-line-data" data-line-start="1346" data-line-end="1347">Run Flask backend.</li>
<li class="has-line-data" data-line-start="1347" data-line-end="1348">Run React frontend.</li>
<li class="has-line-data" data-line-start="1348" data-line-end="1349">Test signup. Verify a token is returned in the backend logs/response (and in frontend console if you log it).</li>
<li class="has-line-data" data-line-start="1349" data-line-end="1350">Test login. Verify a token is returned.</li>
<li class="has-line-data" data-line-start="1350" data-line-end="1352">Check <code>localStorage</code> for <code>instaCloneUser</code> and <code>instaCloneToken</code>.</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1352 data-line-end=1353 ><a id="_Daily_Challenge_1352"></a>🧩 Daily Challenge</h3>
<p class="has-line-data" data-line-start="1353" data-line-end="1354">Add backend validation for minimum username length and password length in the <code>/signup</code> and <code>/login</code> routes.</p>
<h3 class="code-line" data-line-start=1355 data-line-end=1356 ><a id="_Troubleshooting_Tips_1355"></a>🔍 Troubleshooting Tips</h3>
<ul>
<li class="has-line-data" data-line-start="1356" data-line-end="1357"><strong>JWT <code>ExpiredSignatureError</code> immediately?</strong> Check your system clock and ensure <code>timedelta</code> is correct (e.g., <code>timedelta(days=1)</code>).</li>
<li class="has-line-data" data-line-start="1357" data-line-end="1358"><strong><code>TypeError: Object of type timedelta is not JSON serializable</code>?</strong> Ensure you are <em>encoding</em> the JWT correctly; the <code>exp</code> claim should be a datetime object. The error might occur if you accidentally try to <em>return</em> a datetime object directly in a JSON response.</li>
<li class="has-line-data" data-line-start="1358" data-line-end="1360"><strong>Frontend <code>fetch</code> not sending header?</strong> Use browser developer tools (Network tab) to inspect the headers sent with your request.</li>
</ul>
<h3 class="code-line" data-line-start=1360 data-line-end=1361 ><a id="_Stretch_Goal_1360"></a>✨ Stretch Goal</h3>
<p class="has-line-data" data-line-start="1361" data-line-end="1362">Implement token validation on the frontend: When the app loads and finds a token, send it to a new backend endpoint (e.g., <code>/verify_token</code>) to check if it’s still valid before setting the <code>user</code> state in the AuthContext.</p>
<hr>
<h2 class="code-line" data-line-start=1365 data-line-end=1366 ><a id="Day_8_Building__Styling_the_Post_Feed__1365"></a>Day 8: Building &amp; Styling the Post Feed 📸</h2>
<h3 class="code-line" data-line-start=1367 data-line-end=1368 ><a id="_Objectives_1367"></a>🎯 Objectives</h3>
<ul>
<li class="has-line-data" data-line-start="1368" data-line-end="1369">Create React components for the Post Feed and individual Post Items</li>
<li class="has-line-data" data-line-start="1369" data-line-end="1370">Implement fetching posts from the backend API</li>
<li class="has-line-data" data-line-start="1370" data-line-end="1372">Style the feed and post items to resemble Instagram</li>
</ul>
<h3 class="code-line" data-line-start=1372 data-line-end=1373 ><a id="_Knowledge_Refresher_Displaying_Lists_in_React_1372"></a>📚 Knowledge Refresher: Displaying Lists in React</h3>
<blockquote>
<p class="has-line-data" data-line-start="1373" data-line-end="1374">To display lists of items in React, you typically map over an array of data (fetched from an API or from state). Each item in the list should have a unique <code>key</code> prop to help React efficiently update the UI.</p>
</blockquote>
<h3 class="code-line" data-line-start=1375 data-line-end=1376 ><a id="_StepbyStep_Tasks_1375"></a>✅ Step-by-Step Tasks</h3>
<ol>
<li class="has-line-data" data-line-start="1376" data-line-end="1415">
<p class="has-line-data" data-line-start="1376" data-line-end="1377"><strong>Add Backend Endpoint for Posts:</strong></p>
<ul>
<li class="has-line-data" data-line-start="1377" data-line-end="1415">Add this route to <code>backend/app.py</code>. This route <em>doesn’t</em> need the <code>@token_required</code> decorator initially, so anyone can view posts (like a public feed).<pre><code class="has-line-data" data-line-start="1379" data-line-end="1414" class="language-python"><span class="hljs-comment"># Inside app.py</span>

<span class="hljs-decorator">@app.route('/posts', methods=['GET'])</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_posts</span><span class="hljs-params">()</span>:</span>
    db = get_db()
    c = db.cursor()

    <span class="hljs-comment"># Select posts, joining with users to get author's username</span>
    <span class="hljs-comment"># Order by creation date descending (newest first)</span>
    c.execute(<span class="hljs-string">"""
        SELECT
            p.id, p.user_id, p.image_url, p.caption, p.created_at,
            u.username AS author_username
        FROM posts p
        JOIN users u ON p.user_id = u.id
        ORDER BY p.created_at DESC
    """</span>)
    posts = c.fetchall() <span class="hljs-comment"># Get all rows</span>

    <span class="hljs-comment"># Convert rows to a list of dictionaries</span>
    posts_list = []
    <span class="hljs-keyword">for</span> post <span class="hljs-keyword">in</span> posts:
         posts_list.append({
             <span class="hljs-string">'id'</span>: post[<span class="hljs-string">'id'</span>],
             <span class="hljs-string">'userId'</span>: post[<span class="hljs-string">'user_id'</span>],
             <span class="hljs-string">'imageUrl'</span>: post[<span class="hljs-string">'image_url'</span>],
             <span class="hljs-string">'caption'</span>: post[<span class="hljs-string">'caption'</span>],
             <span class="hljs-string">'createdAt'</span>: post[<span class="hljs-string">'created_at'</span>],
             <span class="hljs-string">'authorUsername'</span>: post[<span class="hljs-string">'author_username'</span>],
             <span class="hljs-string">'likesCount'</span>: <span class="hljs-number">0</span>, <span class="hljs-comment"># Placeholder for now</span>
             <span class="hljs-string">'commentsCount'</span>: <span class="hljs-number">0</span> <span class="hljs-comment"># Placeholder for now</span>
         })

    <span class="hljs-keyword">return</span> jsonify(posts_list)
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1415" data-line-end="1461">
<p class="has-line-data" data-line-start="1415" data-line-end="1416"><strong>Create a PostItem Component (Frontend):</strong></p>
<ul>
<li class="has-line-data" data-line-start="1416" data-line-end="1461">Create <code>src/components/PostItem.jsx</code>:<pre><code class="has-line-data" data-line-start="1418" data-line-end="1460" class="language-jsx">import './PostItem.css';

function PostItem({ post }) {
  // Basic date formatting
  const formatDate = (timestamp) =&gt; {
    const date = new Date(timestamp);
    return date.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });
  }

  return (
    &lt;div className=&quot;post-item&quot;&gt;
      &lt;div className=&quot;post-header&quot;&gt;
        &lt;span className=&quot;post-author&quot;&gt;{post.authorUsername}&lt;/span&gt;
      &lt;/div&gt;
      &lt;div className=&quot;post-image&quot;&gt;
        &lt;img src={post.imageUrl} alt={post.caption} /&gt;
      &lt;/div&gt;
      &lt;div className=&quot;post-actions&quot;&gt;
        {/* Like, Comment, Share icons/buttons will go here */}
        &lt;button className=&quot;action-button&quot;&gt;Like&lt;/button&gt;
        &lt;button className=&quot;action-button&quot;&gt;Comment&lt;/button&gt;
      &lt;/div&gt;
      &lt;div className=&quot;post-likes&quot;&gt;
         {/* Placeholder for likes count */}
         &lt;span&gt;{post.likesCount} likes&lt;/span&gt;
      &lt;/div&gt;
      &lt;div className=&quot;post-caption&quot;&gt;
        &lt;span className=&quot;post-author&quot;&gt;{post.authorUsername}&lt;/span&gt; {post.caption}
      &lt;/div&gt;
      &lt;div className=&quot;post-comments-preview&quot;&gt;
         {/* Placeholder for comments preview */}
         {post.commentsCount &gt; 0 &amp;&amp; &lt;span&gt;View all {post.commentsCount} comments&lt;/span&gt;}
      &lt;/div&gt;
       &lt;div className=&quot;post-timestamp&quot;&gt;
         {formatDate(post.createdAt)}
       &lt;/div&gt;
    &lt;/div&gt;
  );
}

export default PostItem;
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1461" data-line-end="1530">
<p class="has-line-data" data-line-start="1461" data-line-end="1462"><strong>Create CSS for PostItem:</strong></p>
<ul>
<li class="has-line-data" data-line-start="1462" data-line-end="1530">Create <code>src/components/PostItem.css</code>:<pre><code class="has-line-data" data-line-start="1464" data-line-end="1529" class="language-css"><span class="hljs-class">.post-item</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#ffffff</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> <span class="hljs-number">1px</span> solid <span class="hljs-hexcolor">#dbdbdb</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">margin-bottom</span>:<span class="hljs-value"> <span class="hljs-number">60px</span></span></span>; <span class="hljs-comment">/* Space between posts */</span>
  <span class="hljs-rule"><span class="hljs-attribute">max-width</span>:<span class="hljs-value"> <span class="hljs-number">600px</span></span></span>; <span class="hljs-comment">/* Instagram post width on web */</span>
  <span class="hljs-rule"><span class="hljs-attribute">margin-left</span>:<span class="hljs-value"> auto</span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">margin-right</span>:<span class="hljs-value"> auto</span></span>;
}</span>

<span class="hljs-class">.post-header</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">14px</span> <span class="hljs-number">16px</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">font-weight</span>:<span class="hljs-value"> bold</span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">border-bottom</span>:<span class="hljs-value"> <span class="hljs-number">1px</span> solid <span class="hljs-hexcolor">#eee</span></span></span>; <span class="hljs-comment">/* Optional subtle border */</span>
}</span>

<span class="hljs-class">.post-image</span> <span class="hljs-tag">img</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">display</span>:<span class="hljs-value"> block</span></span>; <span class="hljs-comment">/* Removes extra space below image */</span>
  <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">100%</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"> auto</span></span>; <span class="hljs-comment">/* Maintain aspect ratio */</span>
  <span class="hljs-rule"><span class="hljs-attribute">object-fit</span>:<span class="hljs-value"> cover</span></span>; <span class="hljs-comment">/* Cover the container */</span>
}</span>

<span class="hljs-class">.post-actions</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">10px</span> <span class="hljs-number">16px</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">display</span>:<span class="hljs-value"> flex</span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">gap</span>:<span class="hljs-value"> <span class="hljs-number">10px</span></span></span>; <span class="hljs-comment">/* Space between action buttons */</span>
}</span>

<span class="hljs-class">.action-button</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">background</span>:<span class="hljs-value"> none</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> none</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">cursor</span>:<span class="hljs-value"> pointer</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">0</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> <span class="hljs-number">1.5rem</span></span></span>; <span class="hljs-comment">/* Icon size placeholder */</span>
}</span>

<span class="hljs-class">.post-likes</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">0</span> <span class="hljs-number">16px</span> <span class="hljs-number">8px</span> <span class="hljs-number">16px</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">font-weight</span>:<span class="hljs-value"> bold</span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> <span class="hljs-number">0.9rem</span></span></span>;
}</span>

<span class="hljs-class">.post-caption</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">0</span> <span class="hljs-number">16px</span> <span class="hljs-number">8px</span> <span class="hljs-number">16px</span></span></span>;
}</span>

<span class="hljs-class">.post-caption</span> <span class="hljs-class">.post-author</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">font-weight</span>:<span class="hljs-value"> bold</span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">margin-right</span>:<span class="hljs-value"> <span class="hljs-number">5px</span></span></span>;
}</span>

<span class="hljs-class">.post-comments-preview</span> <span class="hljs-rules">{
     <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">0</span> <span class="hljs-number">16px</span> <span class="hljs-number">8px</span> <span class="hljs-number">16px</span></span></span>;
     <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#8e8e8e</span></span></span>;
     <span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> <span class="hljs-number">0.9rem</span></span></span>;
     <span class="hljs-rule"><span class="hljs-attribute">cursor</span>:<span class="hljs-value"> pointer</span></span>; <span class="hljs-comment">/* Indicates it's clickable */</span>
}</span>

<span class="hljs-class">.post-timestamp</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">0</span> <span class="hljs-number">16px</span> <span class="hljs-number">16px</span> <span class="hljs-number">16px</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#8e8e8e</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> <span class="hljs-number">0.7rem</span></span></span>;
  <span class="hljs-rule"><span class="hljs-attribute">text-transform</span>:<span class="hljs-value"> uppercase</span></span>;
}</span>
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1530" data-line-end="1586">
<p class="has-line-data" data-line-start="1530" data-line-end="1531"><strong>Create a PostFeed Component (Frontend):</strong></p>
<ul>
<li class="has-line-data" data-line-start="1531" data-line-end="1586">Create <code>src/components/PostFeed.jsx</code>:<pre><code class="has-line-data" data-line-start="1533" data-line-end="1585" class="language-jsx">import { useState, useEffect } from 'react';
import { API_URL } from '../constants';
import PostItem from './PostItem';
import './PostFeed.css';

function PostFeed() {
  const [posts, setPosts] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() =&gt; {
    const fetchPosts = async () =&gt; {
      try {
        setLoading(true);
        const response = await fetch(`${API_URL}/posts`); // Fetch from backend

        if (!response.ok) {
          throw new Error(`HTTP error! Status: ${response.status}`);
        }

        const data = await response.json();
        setPosts(data);
        setError(null);
      } catch (err) {
        console.error('Error fetching posts:', err);
        setError('Failed to load posts. Please try again later.');
      } finally {
        setLoading(false);
      }
    };

    fetchPosts();
  }, []); // Empty dependency array: fetch once on mount

  if (loading) return &lt;div className=&quot;feed-message&quot;&gt;Loading feed...&lt;/div&gt;;
  if (error) return &lt;div className=&quot;error-message&quot;&gt;{error}&lt;/div&gt;; // Re-use AuthForm error style

  return (
    &lt;div className=&quot;post-feed&quot;&gt;
      {posts.length === 0 ? (
        &lt;div className=&quot;feed-message&quot;&gt;No posts yet. Be the first to share!&lt;/div&gt;
      ) : (
        posts.map(post =&gt; (
          &lt;PostItem key={post.id} post={post} /&gt;
        ))
      )}
    &lt;/div&gt;
  );
}

export default PostFeed;
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1586" data-line-end="1601">
<p class="has-line-data" data-line-start="1586" data-line-end="1587"><strong>Create CSS for PostFeed:</strong></p>
<ul>
<li class="has-line-data" data-line-start="1587" data-line-end="1601">Create <code>src/components/PostFeed.css</code>:<pre><code class="has-line-data" data-line-start="1589" data-line-end="1600" class="language-css"><span class="hljs-class">.post-feed</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">padding-top</span>:<span class="hljs-value"> <span class="hljs-number">40px</span></span></span>; <span class="hljs-comment">/* Space below header */</span>
  <span class="hljs-rule"><span class="hljs-attribute">padding-bottom</span>:<span class="hljs-value"> <span class="hljs-number">40px</span></span></span>; <span class="hljs-comment">/* Space above footer */</span>
}</span>

<span class="hljs-class">.feed-message</span> <span class="hljs-rules">{
   <span class="hljs-rule"><span class="hljs-attribute">text-align</span>:<span class="hljs-value"> center</span></span>;
   <span class="hljs-rule"><span class="hljs-attribute">margin-top</span>:<span class="hljs-value"> <span class="hljs-number">50px</span></span></span>;
   <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#8e8e8e</span></span></span>;
}</span>
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1601" data-line-end="1650">
<p class="has-line-data" data-line-start="1601" data-line-end="1602"><strong>Update App.jsx to Display PostFeed (when authenticated):</strong></p>
<ul>
<li class="has-line-data" data-line-start="1602" data-line-end="1650">Modify the authenticated section in <code>src/App.jsx</code>:<pre><code class="has-line-data" data-line-start="1604" data-line-end="1649" class="language-jsx">// ... imports ...
import PostFeed from './components/PostFeed'; // Import PostFeed
import './components/PostFeed.css'; // Import PostFeed styles
// import './components/PostItem.css'; // Import PostItem styles (can import here or in PostFeed)


function App() {
  const { isAuthenticated, user, loading: authLoading, logout } = useAuth();
  const [showSignUp, setShowSignUp] = useState(false);

  if (authLoading) {
      return &lt;div className=&quot;loading-screen&quot;&gt;Loading...&lt;/div&gt;;
  }

  return (
    &lt;div className=&quot;app-container&quot;&gt;
      &lt;Header user={user} onLogout={logout} /&gt;
      &lt;main className=&quot;app-main container&quot;&gt;
        {isAuthenticated ? (
          &lt;PostFeed /&gt; {/* Render the PostFeed */}
        ) : (
           // ... auth forms ...
           &lt;div className=&quot;auth-page-content&quot;&gt;
            {showSignUp ? (
              &lt;AuthForm type=&quot;signup&quot; /&gt;
            ) : (
              &lt;AuthForm type=&quot;login&quot; /&gt;
            )}
            &lt;div className=&quot;auth-switch&quot;&gt;
                {showSignUp ? (
                    &lt;p&gt;Have an account? &lt;button className=&quot;switch-button&quot; onClick={() =&gt; setShowSignUp(false)}&gt;Log In&lt;/button&gt;&lt;/p&gt;
                ) : (
                    &lt;p&gt;Don't have an account? &lt;button className=&quot;switch-button&quot; onClick={() =&gt; setShowSignUp(true)}&gt;Sign Up&lt;/button&gt;&lt;/p&gt;
                )}
            &lt;/div&gt;
          &lt;/div&gt;
        )}
      &lt;/main&gt;
      &lt;Footer /&gt;
    &lt;/div&gt;
  );
}

export default App;
</code></pre>
</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1650 data-line-end=1651 ><a id="_Daily_Challenge_1650"></a>🧩 Daily Challenge</h3>
<p class="has-line-data" data-line-start="1651" data-line-end="1652">Seed your backend database (<code>instagram_clone.db</code>) with a few sample posts directly using DB Browser for SQLite or by writing a simple Python script that inserts data into the database tables.</p>
<h3 class="code-line" data-line-start=1653 data-line-end=1654 ><a id="_Troubleshooting_Tips_1653"></a>🔍 Troubleshooting Tips</h3>
<ul>
<li class="has-line-data" data-line-start="1654" data-line-end="1655"><strong>Images not showing?</strong> Verify the <code>image_url</code> in your sample data/database is a valid, publicly accessible URL. Check the browser’s Network tab for failed image requests.</li>
<li class="has-line-data" data-line-start="1655" data-line-end="1656"><strong>Feed is empty?</strong> Check your backend <code>/posts</code> endpoint using Postman to ensure it returns data. Verify the frontend <code>fetch</code> call is correct and state (<code>posts</code>) is being updated.</li>
<li class="has-line-data" data-line-start="1656" data-line-end="1658"><strong>Posts look squished/stretched?</strong> Ensure <code>object-fit: cover;</code> is applied to the image and/or the image container has a defined aspect ratio or height.</li>
</ul>
<h3 class="code-line" data-line-start=1658 data-line-end=1659 ><a id="_Stretch_Goal_1658"></a>✨ Stretch Goal</h3>
<p class="has-line-data" data-line-start="1659" data-line-end="1660">Add a visual indicator (e.g., a spinner or message) in the <code>PostFeed</code> component while it’s loading posts.</p>
<hr>
<h2 class="code-line" data-line-start=1663 data-line-end=1664 ><a id="Day_9_Implementing_Post_Creation_with_Image_URL__1663"></a>Day 9: Implementing Post Creation (with Image URL) ➕</h2>
<h3 class="code-line" data-line-start=1665 data-line-end=1666 ><a id="_Objectives_1665"></a>🎯 Objectives</h3>
<ul>
<li class="has-line-data" data-line-start="1666" data-line-end="1667">Create a frontend component for creating new posts</li>
<li class="has-line-data" data-line-start="1667" data-line-end="1668">Build a backend endpoint to receive and save new post data (including image URL)</li>
<li class="has-line-data" data-line-start="1668" data-line-end="1670">Integrate the frontend form with the backend endpoint</li>
</ul>
<h3 class="code-line" data-line-start=1670 data-line-end=1671 ><a id="_Knowledge_Refresher_Handling_File_Uploads_Simplified_1670"></a>📚 Knowledge Refresher: Handling File Uploads (Simplified)</h3>
<blockquote>
<p class="has-line-data" data-line-start="1671" data-line-end="1672">True file uploads require backend infrastructure to store files (e.g., on the server, cloud storage like S3). For this plan, we’re simplifying by <em>only</em> accepting and storing an image URL provided by the user, bypassing complex file handling.</p>
</blockquote>
<h3 class="code-line" data-line-start=1673 data-line-end=1674 ><a id="_StepbyStep_Tasks_1673"></a>✅ Step-by-Step Tasks</h3>
<ol>
<li class="has-line-data" data-line-start="1674" data-line-end="1730">
<p class="has-line-data" data-line-start="1674" data-line-end="1675"><strong>Add Backend Endpoint for Creating Posts:</strong></p>
<ul>
<li class="has-line-data" data-line-start="1675" data-line-end="1730">Add this route to <code>backend/app.py</code>. This route <em>must</em> be protected, so add the <code>@token_required</code> decorator.<pre><code class="has-line-data" data-line-start="1677" data-line-end="1729" class="language-python"><span class="hljs-comment"># Inside app.py</span>

<span class="hljs-decorator">@app.route('/posts', methods=['POST'])</span>
<span class="hljs-decorator">@token_required # Protect this endpoint - only authenticated users can create posts</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create_post</span><span class="hljs-params">(current_user)</span>:</span> <span class="hljs-comment"># The decorator passes the user object here</span>
    data = request.json
    image_url = data.get(<span class="hljs-string">'imageUrl'</span>)
    caption = data.get(<span class="hljs-string">'caption'</span>, <span class="hljs-string">''</span>) <span class="hljs-comment"># Caption is optional</span>

    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> image_url <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> image_url.strip():
        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Image URL is required'</span>}), <span class="hljs-number">400</span>

    db = get_db()
    c = db.cursor()

    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># Use the user ID passed by the @token_required decorator</span>
        user_id = current_user[<span class="hljs-string">'id'</span>]

        c.execute(<span class="hljs-string">"INSERT INTO posts (user_id, image_url, caption) VALUES (?, ?, ?)"</span>,
                  (user_id, image_url, caption))
        db.commit()

        <span class="hljs-comment"># Optionally, fetch the created post including its new ID</span>
        post_id = c.lastrowid
        c.execute(<span class="hljs-string">"""
            SELECT p.id, p.user_id, p.image_url, p.caption, p.created_at, u.username AS author_username
            FROM posts p JOIN users u ON p.user_id = u.id WHERE p.id = ?
        """</span>, (post_id,))
        new_post = c.fetchone()

        <span class="hljs-keyword">if</span> new_post:
             new_post_dict = {
                 <span class="hljs-string">'id'</span>: new_post[<span class="hljs-string">'id'</span>],
                 <span class="hljs-string">'userId'</span>: new_post[<span class="hljs-string">'user_id'</span>],
                 <span class="hljs-string">'imageUrl'</span>: new_post[<span class="hljs-string">'image_url'</span>],
                 <span class="hljs-string">'caption'</span>: new_post[<span class="hljs-string">'caption'</span>],
                 <span class="hljs-string">'createdAt'</span>: new_post[<span class="hljs-string">'created_at'</span>],
                 <span class="hljs-string">'authorUsername'</span>: new_post[<span class="hljs-string">'author_username'</span>],
                 <span class="hljs-string">'likesCount'</span>: <span class="hljs-number">0</span>,
                 <span class="hljs-string">'commentsCount'</span>: <span class="hljs-number">0</span>
             }
             <span class="hljs-keyword">return</span> jsonify(new_post_dict), <span class="hljs-number">201</span> <span class="hljs-comment"># Return the created post data</span>
        <span class="hljs-keyword">else</span>:
             <span class="hljs-comment"># Should not happen if commit was successful</span>
             <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Post created, but could not retrieve data'</span>}), <span class="hljs-number">201</span> <span class="hljs-comment"># Or 500</span>

    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
         print(f<span class="hljs-string">"Error creating post: {e}"</span>)
         <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'An error occurred while creating the post'</span>}), <span class="hljs-number">500</span>

</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1730" data-line-end="1838">
<p class="has-line-data" data-line-start="1730" data-line-end="1731"><strong>Create a CreatePostForm Component (Frontend):</strong></p>
<ul>
<li class="has-line-data" data-line-start="1731" data-line-end="1838">Create <code>src/components/CreatePostForm.jsx</code>:<pre><code class="has-line-data" data-line-start="1733" data-line-end="1837" class="language-jsx">import { useState } from 'react';
import { API_URL } from '../constants';
import { useAuth } from '../context/AuthContext';
import './CreatePostForm.css'; // Create this CSS file

function CreatePostForm({ onPostCreated }) { // onPostCreated prop to notify parent (e.g., PostFeed)
  const [imageUrl, setImageUrl] = useState('');
  const [caption, setCaption] = useState('');
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState(null);
  const { user } = useAuth(); // Get user (and token) from context

  const handleSubmit = async (e) =&gt; {
    e.preventDefault();

    if (!imageUrl.trim()) {
      setError('Image URL is required.');
      return;
    }

    if (!user || !user.token) {
        setError('You must be logged in to create a post.');
        return; // Should ideally not happen if form is only shown when authenticated
    }

    try {
      setLoading(true);
      setError(null);

      const response = await fetch(`${API_URL}/posts`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${user.token}` // Send the JWT token
        },
        body: JSON.stringify({
          imageUrl,
          caption,
          // userId and authorUsername are handled by the backend using the token
        })
      });

      const data = await response.json();

      if (!response.ok) {
         // Handle backend validation or auth errors
         throw new Error(data.message || 'Failed to create post.');
      }

      // Success! Clear form and notify parent
      setImageUrl('');
      setCaption('');
      if (onPostCreated) {
         onPostCreated(data); // Pass the newly created post data
      }

    } catch (err) {
      console.error('Error creating post:', err);
      setError(err.message || 'An unexpected error occurred.');
    } finally {
      setLoading(false);
    }
  };

  return (
    &lt;div className=&quot;create-post-container&quot;&gt;
      &lt;h3&gt;Create New Post&lt;/h3&gt;
      {error &amp;&amp; &lt;div className=&quot;error-message&quot;&gt;{error}&lt;/div&gt;} {/* Reuse error style */}

      &lt;form onSubmit={handleSubmit} className=&quot;create-post-form&quot;&gt;
        &lt;div className=&quot;form-group&quot;&gt;
          &lt;label htmlFor=&quot;imageUrl&quot;&gt;Image URL:&lt;/label&gt;
          &lt;input
            type=&quot;text&quot;
            id=&quot;imageUrl&quot;
            value={imageUrl}
            onChange={(e) =&gt; setImageUrl(e.target.value)}
            placeholder=&quot;Paste image URL here&quot;
            disabled={loading}
          /&gt;
        &lt;/div&gt;

        &lt;div className=&quot;form-group&quot;&gt;
          &lt;label htmlFor=&quot;caption&quot;&gt;Caption (Optional):&lt;/label&gt;
          &lt;textarea
            id=&quot;caption&quot;
            value={caption}
            onChange={(e) =&gt; setCaption(e.target.value)}
            placeholder=&quot;Write a caption...&quot;
            disabled={loading}
            rows=&quot;3&quot;
          &gt;&lt;/textarea&gt;
        &lt;/div&gt;

        &lt;button type=&quot;submit&quot; disabled={loading}&gt;
          {loading ? 'Posting...' : 'Share Post'}
        &lt;/button&gt;
      &lt;/form&gt;
    &lt;/div&gt;
  );
}

export default CreatePostForm;
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1838" data-line-end="1911">
<p class="has-line-data" data-line-start="1838" data-line-end="1839"><strong>Create CSS for CreatePostForm:</strong></p>
<ul>
<li class="has-line-data" data-line-start="1839" data-line-end="1911">Create <code>src/components/CreatePostForm.css</code> (can adapt styles from AuthForm/PostForm from DevConnect):<pre><code class="has-line-data" data-line-start="1841" data-line-end="1910" class="language-css"><span class="hljs-class">.create-post-container</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#ffffff</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> <span class="hljs-number">1px</span> solid <span class="hljs-hexcolor">#dbdbdb</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">margin</span>:<span class="hljs-value"> <span class="hljs-number">40px</span> auto</span></span>; <span class="hljs-comment">/* Center and add space */</span>
    <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">20px</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">max-width</span>:<span class="hljs-value"> <span class="hljs-number">600px</span></span></span>;
}</span>

<span class="hljs-class">.create-post-container</span> <span class="hljs-tag">h3</span> <span class="hljs-rules">{
     <span class="hljs-rule"><span class="hljs-attribute">margin-top</span>:<span class="hljs-value"> <span class="hljs-number">0</span></span></span>;
     <span class="hljs-rule"><span class="hljs-attribute">text-align</span>:<span class="hljs-value"> center</span></span>;
     <span class="hljs-rule"><span class="hljs-attribute">margin-bottom</span>:<span class="hljs-value"> <span class="hljs-number">20px</span></span></span>;
     <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#262626</span></span></span>;
}</span>

<span class="hljs-class">.create-post-form</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">display</span>:<span class="hljs-value"> flex</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">flex-direction</span>:<span class="hljs-value"> column</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">gap</span>:<span class="hljs-value"> <span class="hljs-number">15px</span></span></span>;
}</span>

<span class="hljs-class">.create-post-form</span> <span class="hljs-class">.form-group</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">display</span>:<span class="hljs-value"> flex</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">flex-direction</span>:<span class="hljs-value"> column</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">gap</span>:<span class="hljs-value"> <span class="hljs-number">5px</span></span></span>;
}</span>

<span class="hljs-class">.create-post-form</span> <span class="hljs-tag">label</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">font-weight</span>:<span class="hljs-value"> bold</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> <span class="hljs-number">0.9rem</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#262626</span></span></span>;
}</span>

<span class="hljs-class">.create-post-form</span> <span class="hljs-tag">input</span><span class="hljs-attr_selector">[type="text"]</span>,
<span class="hljs-class">.create-post-form</span> <span class="hljs-tag">textarea</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">10px</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> <span class="hljs-number">1px</span> solid <span class="hljs-hexcolor">#dbdbdb</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">border-radius</span>:<span class="hljs-value"> <span class="hljs-number">3px</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#fafafa</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> <span class="hljs-number">1rem</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">font-family</span>:<span class="hljs-value"> inherit</span></span>; <span class="hljs-comment">/* Use app font */</span>
    <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">100%</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">box-sizing</span>:<span class="hljs-value"> border-box</span></span>;
}</span>

 <span class="hljs-class">.create-post-form</span> <span class="hljs-tag">button</span> <span class="hljs-rules">{
    <span class="hljs-comment">/* Reuse button styles from AuthForm or create new ones */</span>
    <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">100%</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">8px</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#0095f6</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> white</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> none</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">border-radius</span>:<span class="hljs-value"> <span class="hljs-number">4px</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">font-weight</span>:<span class="hljs-value"> bold</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">cursor</span>:<span class="hljs-value"> pointer</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">transition</span>:<span class="hljs-value"> background-color <span class="hljs-number">0.2s</span> ease-in-out</span></span>;
 }</span>

<span class="hljs-class">.create-post-form</span> <span class="hljs-tag">button</span><span class="hljs-pseudo">:hover</span><span class="hljs-pseudo">:not(</span><span class="hljs-pseudo">:disabled)</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#0078d7</span></span></span>;
}</span>

<span class="hljs-class">.create-post-form</span> <span class="hljs-tag">button</span><span class="hljs-pseudo">:disabled</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> <span class="hljs-function">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">149</span>, <span class="hljs-number">246</span>, <span class="hljs-number">0.3</span>)</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">cursor</span>:<span class="hljs-value"> not-allowed</span></span>;
}</span>

<span class="hljs-comment">/* Reuse .error-message style from AuthForm.css */</span>
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1911" data-line-end="1986">
<p class="has-line-data" data-line-start="1911" data-line-end="1912"><strong>Integrate CreatePostForm into App or Feed:</strong></p>
<ul>
<li class="has-line-data" data-line-start="1912" data-line-end="1913">Modify <code>src/App.jsx</code> or <code>src/components/PostFeed.jsx</code>. A common pattern is to have a button that opens a modal containing the form, or simply include the form above the feed. Let’s add it <em>above</em> the feed for simplicity.</li>
<li class="has-line-data" data-line-start="1913" data-line-end="1984">Modify <code>src/components/PostFeed.jsx</code>:<pre><code class="has-line-data" data-line-start="1915" data-line-end="1984" class="language-jsx">import { useState, useEffect } from 'react';
import { API_URL } from '../constants';
import { useAuth } from '../context/AuthContext'; // Needed for auth headers if fetchAuthenticated is used
import PostItem from './PostItem';
import CreatePostForm from './CreatePostForm'; // Import the form
import './PostFeed.css';
import './CreatePostForm.css'; // Import form styles

function PostFeed() {
  const [posts, setPosts] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);
  // const { user } = useAuth(); // Use if you need auth headers for fetching feed (not for this endpoint currently)

  const fetchPosts = async () =&gt; {
     // Use plain fetch for the public /posts endpoint
    try {
      setLoading(true);
      const response = await fetch(`${API_URL}/posts`);

      if (!response.ok) {
        throw new Error(`HTTP error! Status: ${response.status}`);
      }

      const data = await response.json();
      setPosts(data);
      setError(null);
    } catch (err) {
      console.error('Error fetching posts:', err);
      setError('Failed to load posts. Please try again later.');
    } finally {
      setLoading(false);
    }
  };

  useEffect(() =&gt; {
    fetchPosts();
  }, []); // Fetch once on mount

  // Function to handle new post creation
  const handlePostCreated = (newPost) =&gt; {
     // Add the new post to the top of the feed without refetching all
     setPosts([newPost, ...posts]);
     // Alternative: Re-fetch all posts: fetchPosts();
  };


  if (loading) return &lt;div className=&quot;feed-message&quot;&gt;Loading feed...&lt;/div&gt;;
  if (error) return &lt;div className=&quot;error-message&quot;&gt;{error}&lt;/div&gt;; // Re-use AuthForm error style


  return (
    &lt;div className=&quot;post-feed&quot;&gt;
      {/* Include the Create Post Form */}
      &lt;CreatePostForm onPostCreated={handlePostCreated} /&gt;

      {posts.length === 0 ? (
        &lt;div className=&quot;feed-message&quot;&gt;No posts yet. Be the first to share!&lt;/div&gt;
      ) : (
        posts.map(post =&gt; (
          &lt;PostItem key={post.id} post={post} /&gt;
        ))
      )}
    &lt;/div&gt;
  );
}

export default PostFeed;
</code></pre>
</li>
<li class="has-line-data" data-line-start="1984" data-line-end="1986">Ensure <code>PostFeed</code> is still rendered in <code>App.jsx</code> when authenticated.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1986" data-line-end="1994">
<p class="has-line-data" data-line-start="1986" data-line-end="1987"><strong>Test Post Creation:</strong></p>
<ul>
<li class="has-line-data" data-line-start="1987" data-line-end="1988">Run Flask backend.</li>
<li class="has-line-data" data-line-start="1988" data-line-end="1989">Run React frontend.</li>
<li class="has-line-data" data-line-start="1989" data-line-end="1990">Log in.</li>
<li class="has-line-data" data-line-start="1990" data-line-end="1991">Enter an image URL (e.g., from Unsplash or a public image host like Imgur) and a caption in the form.</li>
<li class="has-line-data" data-line-start="1991" data-line-end="1992">Click “Share Post”.</li>
<li class="has-line-data" data-line-start="1992" data-line-end="1994">Verify the new post appears at the top of the feed. Check the backend logs and database to ensure it was saved correctly with the correct user ID.</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1994 data-line-end=1995 ><a id="_Daily_Challenge_1994"></a>🧩 Daily Challenge</h3>
<p class="has-line-data" data-line-start="1995" data-line-end="1996">Refactor the frontend <code>fetchAuthenticated</code> helper function (or create one if you didn’t do the stretch goal on Day 7) and use it for the <code>CreatePostForm</code> submission instead of manual fetch with headers.</p>
<h3 class="code-line" data-line-start=1997 data-line-end=1998 ><a id="_Troubleshooting_Tips_1997"></a>🔍 Troubleshooting Tips</h3>
<ul>
<li class="has-line-data" data-line-start="1998" data-line-end="1999"><strong>Backend 401 Unauthorized error?</strong> Ensure you are logged in and the JWT token is correctly included in the <code>Authorization: Bearer &lt;token&gt;</code> header when sending the POST request from the frontend.</li>
<li class="has-line-data" data-line-start="1999" data-line-end="2000"><strong>Post created but not showing in feed?</strong> Check the console for errors when adding the new post to state (<code>handlePostCreated</code>). Ensure the backend is returning the expected post data structure.</li>
<li class="has-line-data" data-line-start="2000" data-line-end="2002"><strong>Database shows post, but it’s not in the feed?</strong> Verify the <code>get_posts</code> endpoint is querying the database correctly and returning the newly added post.</li>
</ul>
<h3 class="code-line" data-line-start=2002 data-line-end=2003 ><a id="_Stretch_Goal_2002"></a>✨ Stretch Goal</h3>
<p class="has-line-data" data-line-start="2003" data-line-end="2004">Implement a simple file input field in <code>CreatePostForm</code>. Although we won’t handle <em>actual</em> file uploads to backend storage, the challenge is to capture the selected file using <code>FileReader</code> and potentially display a preview locally before showing the form for the image URL (a common pattern before the actual upload step).</p>
<hr>
<h2 class="code-line" data-line-start=2007 data-line-end=2008 ><a id="Day_10_Implementing_Likes_Feature__2007"></a>Day 10: Implementing Likes Feature ❤️</h2>
<h3 class="code-line" data-line-start=2009 data-line-end=2010 ><a id="_Objectives_2009"></a>🎯 Objectives</h3>
<ul>
<li class="has-line-data" data-line-start="2010" data-line-end="2011">Add database logic and backend endpoints for liking/unliking posts</li>
<li class="has-line-data" data-line-start="2011" data-line-end="2012">Update the frontend <code>PostItem</code> component to show likes and handle the like button</li>
<li class="has-line-data" data-line-start="2012" data-line-end="2014">Connect the frontend like button to the backend API</li>
</ul>
<h3 class="code-line" data-line-start=2014 data-line-end=2015 ><a id="_Knowledge_Refresher_ManytoMany_Relationships__Joins_2014"></a>📚 Knowledge Refresher: Many-to-Many Relationships &amp; Joins</h3>
<blockquote>
<p class="has-line-data" data-line-start="2015" data-line-end="2016">The relationship between <code>users</code> and <code>posts</code> via the <code>likes</code> table is a many-to-many relationship (many users can like many posts). To get the number of likes for each post, we’ll use SQL <code>JOIN</code> operations and aggregation functions like <code>COUNT()</code>.</p>
</blockquote>
<h3 class="code-line" data-line-start=2017 data-line-end=2018 ><a id="_StepbyStep_Tasks_2017"></a>✅ Step-by-Step Tasks</h3>
<ol>
<li class="has-line-data" data-line-start="2018" data-line-end="2058">
<p class="has-line-data" data-line-start="2018" data-line-end="2019"><strong>Update Backend <code>get_posts</code> to Include Like Count:</strong></p>
<ul>
<li class="has-line-data" data-line-start="2019" data-line-end="2058">Modify the <code>get_posts</code> route in <code>backend/app.py</code> to join with the <code>likes</code> table and count likes per post.<pre><code class="has-line-data" data-line-start="2021" data-line-end="2057" class="language-python"><span class="hljs-comment"># Inside app.py</span>

<span class="hljs-decorator">@app.route('/posts', methods=['GET'])</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_posts</span><span class="hljs-params">()</span>:</span>
    db = get_db()
    c = db.cursor()

    <span class="hljs-comment"># Select posts, join users for author, LEFT JOIN likes and group to count likes</span>
    c.execute(<span class="hljs-string">"""
        SELECT
            p.id, p.user_id, p.image_url, p.caption, p.created_at,
            u.username AS author_username,
            COUNT(l.id) AS likes_count -- Count likes for each post
        FROM posts p
        JOIN users u ON p.user_id = u.id
        LEFT JOIN likes l ON p.id = l.post_id -- LEFT JOIN to include posts with 0 likes
        GROUP BY p.id -- Group by post to count likes for each
        ORDER BY p.created_at DESC
    """</span>)
    posts = c.fetchall()

    posts_list = []
    <span class="hljs-keyword">for</span> post <span class="hljs-keyword">in</span> posts:
         posts_list.append({
             <span class="hljs-string">'id'</span>: post[<span class="hljs-string">'id'</span>],
             <span class="hljs-string">'userId'</span>: post[<span class="hljs-string">'user_id'</span>],
             <span class="hljs-string">'imageUrl'</span>: post[<span class="hljs-string">'image_url'</span>],
             <span class="hljs-string">'caption'</span>: post[<span class="hljs-string">'caption'</span>],
             <span class="hljs-string">'createdAt'</span>: post[<span class="hljs-string">'created_at'</span>],
             <span class="hljs-string">'authorUsername'</span>: post[<span class="hljs-string">'author_username'</span>],
             <span class="hljs-string">'likesCount'</span>: post[<span class="hljs-string">'likes_count'</span>], <span class="hljs-comment"># Use the calculated count</span>
             <span class="hljs-string">'commentsCount'</span>: <span class="hljs-number">0</span> <span class="hljs-comment"># Still a placeholder</span>
         })

    <span class="hljs-keyword">return</span> jsonify(posts_list)
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2058" data-line-end="2135">
<p class="has-line-data" data-line-start="2058" data-line-end="2059"><strong>Add Backend Endpoints for Liking/Unliking:</strong></p>
<ul>
<li class="has-line-data" data-line-start="2059" data-line-end="2135">Add these protected routes to <code>backend/app.py</code>.<pre><code class="has-line-data" data-line-start="2061" data-line-end="2134" class="language-python"><span class="hljs-comment"># Inside app.py</span>

<span class="hljs-decorator">@app.route('/posts/&lt;int:post_id&gt;/like', methods=['POST'])</span>
<span class="hljs-decorator">@token_required # Protect this endpoint</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">like_post</span><span class="hljs-params">(current_user, post_id)</span>:</span> <span class="hljs-comment"># Decorator passes user and post_id is from URL</span>
    db = get_db()
    c = db.cursor()
    user_id = current_user[<span class="hljs-string">'id'</span>]

    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># Check if post exists</span>
        c.execute(<span class="hljs-string">"SELECT id FROM posts WHERE id = ?"</span>, (post_id,))
        <span class="hljs-keyword">if</span> c.fetchone() <span class="hljs-keyword">is</span> <span class="hljs-keyword">None</span>:
            <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Post not found'</span>}), <span class="hljs-number">404</span>

        <span class="hljs-comment"># Check if user has already liked this post</span>
        c.execute(<span class="hljs-string">"SELECT id FROM likes WHERE user_id = ? AND post_id = ?"</span>, (user_id, post_id))
        <span class="hljs-keyword">if</span> c.fetchone() <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">None</span>:
            <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Post already liked by this user'</span>}), <span class="hljs-number">409</span> <span class="hljs-comment"># Conflict</span>

        <span class="hljs-comment"># Insert the like</span>
        c.execute(<span class="hljs-string">"INSERT INTO likes (user_id, post_id) VALUES (?, ?)"</span>, (user_id, post_id))
        db.commit()

        <span class="hljs-comment"># Return updated like count (optional, but good practice)</span>
        c.execute(<span class="hljs-string">"SELECT COUNT(id) AS likes_count FROM likes WHERE post_id = ?"</span>, (post_id,))
        likes_count = c.fetchone()[<span class="hljs-string">'likes_count'</span>]

        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Post liked successfully'</span>, <span class="hljs-string">'likesCount'</span>: likes_count}), <span class="hljs-number">200</span>

    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
         print(f<span class="hljs-string">"Error liking post: {e}"</span>)
         db.rollback() <span class="hljs-comment"># Rollback transaction on error</span>
         <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'An error occurred while liking the post'</span>}), <span class="hljs-number">500</span>


<span class="hljs-decorator">@app.route('/posts/&lt;int:post_id&gt;/unlike', methods=['DELETE'])</span>
<span class="hljs-decorator">@token_required # Protect this endpoint</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">unlike_post</span><span class="hljs-params">(current_user, post_id)</span>:</span> <span class="hljs-comment"># Decorator passes user and post_id</span>
    db = get_db()
    c = db.cursor()
    user_id = current_user[<span class="hljs-string">'id'</span>]

    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># Check if post exists</span>
        c.execute(<span class="hljs-string">"SELECT id FROM posts WHERE id = ?"</span>, (post_id,))
        <span class="hljs-keyword">if</span> c.fetchone() <span class="hljs-keyword">is</span> <span class="hljs-keyword">None</span>:
            <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Post not found'</span>}), <span class="hljs-number">404</span>

        <span class="hljs-comment"># Check if user has liked this post</span>
        c.execute(<span class="hljs-string">"SELECT id FROM likes WHERE user_id = ? AND post_id = ?"</span>, (user_id, post_id))
        like_entry = c.fetchone()

        <span class="hljs-keyword">if</span> like_entry <span class="hljs-keyword">is</span> <span class="hljs-keyword">None</span>:
            <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Post not liked by this user'</span>}), <span class="hljs-number">409</span> <span class="hljs-comment"># Conflict or 404 depending on interpretation</span>

        <span class="hljs-comment"># Delete the like</span>
        c.execute(<span class="hljs-string">"DELETE FROM likes WHERE user_id = ? AND post_id = ?"</span>, (user_id, post_id))
        db.commit()

        <span class="hljs-comment"># Return updated like count</span>
        c.execute(<span class="hljs-string">"SELECT COUNT(id) AS likes_count FROM likes WHERE post_id = ?"</span>, (post_id,))
        likes_count = c.fetchone()[<span class="hljs-string">'likes_count'</span>]


        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Post unliked successfully'</span>, <span class="hljs-string">'likesCount'</span>: likes_count}), <span class="hljs-number">200</span>

    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
         print(f<span class="hljs-string">"Error unliking post: {e}"</span>)
         db.rollback()
         <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'An error occurred while unliking the post'</span>}), <span class="hljs-number">500</span>

</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2135" data-line-end="2275">
<p class="has-line-data" data-line-start="2135" data-line-end="2136"><strong>Update PostItem Component (Frontend):</strong></p>
<ul>
<li class="has-line-data" data-line-start="2136" data-line-end="2275">Modify <code>src/components/PostItem.jsx</code> to manage its own like state and interact with the backend. Add state for <code>isLiked</code> and <code>currentLikesCount</code>.<pre><code class="has-line-data" data-line-start="2138" data-line-end="2274" class="language-jsx">import { useState, useEffect } from 'react';
import { useAuth } from '../context/AuthContext';
import { API_URL } from '../constants';
import './PostItem.css';

// Optional: Basic icon placeholders (replace with actual SVG/font icons later)
const HeartIcon = ({ filled }) =&gt; &lt;span style={{ color: filled ? 'red' : 'black' }}&gt;{filled ? '❤️' : '🤍'}&lt;/span&gt;;


function PostItem({ post }) {
  const { user, isAuthenticated } = useAuth(); // Need user to check if current user liked it
  const [isLiked, setIsLiked] = useState(false);
  const [currentLikesCount, setCurrentLikesCount] = useState(post.likesCount);
  const [loading, setLoading] = useState(false); // For like/unlike action

  // Check if the current user has liked this post when the component mounts or post changes
  useEffect(() =&gt; {
     // We would ideally fetch THIS user's like status for this post from the backend
     // For simplicity *in this plan*, we'll just assume the user hasn't liked it initially
     // or add a check to the main feed fetch later.
     // Stretch goal: Add a `/posts/:id/is_liked` endpoint or include this info in `/posts` feed.
     // For now, let's simulate based on user and localStorage (not ideal for accuracy)
     const likedPosts = JSON.parse(localStorage.getItem('instaCloneLikedPosts') || '{}');
     if (user &amp;&amp; likedPosts[user.username] &amp;&amp; likedPosts[user.username][post.id]) {
          setIsLiked(true);
     } else {
          setIsLiked(false);
     }

     setCurrentLikesCount(post.likesCount); // Update count if post prop changes
  }, [post, user]); // Re-run if post or user changes

  const handleLikeToggle = async () =&gt; {
    if (!isAuthenticated) {
      // Prompt user to login
      alert(&quot;You must be logged in to like posts.&quot;);
      return;
    }
    if (loading) return; // Prevent double clicking

    setLoading(true);
    const endpoint = isLiked ? `/posts/${post.id}/unlike` : `/posts/${post.id}/like`;
    const method = isLiked ? 'DELETE' : 'POST';

    try {
      const response = await fetch(`${API_URL}${endpoint}`, {
        method: method,
        headers: {
          'Authorization': `Bearer ${user.token}` // Send the JWT token
        },
      });

      const data = await response.json();

      if (!response.ok) {
        // Handle backend errors
         throw new Error(data.message || `Failed to ${isLiked ? 'unlike' : 'like'} post.`);
      }

      // Success! Update state and local storage
      setIsLiked(!isLiked);
      setCurrentLikesCount(data.likesCount); // Update count from backend response

      // Simple local storage tracking (Optional, can be removed if backend fully tracks)
      const likedPosts = JSON.parse(localStorage.getItem('instaCloneLikedPosts') || '{}');
      likedPosts[user.username] = likedPosts[user.username] || {};
      if (!isLiked) { // If we just liked
         likedPosts[user.username][post.id] = true;
      } else { // If we just unliked
         delete likedPosts[user.username][post.id];
      }
      localStorage.setItem('instaCloneLikedPosts', JSON.stringify(likedPosts));


    } catch (err) {
      console.error(`Error toggling like for post ${post.id}:`, err);
      alert(`Failed to ${isLiked ? 'unlike' : 'like'} post: ` + (err.message || 'An error occurred.'));
    } finally {
      setLoading(false);
    }
  };

  // Basic date formatting
  const formatDate = (timestamp) =&gt; {
    const date = new Date(timestamp);
    // Adjust parsing for potential string formats from backend
    const dateObj = new Date(timestamp + 'Z'); // Assume UTC if not specified
    if (isNaN(dateObj.getTime())) {
         // Fallback if parsing fails
         try {
             const [year, month, day, time] = timestamp.split(/[- :]/);
             const dt = new Date(Date.UTC(year, month - 1, day, time.split(':')[0], time.split(':')[1], time.split(':')[2]));
             return dt.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });
         } catch (e) {
             console.error(&quot;Failed to parse date:&quot;, timestamp, e);
              return timestamp; // Return original if all else fails
         }
    }
     return dateObj.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });
  }


  return (
    &lt;div className=&quot;post-item&quot;&gt;
      &lt;div className=&quot;post-header&quot;&gt;
        &lt;span className=&quot;post-author&quot;&gt;{post.authorUsername}&lt;/span&gt;
      &lt;/div&gt;
      &lt;div className=&quot;post-image&quot;&gt;
        &lt;img src={post.imageUrl} alt={post.caption} /&gt;
      &lt;/div&gt;
      &lt;div className=&quot;post-actions&quot;&gt;
        &lt;button className=&quot;action-button like-button&quot; onClick={handleLikeToggle} disabled={loading}&gt;
            &lt;HeartIcon filled={isLiked} /&gt; {/* Show heart icon */}
        &lt;/button&gt;
        {/* Comment and Share icons/buttons will go here */}
         &lt;button className=&quot;action-button&quot;&gt;💬&lt;/button&gt; {/* Placeholder Comment icon */}
         &lt;button className=&quot;action-button&quot;&gt;➡️&lt;/button&gt; {/* Placeholder Share icon */}
      &lt;/div&gt;
      &lt;div className=&quot;post-likes&quot;&gt;
         &lt;span&gt;{currentLikesCount} likes&lt;/span&gt; {/* Use state for count */}
      &lt;/div&gt;
      &lt;div className=&quot;post-caption&quot;&gt;
        &lt;span className=&quot;post-author&quot;&gt;{post.authorUsername}&lt;/span&gt; {post.caption}
      &lt;/div&gt;
      {/* Comments preview section (Day 10) */}
      {/* &lt;div className=&quot;post-comments-preview&quot;&gt; ... &lt;/div&gt; */}

       &lt;div className=&quot;post-timestamp&quot;&gt;
         {formatDate(post.createdAt)}
       &lt;/div&gt;
    &lt;/div&gt;
  );
}

export default PostItem;
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2275" data-line-end="2297">
<p class="has-line-data" data-line-start="2275" data-line-end="2276"><strong>Update PostItem CSS:</strong></p>
<ul>
<li class="has-line-data" data-line-start="2276" data-line-end="2297">Add some basic styling for the like button and icon in <code>src/components/PostItem.css</code>.<pre><code class="has-line-data" data-line-start="2278" data-line-end="2296" class="language-css"><span class="hljs-comment">/* Add to PostItem.css */</span>
<span class="hljs-class">.post-actions</span> <span class="hljs-class">.action-button</span> <span class="hljs-rules">{
     <span class="hljs-comment">/* Existing styles */</span>
      <span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> <span class="hljs-number">1.5rem</span></span></span>; <span class="hljs-comment">/* Example size for icons */</span>
      <span class="hljs-rule"><span class="hljs-attribute">display</span>:<span class="hljs-value"> flex</span></span>; <span class="hljs-comment">/* Align icon */</span>
      <span class="hljs-rule"><span class="hljs-attribute">align-items</span>:<span class="hljs-value"> center</span></span>;
}</span>

<span class="hljs-class">.like-button</span> <span class="hljs-rules">{
     <span class="hljs-comment">/* Specific styles for like button if needed */</span>
}</span>

<span class="hljs-comment">/* Add styles for the heart icon span if using text icons */</span>
<span class="hljs-class">.like-button</span> <span class="hljs-tag">span</span> <span class="hljs-rules">{
     <span class="hljs-rule"><span class="hljs-attribute">line-height</span>:<span class="hljs-value"> <span class="hljs-number">1</span></span></span>; <span class="hljs-comment">/* Prevents extra space */</span>
}</span>

</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2297" data-line-end="2306">
<p class="has-line-data" data-line-start="2297" data-line-end="2298"><strong>Test Likes:</strong></p>
<ul>
<li class="has-line-data" data-line-start="2298" data-line-end="2299">Run Flask backend.</li>
<li class="has-line-data" data-line-start="2299" data-line-end="2300">Run React frontend.</li>
<li class="has-line-data" data-line-start="2300" data-line-end="2301">Log in.</li>
<li class="has-line-data" data-line-start="2301" data-line-end="2302">Click the heart icon/button on a post.</li>
<li class="has-line-data" data-line-start="2302" data-line-end="2303">Verify the heart changes color (or icon) and the like count increments.</li>
<li class="has-line-data" data-line-start="2303" data-line-end="2304">Click it again. Verify it changes back and the count decrements.</li>
<li class="has-line-data" data-line-start="2304" data-line-end="2306">Log out and check the feed - you should still see the total like count, but cannot interact with the like button.</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=2306 data-line-end=2307 ><a id="_Daily_Challenge_2306"></a>🧩 Daily Challenge</h3>
<p class="has-line-data" data-line-start="2307" data-line-end="2308">Add a <code>get_is_liked</code> endpoint to the backend (<code>/posts/:id/is_liked</code> or modify <code>/posts</code> feed query) and update the <code>PostFeed</code> or <code>PostItem</code> component to fetch the current user’s like status for each post on load, correctly setting the initial <code>isLiked</code> state.</p>
<h3 class="code-line" data-line-start=2309 data-line-end=2310 ><a id="_Troubleshooting_Tips_2309"></a>🔍 Troubleshooting Tips</h3>
<ul>
<li class="has-line-data" data-line-start="2310" data-line-end="2311"><strong>Like count not updating?</strong> Ensure your backend <code>/like</code> and <code>/unlike</code> endpoints are returning the <em>new</em> total like count, and the frontend is updating <code>currentLikesCount</code> state with this value.</li>
<li class="has-line-data" data-line-start="2311" data-line-end="2312"><strong>Frontend state <code>isLiked</code> out of sync?</strong> This is tricky! Relying solely on frontend state after the initial fetch can lead to issues. The challenge/stretch goal addresses this by fetching the <em>actual</em> liked status from the backend.</li>
<li class="has-line-data" data-line-start="2312" data-line-end="2314"><strong>Database constraint error (UNIQUE <code>user_id</code>, <code>post_id</code>)?</strong> Your frontend might be trying to insert a like when one already exists. Ensure your logic checks <code>isLiked</code> <em>before</em> sending the request.</li>
</ul>
<h3 class="code-line" data-line-start=2314 data-line-end=2315 ><a id="_Stretch_Goal_2314"></a>✨ Stretch Goal</h3>
<p class="has-line-data" data-line-start="2315" data-line-end="2316">Implement a modal or dedicated page to view the list of users who liked a specific post. This would require a new backend endpoint (<code>/posts/:id/likers</code>) and a new frontend component.</p>
<hr>
<h2 class="code-line" data-line-start=2319 data-line-end=2320 ><a id="Day_11_Implementing_Comments_Feature__2319"></a>Day 11: Implementing Comments Feature 💬</h2>
<h3 class="code-line" data-line-start=2321 data-line-end=2322 ><a id="_Objectives_2321"></a>🎯 Objectives</h3>
<ul>
<li class="has-line-data" data-line-start="2322" data-line-end="2323">Add database logic and backend endpoints for comments</li>
<li class="has-line-data" data-line-start="2323" data-line-end="2324">Update the frontend <code>PostItem</code> component to show comments preview</li>
<li class="has-line-data" data-line-start="2324" data-line-end="2326">Create a frontend component/section for viewing all comments and adding new ones</li>
</ul>
<h3 class="code-line" data-line-start=2326 data-line-end=2327 ><a id="_Knowledge_Refresher_OnetoMany_Relationships__Displaying_Related_Data_2326"></a>📚 Knowledge Refresher: One-to-Many Relationships &amp; Displaying Related Data</h3>
<blockquote>
<p class="has-line-data" data-line-start="2327" data-line-end="2328">Comments have a one-to-many relationship with posts (one post has many comments). We’ll need to fetch comments related to a specific post ID and display them, along with a form to add new comments linked back to the post and current user.</p>
</blockquote>
<h3 class="code-line" data-line-start=2329 data-line-end=2330 ><a id="_StepbyStep_Tasks_2329"></a>✅ Step-by-Step Tasks</h3>
<ol>
<li class="has-line-data" data-line-start="2330" data-line-end="2373">
<p class="has-line-data" data-line-start="2330" data-line-end="2331"><strong>Update Backend <code>get_posts</code> to Include Comment Count:</strong></p>
<ul>
<li class="has-line-data" data-line-start="2331" data-line-end="2371">Modify the <code>get_posts</code> route in <code>backend/app.py</code> to join with the <code>comments</code> table and count comments per post.<pre><code class="has-line-data" data-line-start="2333" data-line-end="2371" class="language-python"><span class="hljs-comment"># Inside app.py</span>

<span class="hljs-decorator">@app.route('/posts', methods=['GET'])</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_posts</span><span class="hljs-params">()</span>:</span>
    db = get_db()
    c = db.cursor()

    <span class="hljs-comment"># Select posts, join users, LEFT JOIN likes (existing), LEFT JOIN comments and group</span>
    c.execute(<span class="hljs-string">"""
        SELECT
            p.id, p.user_id, p.image_url, p.caption, p.created_at,
            u.username AS author_username,
            COUNT(DISTINCT l.id) AS likes_count, -- Count distinct likes
            COUNT(DISTINCT c.id) AS comments_count -- Count distinct comments
        FROM posts p
        JOIN users u ON p.user_id = u.id
        LEFT JOIN likes l ON p.id = l.post_id
        LEFT JOIN comments c ON p.id = c.post_id -- LEFT JOIN to include posts with 0 comments
        GROUP BY p.id
        ORDER BY p.created_at DESC
    """</span>)
    posts = c.fetchall()

    posts_list = []
    <span class="hljs-keyword">for</span> post <span class="hljs-keyword">in</span> posts:
         posts_list.append({
             <span class="hljs-string">'id'</span>: post[<span class="hljs-string">'id'</span>],
             <span class="hljs-string">'userId'</span>: post[<span class="hljs-string">'user_id'</span>],
             <span class="hljs-string">'imageUrl'</span>: post[<span class="hljs-string">'image_url'</span>],
             <span class="hljs-string">'caption'</span>: post[<span class="hljs-string">'caption'</span>],
             <span class="hljs-string">'createdAt'</span>: post[<span class="hljs-string">'created_at'</span>],
             <span class="hljs-string">'authorUsername'</span>: post[<span class="hljs-string">'author_username'</span>],
             <span class="hljs-string">'likesCount'</span>: post[<span class="hljs-string">'likes_count'</span>],
             <span class="hljs-string">'commentsCount'</span>: post[<span class="hljs-string">'comments_count'</span>] <span class="hljs-comment"># Use the calculated count</span>
         })

    <span class="hljs-keyword">return</span> jsonify(posts_list)
</code></pre>
</li>
<li class="has-line-data" data-line-start="2371" data-line-end="2373"><em>Self-correction:</em> Using <code>COUNT(l.id)</code> or <code>COUNT(c.id)</code> might overcount if a post has <em>both</em> likes and comments due to the multiple joins. Using <code>COUNT(DISTINCT l.id)</code> and <code>COUNT(DISTINCT c.id)</code> is safer when joining multiple one-to-many relationships.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2373" data-line-end="2475">
<p class="has-line-data" data-line-start="2373" data-line-end="2374"><strong>Add Backend Endpoints for Comments:</strong></p>
<ul>
<li class="has-line-data" data-line-start="2374" data-line-end="2475">Add routes to get comments for a post and add a new comment. These should be protected.<pre><code class="has-line-data" data-line-start="2376" data-line-end="2474" class="language-python"><span class="hljs-comment"># Inside app.py</span>

<span class="hljs-decorator">@app.route('/posts/&lt;int:post_id&gt;/comments', methods=['GET'])</span>
<span class="hljs-comment"># Optional: Make GET comments public or protected depending on requirements</span>
<span class="hljs-comment"># @token_required</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_comments</span><span class="hljs-params">(post_id)</span>:</span> <span class="hljs-comment"># No user needed if public, add user if protected</span>
    db = get_db()
    c = db.cursor()

    <span class="hljs-comment"># Check if post exists</span>
    c.execute(<span class="hljs-string">"SELECT id FROM posts WHERE id = ?"</span>, (post_id,))
    <span class="hljs-keyword">if</span> c.fetchone() <span class="hljs-keyword">is</span> <span class="hljs-keyword">None</span>:
         <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Post not found'</span>}), <span class="hljs-number">404</span>

    <span class="hljs-comment"># Select comments for this post, join users for author username</span>
    c.execute(<span class="hljs-string">"""
        SELECT
            c.id, c.user_id, c.post_id, c.content, c.created_at,
            u.username AS author_username
        FROM comments c
        JOIN users u ON c.user_id = u.id
        WHERE c.post_id = ?
        ORDER BY c.created_at ASC -- Display comments chronologically
    """</span>, (post_id,))
    comments = c.fetchall()

    comments_list = []
    <span class="hljs-keyword">for</span> comment <span class="hljs-keyword">in</span> comments:
        comments_list.append({
            <span class="hljs-string">'id'</span>: comment[<span class="hljs-string">'id'</span>],
            <span class="hljs-string">'userId'</span>: comment[<span class="hljs-string">'user_id'</span>],
            <span class="hljs-string">'postId'</span>: comment[<span class="hljs-string">'post_id'</span>],
            <span class="hljs-string">'content'</span>: comment[<span class="hljs-string">'content'</span>],
            <span class="hljs-string">'createdAt'</span>: comment[<span class="hljs-string">'created_at'</span>],
            <span class="hljs-string">'authorUsername'</span>: comment[<span class="hljs-string">'author_username'</span>]
        })

    <span class="hljs-keyword">return</span> jsonify(comments_list)

<span class="hljs-decorator">@app.route('/posts/&lt;int:post_id&gt;/comments', methods=['POST'])</span>
<span class="hljs-decorator">@token_required # Protect this endpoint</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">add_comment</span><span class="hljs-params">(current_user, post_id)</span>:</span> <span class="hljs-comment"># Decorator passes user and post_id</span>
    data = request.json
    content = data.get(<span class="hljs-string">'content'</span>)

    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> content <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> content.strip():
        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Comment content is required'</span>}), <span class="hljs-number">400</span>

    db = get_db()
    c = db.cursor()
    user_id = current_user[<span class="hljs-string">'id'</span>]

    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># Check if post exists</span>
        c.execute(<span class="hljs-string">"SELECT id FROM posts WHERE id = ?"</span>, (post_id,))
        <span class="hljs-keyword">if</span> c.fetchone() <span class="hljs-keyword">is</span> <span class="hljs-keyword">None</span>:
            <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Post not found'</span>}), <span class="hljs-number">404</span>

        <span class="hljs-comment"># Insert the comment</span>
        c.execute(<span class="hljs-string">"INSERT INTO comments (user_id, post_id, content) VALUES (?, ?, ?)"</span>,
                  (user_id, post_id, content))
        db.commit()

        <span class="hljs-comment"># Optionally, fetch the created comment including its new ID and author username</span>
        comment_id = c.lastrowid
        c.execute(<span class="hljs-string">"""
            SELECT c.id, c.user_id, c.post_id, c.content, c.created_at, u.username AS author_username
            FROM comments c JOIN users u ON c.user_id = u.id WHERE c.id = ?
        """</span>, (comment_id,))
        new_comment = c.fetchone()

        <span class="hljs-keyword">if</span> new_comment:
             new_comment_dict = {
                 <span class="hljs-string">'id'</span>: new_comment[<span class="hljs-string">'id'</span>],
                 <span class="hljs-string">'userId'</span>: new_comment[<span class="hljs-string">'user_id'</span>],
                 <span class="hljs-string">'postId'</span>: new_comment[<span class="hljs-string">'post_id'</span>],
                 <span class="hljs-string">'content'</span>: new_comment[<span class="hljs-string">'content'</span>],
                 <span class="hljs-string">'createdAt'</span>: new_comment[<span class="hljs-string">'created_at'</span>],
                 <span class="hljs-string">'authorUsername'</span>: new_comment[<span class="hljs-string">'author_username'</span>]
             }
             <span class="hljs-comment"># Also get updated comment count for the post</span>
             c.execute(<span class="hljs-string">"SELECT COUNT(id) AS comments_count FROM comments WHERE post_id = ?"</span>, (post_id,))
             comments_count = c.fetchone()[<span class="hljs-string">'comments_count'</span>]

             <span class="hljs-keyword">return</span> jsonify({
                 <span class="hljs-string">'message'</span>: <span class="hljs-string">'Comment added successfully'</span>,
                 <span class="hljs-string">'comment'</span>: new_comment_dict,
                 <span class="hljs-string">'commentsCount'</span>: comments_count <span class="hljs-comment"># Include updated count</span>
             }), <span class="hljs-number">201</span>
        <span class="hljs-keyword">else</span>:
             <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'Comment added, but could not retrieve data'</span>}), <span class="hljs-number">201</span>


    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
         print(f<span class="hljs-string">"Error adding comment: {e}"</span>)
         db.rollback()
         <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'An error occurred while adding the comment'</span>}), <span class="hljs-number">500</span>
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2475" data-line-end="2516">
<p class="has-line-data" data-line-start="2475" data-line-end="2476"><strong>Update PostItem for Comments Preview &amp; Button:</strong></p>
<ul>
<li class="has-line-data" data-line-start="2476" data-line-end="2516">Modify <code>src/components/PostItem.jsx</code> to display the comment count and potentially a “View all comments” link or button.<pre><code class="has-line-data" data-line-start="2478" data-line-end="2515" class="language-jsx">// ... imports ...

function PostItem({ post, onViewComments }) { // Add prop to handle viewing comments
   // ... existing state and functions (like, formatDate) ...

   return (
     &lt;div className=&quot;post-item&quot;&gt;
       {/* ... post header, image, actions (with like button) ... */}
        &lt;div className=&quot;post-actions&quot;&gt;
            &lt;button className=&quot;action-button like-button&quot; onClick={handleLikeToggle} disabled={loading}&gt;
                &lt;HeartIcon filled={isLiked} /&gt;
            &lt;/button&gt;
            {/* Add handler for comment button */}
            &lt;button className=&quot;action-button&quot; onClick={() =&gt; onViewComments(post.id)}&gt;💬&lt;/button&gt;
             &lt;button className=&quot;action-button&quot;&gt;➡️&lt;/button&gt; {/* Placeholder Share icon */}
        &lt;/div&gt;
       &lt;div className=&quot;post-likes&quot;&gt;
          &lt;span&gt;{currentLikesCount} likes&lt;/span&gt;
       &lt;/div&gt;
       &lt;div className=&quot;post-caption&quot;&gt;
         &lt;span className=&quot;post-author&quot;&gt;{post.authorUsername}&lt;/span&gt; {post.caption}
       &lt;/div&gt;
       {/* Comments preview */}
       &lt;div className=&quot;post-comments-preview&quot; onClick={() =&gt; onViewComments(post.id)}&gt; {/* Make the preview clickable */}
          {post.commentsCount &gt; 0 &amp;&amp; &lt;span&gt;View all {post.commentsCount} comments&lt;/span&gt;}
          {/* Optional: Show first comment */}
       &lt;/div&gt;

        &lt;div className=&quot;post-timestamp&quot;&gt;
          {formatDate(post.createdAt)}
        &lt;/div&gt;
     &lt;/div&gt;
   );
 }

 export default PostItem;
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2516" data-line-end="2676">
<p class="has-line-data" data-line-start="2516" data-line-end="2517"><strong>Create a CommentsModal/Page Component (Frontend):</strong></p>
<ul>
<li class="has-line-data" data-line-start="2517" data-line-end="2676">Create <code>src/components/CommentsModal.jsx</code>. This will handle fetching comments for a specific post ID and displaying them, plus a form to add new comments.<pre><code class="has-line-data" data-line-start="2519" data-line-end="2675" class="language-jsx">import { useState, useEffect } from 'react';
import { API_URL } from '../constants';
import { useAuth } from '../context/AuthContext';
import './CommentsModal.css'; // Create this CSS file

// Basic Comment Item component (Optional, could be inline)
function CommentItem({ comment }) {
     const formatDate = (timestamp) =&gt; {
         const dateObj = new Date(timestamp + 'Z');
         return dateObj.toLocaleDateString('en-US'); // Simple date format
     }
     return (
         &lt;div className=&quot;comment-item&quot;&gt;
             &lt;span className=&quot;comment-author&quot;&gt;{comment.authorUsername}&lt;/span&gt;
             &lt;span className=&quot;comment-content&quot;&gt;{comment.content}&lt;/span&gt;
             &lt;span className=&quot;comment-timestamp&quot;&gt;{formatDate(comment.createdAt)}&lt;/span&gt;
         &lt;/div&gt;
     );
}

function CommentsModal({ postId, onClose, onCommentAdded }) { // Receive postId and onClose handler
  const [comments, setComments] = useState([]);
  const [loadingComments, setLoadingComments] = useState(true);
  const [commentContent, setCommentContent] = useState('');
  const [addingComment, setAddingComment] = useState(false);
  const [error, setError] = useState(null);
  const { user, isAuthenticated } = useAuth(); // Need user/token to add comments

  // Fetch comments when the modal opens (postId changes)
  useEffect(() =&gt; {
    const fetchComments = async () =&gt; {
      try {
        setLoadingComments(true);
        setError(null);
        // Decide if GET /comments is protected or public
        // const response = isAuthenticated ? await fetchAuthenticated(`/posts/${postId}/comments`) : await fetch(`${API_URL}/posts/${postId}/comments`);
        const response = await fetch(`${API_URL}/posts/${postId}/comments`); // Assuming public GET for comments


        if (!response.ok) {
          throw new Error(`HTTP error! Status: ${response.status}`);
        }

        const data = await response.json();
        setComments(data);

      } catch (err) {
        console.error(`Error fetching comments for post ${postId}:`, err);
        setError('Failed to load comments.');
      } finally {
        setLoadingComments(false);
      }
    };

    if (postId !== null) { // Only fetch if a post ID is provided
         fetchComments();
    } else {
         setComments([]); // Clear comments if no post is selected
    }
  }, [postId, isAuthenticated]); // Re-fetch if postId or auth state changes


  const handleAddComment = async (e) =&gt; {
    e.preventDefault();
    if (!commentContent.trim()) {
      setError('Comment cannot be empty.');
      return;
    }
     if (!isAuthenticated || !user?.token) {
         setError('You must be logged in to comment.');
         return;
     }
    if (addingComment) return;

    try {
      setAddingComment(true);
      setError(null);

      const response = await fetch(`${API_URL}/posts/${postId}/comments`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
           'Authorization': `Bearer ${user.token}` // Send the JWT token
        },
        body: JSON.stringify({ content: commentContent })
      });

      const data = await response.json();

      if (!response.ok) {
         throw new Error(data.message || 'Failed to add comment.');
      }

      // Success! Add the new comment to the list and update parent count
      setComments([...comments, data.comment]);
      setCommentContent(''); // Clear the form
      if (onCommentAdded) {
         onCommentAdded(postId, data.commentsCount); // Notify parent with post ID and new total count
      }

    } catch (err) {
      console.error(`Error adding comment to post ${postId}:`, err);
      setError(err.message || 'An unexpected error occurred.');
    } finally {
      setAddingComment(false);
    }
  };

  // If postId is null, don't render the modal
  if (postId === null) {
     return null;
  }

  return (
    // Simple modal structure - could use a dedicated modal library
    &lt;div className=&quot;modal-overlay&quot;&gt;
      &lt;div className=&quot;modal-content&quot;&gt;
        &lt;button className=&quot;modal-close&quot; onClick={onClose}&gt;&amp;times;&lt;/button&gt;
        &lt;h3&gt;Comments&lt;/h3&gt;
        {error &amp;&amp; &lt;div className=&quot;error-message&quot;&gt;{error}&lt;/div&gt;}

        &lt;div className=&quot;comments-list&quot;&gt;
          {loadingComments ? (
            &lt;div&gt;Loading comments...&lt;/div&gt;
          ) : comments.length === 0 ? (
            &lt;div&gt;No comments yet.&lt;/div&gt;
          ) : (
            comments.map(comment =&gt; (
              &lt;CommentItem key={comment.id} comment={comment} /&gt;
            ))
          )}
        &lt;/div&gt;

        {isAuthenticated &amp;&amp; ( // Only show form if authenticated
            &lt;form onSubmit={handleAddComment} className=&quot;add-comment-form&quot;&gt;
               &lt;input
                   type=&quot;text&quot;
                   placeholder=&quot;Add a comment...&quot;
                   value={commentContent}
                   onChange={(e) =&gt; setCommentContent(e.target.value)}
                   disabled={addingComment}
               /&gt;
               &lt;button type=&quot;submit&quot; disabled={addingComment}&gt;Post&lt;/button&gt;
            &lt;/form&gt;
        )}
         {!isAuthenticated &amp;&amp; (
             &lt;div className=&quot;comment-auth-prompt&quot;&gt;Log in to comment.&lt;/div&gt;
         )}

      &lt;/div&gt;
    &lt;/div&gt;
  );
}

export default CommentsModal;
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2676" data-line-end="2778">
<p class="has-line-data" data-line-start="2676" data-line-end="2677"><strong>Create CSS for CommentsModal:</strong></p>
<ul>
<li class="has-line-data" data-line-start="2677" data-line-end="2778">Create <code>src/components/CommentsModal.css</code> (basic modal and comment styles).<pre><code class="has-line-data" data-line-start="2679" data-line-end="2777" class="language-css"><span class="hljs-class">.modal-overlay</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">position</span>:<span class="hljs-value"> fixed</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">top</span>:<span class="hljs-value"> <span class="hljs-number">0</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">left</span>:<span class="hljs-value"> <span class="hljs-number">0</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">right</span>:<span class="hljs-value"> <span class="hljs-number">0</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">bottom</span>:<span class="hljs-value"> <span class="hljs-number">0</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> <span class="hljs-function">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.5</span>)</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">display</span>:<span class="hljs-value"> flex</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">justify-content</span>:<span class="hljs-value"> center</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">align-items</span>:<span class="hljs-value"> center</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">z-index</span>:<span class="hljs-value"> <span class="hljs-number">1000</span></span></span>; <span class="hljs-comment">/* Above other content */</span>
}</span>

<span class="hljs-class">.modal-content</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#ffffff</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">20px</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">border-radius</span>:<span class="hljs-value"> <span class="hljs-number">8px</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">max-width</span>:<span class="hljs-value"> <span class="hljs-number">500px</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">90%</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">max-height</span>:<span class="hljs-value"> <span class="hljs-number">80vh</span></span></span>; <span class="hljs-comment">/* Limit height */</span>
    <span class="hljs-rule"><span class="hljs-attribute">overflow-y</span>:<span class="hljs-value"> auto</span></span>; <span class="hljs-comment">/* Add scroll if content overflows */</span>
    <span class="hljs-rule"><span class="hljs-attribute">position</span>:<span class="hljs-value"> relative</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">display</span>:<span class="hljs-value"> flex</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">flex-direction</span>:<span class="hljs-value"> column</span></span>;
}</span>

<span class="hljs-class">.modal-close</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">position</span>:<span class="hljs-value"> absolute</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">top</span>:<span class="hljs-value"> <span class="hljs-number">10px</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">right</span>:<span class="hljs-value"> <span class="hljs-number">10px</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">background</span>:<span class="hljs-value"> none</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> none</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> <span class="hljs-number">1.5rem</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">cursor</span>:<span class="hljs-value"> pointer</span></span>;
}</span>

<span class="hljs-class">.modal-content</span> <span class="hljs-tag">h3</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">margin-top</span>:<span class="hljs-value"> <span class="hljs-number">0</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">margin-bottom</span>:<span class="hljs-value"> <span class="hljs-number">20px</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">text-align</span>:<span class="hljs-value"> center</span></span>;
}</span>

<span class="hljs-class">.comments-list</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">flex-grow</span>:<span class="hljs-value"> <span class="hljs-number">1</span></span></span>; <span class="hljs-comment">/* Allow comment list to take available space */</span>
    <span class="hljs-rule"><span class="hljs-attribute">margin-bottom</span>:<span class="hljs-value"> <span class="hljs-number">20px</span></span></span>; <span class="hljs-comment">/* Space between comments and form */</span>
}</span>

<span class="hljs-class">.comment-item</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">margin-bottom</span>:<span class="hljs-value"> <span class="hljs-number">10px</span></span></span>;
     <span class="hljs-rule"><span class="hljs-attribute">line-height</span>:<span class="hljs-value"> <span class="hljs-number">1.4</span></span></span>;
}</span>

<span class="hljs-class">.comment-item</span> <span class="hljs-class">.comment-author</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">font-weight</span>:<span class="hljs-value"> bold</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">margin-right</span>:<span class="hljs-value"> <span class="hljs-number">5px</span></span></span>;
}</span>

<span class="hljs-class">.comment-item</span> <span class="hljs-class">.comment-timestamp</span> <span class="hljs-rules">{
     <span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> <span class="hljs-number">0.7rem</span></span></span>;
     <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#8e8e8e</span></span></span>;
     <span class="hljs-rule"><span class="hljs-attribute">margin-left</span>:<span class="hljs-value"> <span class="hljs-number">10px</span></span></span>;
}</span>


<span class="hljs-class">.add-comment-form</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">display</span>:<span class="hljs-value"> flex</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">gap</span>:<span class="hljs-value"> <span class="hljs-number">10px</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">border-top</span>:<span class="hljs-value"> <span class="hljs-number">1px</span> solid <span class="hljs-hexcolor">#dbdbdb</span></span></span>; <span class="hljs-comment">/* Separator */</span>
    <span class="hljs-rule"><span class="hljs-attribute">padding-top</span>:<span class="hljs-value"> <span class="hljs-number">15px</span></span></span>;
}</span>

<span class="hljs-class">.add-comment-form</span> <span class="hljs-tag">input</span><span class="hljs-attr_selector">[type="text"]</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">flex-grow</span>:<span class="hljs-value"> <span class="hljs-number">1</span></span></span>; <span class="hljs-comment">/* Input takes most space */</span>
    <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">8px</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> <span class="hljs-number">1px</span> solid <span class="hljs-hexcolor">#dbdbdb</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">border-radius</span>:<span class="hljs-value"> <span class="hljs-number">3px</span></span></span>;
     <span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> <span class="hljs-number">0.9rem</span></span></span>;
}</span>

<span class="hljs-class">.add-comment-form</span> <span class="hljs-tag">button</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#0095f6</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> white</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> none</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">border-radius</span>:<span class="hljs-value"> <span class="hljs-number">4px</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">8px</span> <span class="hljs-number">15px</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">cursor</span>:<span class="hljs-value"> pointer</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">font-weight</span>:<span class="hljs-value"> bold</span></span>;
}</span>

<span class="hljs-class">.comment-auth-prompt</span> <span class="hljs-rules">{
     <span class="hljs-rule"><span class="hljs-attribute">text-align</span>:<span class="hljs-value"> center</span></span>;
     <span class="hljs-rule"><span class="hljs-attribute">margin-top</span>:<span class="hljs-value"> <span class="hljs-number">15px</span></span></span>;
     <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#8e8e8e</span></span></span>;
     <span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> <span class="hljs-number">0.9rem</span></span></span>;
}</span>

<span class="hljs-comment">/* Reuse .error-message style from AuthForm.css */</span>
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2778" data-line-end="2865">
<p class="has-line-data" data-line-start="2778" data-line-end="2779"><strong>Integrate CommentsModal into App or PostFeed:</strong></p>
<ul>
<li class="has-line-data" data-line-start="2779" data-line-end="2780">Modify <code>src/App.jsx</code> or <code>src/components/PostFeed.jsx</code>. A common pattern is to manage a state variable (<code>selectedPostIdForComments</code>) that holds the ID of the post whose comments should be shown in the modal.</li>
<li class="has-line-data" data-line-start="2780" data-line-end="2781">Let’s add it to <code>App.jsx</code> as a top-level modal.</li>
<li class="has-line-data" data-line-start="2781" data-line-end="2863">Modify <code>src/App.jsx</code>:<pre><code class="has-line-data" data-line-start="2783" data-line-end="2863" class="language-jsx">// ... imports ...
import PostFeed from './components/PostFeed';
import CommentsModal from './components/CommentsModal'; // Import CommentsModal
import './components/PostFeed.css';
import './components/CreatePostForm.css';
import './components/CommentsModal.css'; // Import CommentsModal styles


function App() {
  const { isAuthenticated, user, loading: authLoading, logout } = useAuth();
  const [showSignUp, setShowSignUp] = useState(false);
  const [selectedPostIdForComments, setSelectedPostIdForComments] = useState(null); // State to manage modal visibility

  if (authLoading) {
      return &lt;div className=&quot;loading-screen&quot;&gt;Loading...&lt;/div&gt;;
  }

  // Function to open comments modal for a specific post
  const handleViewComments = (postId) =&gt; {
      setSelectedPostIdForComments(postId);
  };

  // Function to close comments modal
  const handleCloseComments = () =&gt; {
      setSelectedPostIdForComments(null);
  };

  // Function to update PostFeed's comment count state when a new comment is added
  // This will be passed down to CommentsModal and then back up
  const handleCommentAdded = (postId, newCommentsCount) =&gt; {
     // Find the post in the current feed state and update its commentsCount
     setPosts(currentPosts =&gt;
         currentPosts.map(post =&gt;
             post.id === postId ? { ...post, commentsCount: newCommentsCount } : post
         )
     );
     // Keep the modal open
  };


  return (
    &lt;div className=&quot;app-container&quot;&gt;
      &lt;Header user={user} onLogout={logout} /&gt;
      &lt;main className=&quot;app-main container&quot;&gt;
        {isAuthenticated ? (
          // Pass handleViewComments down to PostFeed
          // Need to add a way for handleCommentAdded to reach PostFeed's state
           &lt;PostFeed onViewComments={handleViewComments} onCommentAdded={handleCommentAdded} /&gt;
        ) : (
           // ... auth forms ...
           &lt;div className=&quot;auth-page-content&quot;&gt;
            {showSignUp ? (
              &lt;AuthForm type=&quot;signup&quot; /&gt;
            ) : (
              &lt;AuthForm type=&quot;login&quot; /&gt;
            )}
            &lt;div className=&quot;auth-switch&quot;&gt;
                {showSignUp ? (
                    &lt;p&gt;Have an account? &lt;button className=&quot;switch-button&quot; onClick={() =&gt; setShowSignUp(false)}&gt;Log In&lt;/button&gt;&lt;/p&gt;
                ) : (
                    &lt;p&gt;Don't have an account? &lt;button className=&quot;switch-button&quot; onClick={() =&gt; setShowSignUp(true)}&gt;Sign Up&lt;/button&gt;&lt;/p&gt;
                )}
            &lt;/div&gt;
          &lt;/div&gt;
        )}
      &lt;/main&gt;
      &lt;Footer /&gt;

      {/* Render the Comments Modal */}
      &lt;CommentsModal
         postId={selectedPostIdForComments} // Pass the ID of the post whose comments to show
         onClose={handleCloseComments} // Pass the function to close the modal
         onCommentAdded={handleCommentAdded} // Pass function to update feed count
      /&gt;
    &lt;/div&gt;
  );
}

export default App;
</code></pre>
</li>
<li class="has-line-data" data-line-start="2863" data-line-end="2865"><strong>Important:</strong> Modify <code>PostFeed</code> to accept and pass down <code>onViewComments</code> and <code>onCommentAdded</code> props to <code>PostItem</code> and <code>CreatePostForm</code> respectively.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2865" data-line-end="2873">
<p class="has-line-data" data-line-start="2865" data-line-end="2866"><strong>Test Comments:</strong></p>
<ul>
<li class="has-line-data" data-line-start="2866" data-line-end="2867">Run Flask backend.</li>
<li class="has-line-data" data-line-start="2867" data-line-end="2868">Run React frontend.</li>
<li class="has-line-data" data-line-start="2868" data-line-end="2869">Log in.</li>
<li class="has-line-data" data-line-start="2869" data-line-end="2870">Click the comment icon on a post. Verify the modal opens and fetches/displays comments (if any).</li>
<li class="has-line-data" data-line-start="2870" data-line-end="2871">Type a comment in the form and click “Post”. Verify the comment appears in the modal and the comment count on the post item updates.</li>
<li class="has-line-data" data-line-start="2871" data-line-end="2873">Close the modal.</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=2873 data-line-end=2874 ><a id="_Daily_Challenge_2873"></a>🧩 Daily Challenge</h3>
<p class="has-line-data" data-line-start="2874" data-line-end="2875">Implement error handling and loading states within the <code>CommentsModal</code> when fetching comments and when adding a new comment.</p>
<h3 class="code-line" data-line-start=2876 data-line-end=2877 ><a id="_Troubleshooting_Tips_2876"></a>🔍 Troubleshooting Tips</h3>
<ul>
<li class="has-line-data" data-line-start="2877" data-line-end="2878"><strong>Modal not opening/closing?</strong> Check the state management (<code>selectedPostIdForComments</code>) in <code>App.jsx</code> and the <code>onClick</code> handlers in <code>PostItem</code> and <code>CommentsModal</code>.</li>
<li class="has-line-data" data-line-start="2878" data-line-end="2879"><strong>Comments not showing?</strong> Verify the backend <code>/posts/:id/comments</code> endpoint works with Postman. Check the frontend <code>useEffect</code> in <code>CommentsModal</code> and state update (<code>setComments</code>).</li>
<li class="has-line-data" data-line-start="2879" data-line-end="2881"><strong>New comment not appearing or not updating count?</strong> Check the backend <code>/posts/:id/comments</code> (POST) endpoint response (should include the new comment and updated count). Ensure the frontend is correctly adding the new comment to the <code>comments</code> state and calling <code>onCommentAdded</code>.</li>
</ul>
<h3 class="code-line" data-line-start=2881 data-line-end=2882 ><a id="_Stretch_Goal_2881"></a>✨ Stretch Goal</h3>
<p class="has-line-data" data-line-start="2882" data-line-end="2883">Implement the ability to delete comments (perhaps only comments posted by the current logged-in user) by adding a delete button to <code>CommentItem</code>, a backend DELETE endpoint, and corresponding frontend logic.</p>
<hr>
<h2 class="code-line" data-line-start=2886 data-line-end=2887 ><a id="Day_12_Frontend_Refinements__Navigation__2886"></a>Day 12: Frontend Refinements &amp; Navigation ✨</h2>
<h3 class="code-line" data-line-start=2888 data-line-end=2889 ><a id="_Objectives_2888"></a>🎯 Objectives</h3>
<ul>
<li class="has-line-data" data-line-start="2889" data-line-end="2890">Implement client-side routing using React Router</li>
<li class="has-line-data" data-line-start="2890" data-line-end="2891">Add navigation links/icons in the header</li>
<li class="has-line-data" data-line-start="2891" data-line-end="2893">Improve UI/UX for a more polished look</li>
</ul>
<h3 class="code-line" data-line-start=2893 data-line-end=2894 ><a id="_Knowledge_Refresher_React_Router_DOM_2893"></a>📚 Knowledge Refresher: React Router DOM</h3>
<blockquote>
<p class="has-line-data" data-line-start="2894" data-line-end="2895">React Router DOM provides declarative routing for React applications. Key components include <code>BrowserRouter</code> (or <code>HashRouter</code>), <code>Routes</code>, <code>Route</code>, and <code>Link</code> (or <code>NavLink</code>).</p>
</blockquote>
<h3 class="code-line" data-line-start=2896 data-line-end=2897 ><a id="_StepbyStep_Tasks_2896"></a>✅ Step-by-Step Tasks</h3>
<ol>
<li class="has-line-data" data-line-start="2897" data-line-end="2903">
<p class="has-line-data" data-line-start="2897" data-line-end="2898"><strong>Install React Router:</strong></p>
<ul>
<li class="has-line-data" data-line-start="2898" data-line-end="2903">Inside the <code>frontend</code> folder:<pre><code class="has-line-data" data-line-start="2900" data-line-end="2902" class="language-bash">npm install react-router-dom
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2903" data-line-end="3052">
<p class="has-line-data" data-line-start="2903" data-line-end="2904"><strong>Set up Routing in App.jsx:</strong></p>
<ul>
<li class="has-line-data" data-line-start="2904" data-line-end="3050">Modify <code>src/App.jsx</code> to use <code>BrowserRouter</code>, <code>Routes</code>, and <code>Route</code>. Define routes for <code>/</code>, <code>/login</code>, <code>/signup</code>, and potentially <code>/profile</code>.<pre><code class="has-line-data" data-line-start="2906" data-line-end="3050" class="language-jsx">import { useState } from 'react';
import { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom'; // Import router components
import Header from './components/Header';
import Footer from './components/Footer';
import AuthForm from './components/AuthForm';
import PostFeed from './components/PostFeed';
import CommentsModal from './components/CommentsModal';
import SimpleProfilePage from './components/SimpleProfilePage'; // We'll create this
import { AuthProvider, useAuth } from './context/AuthContext';
import './App.css';
import './components/Header.css';
import './components/Footer.css';
import './components/AuthForm.css';
import './components/PostFeed.css';
import './components/CreatePostForm.css';
import './components/CommentsModal.css';


function AppRoutes() {
   const { isAuthenticated, user, loading: authLoading } = useAuth();
   const [selectedPostIdForComments, setSelectedPostIdForComments] = useState(null);

   // Function to open comments modal for a specific post
   const handleViewComments = (postId) =&gt; {
       setSelectedPostIdForComments(postId);
   };

   // Function to close comments modal
   const handleCloseComments = () =&gt; {
       setSelectedPostIdForComments(null);
   };

   // This function needs to update the state in PostFeed - prop drilling or context needed
   // For simplicity *in this plan*, let's manage posts state in App.js or a shared context
   // Let's refactor App to hold posts state and pass it down
   const [posts, setPosts] = useState([]); // Move posts state up here

   // Function to fetch posts (now in AppRoutes)
    const fetchPosts = async () =&gt; {
       // ... (same fetch logic as in PostFeed before) ...
         try {
            const response = await fetch(`${API_URL}/posts`);
            if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);
            const data = await response.json();
            setPosts(data); // Update state in AppRoutes
         } catch (err) {
             console.error(&quot;Failed to fetch posts:&quot;, err);
             // Handle error state if needed at App level
         }
    };

   useEffect(() =&gt; {
       // Fetch posts when component mounts or auth state changes?
       // Let's fetch on mount for the feed
       fetchPosts();
   }, []); // Fetch only once on mount


   // Function to handle new post created (passed to CreatePostForm)
   const handlePostCreated = (newPost) =&gt; {
      setPosts([newPost, ...posts]); // Add new post to the top
   };

   // Function to update post likes/comments counts after action
   const handlePostUpdate = (updatedPostId, updates) =&gt; {
      setPosts(currentPosts =&gt;
         currentPosts.map(post =&gt;
            post.id === updatedPostId ? { ...post, ...updates } : post
         )
      );
   };


   if (authLoading) {
       return &lt;div className=&quot;loading-screen&quot;&gt;Loading app...&lt;/div&gt;;
   }

   return (
       &lt;div className=&quot;app-container&quot;&gt;
           &lt;Header /&gt; {/* Header doesn't need user/logout props anymore if using context directly */}
           &lt;main className=&quot;app-main container&quot;&gt;
               &lt;Routes&gt;
                   {/* Redirect /login and /signup to home if authenticated */}
                   &lt;Route path=&quot;/login&quot; element={isAuthenticated ? &lt;Navigate to=&quot;/&quot; /&gt; : &lt;AuthForm type=&quot;login&quot; /&gt;} /&gt;
                   &lt;Route path=&quot;/signup&quot; element={isAuthenticated ? &lt;Navigate to=&quot;/&quot; /&gt; : &lt;AuthForm type=&quot;signup&quot; /&gt;} /&gt;

                   {/* Protected Route: Home/Feed */}
                   &lt;Route
                       path=&quot;/&quot;
                       element={
                           isAuthenticated ? (
                               &lt;PostFeed
                                   posts={posts} // Pass posts from App state
                                   onPostCreated={handlePostCreated} // Pass handlers down
                                   onViewComments={handleViewComments}
                                   onPostUpdate={handlePostUpdate} // Pass handler for likes/comments count updates
                               /&gt;
                           ) : (
                               &lt;Navigate to=&quot;/login&quot; replace /&gt; // Redirect to login if not authenticated
                           )
                       }
                   /&gt;

                   {/* Protected Route: Simple Profile */}
                   &lt;Route
                       path=&quot;/profile/:username&quot; // Dynamic route for username
                       element={
                           isAuthenticated ? (
                               &lt;SimpleProfilePage currentUser={user} posts={posts.filter(p =&gt; p.authorUsername === user?.username)} /&gt; // Pass current user and their posts
                           ) : (
                               &lt;Navigate to=&quot;/login&quot; replace /&gt;
                           )
                       }
                   /&gt;

                    {/* Add a generic redirect for unmatched routes */}
                    &lt;Route path=&quot;*&quot; element={&lt;Navigate to=&quot;/&quot; /&gt;} /&gt;

               &lt;/Routes&gt;
           &lt;/main&gt;
           &lt;Footer /&gt;

           {/* Render Comments Modal outside of Routes so it can appear over any page */}
           &lt;CommentsModal
               postId={selectedPostIdForComments}
               onClose={handleCloseComments}
               onCommentAdded={handlePostUpdate} // Update feed count using the same handler
           /&gt;
       &lt;/div&gt;
   );
}

function App() {
    return (
        &lt;AuthProvider&gt;
           &lt;Router&gt; {/* Wrap your entire app content with Router */}
               &lt;AppRoutes /&gt;
           &lt;/Router&gt;
        &lt;/AuthProvider&gt;
    );
}

export default App;
</code></pre>
</li>
<li class="has-line-data" data-line-start="3050" data-line-end="3052"><strong>Note:</strong> Moving the <code>posts</code> state and related handlers (<code>fetchPosts</code>, <code>handlePostCreated</code>, <code>handlePostUpdate</code>) up to <code>AppRoutes</code> is a form of <em>lifting state</em>. This avoids prop drilling by using Context later, or simply centralizing state needed by multiple routes/components. This also requires modifying <code>PostFeed</code> to <em>receive</em> <code>posts</code> and handlers as props, instead of managing its own state and fetching.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="3052" data-line-end="3194">
<p class="has-line-data" data-line-start="3052" data-line-end="3053"><strong>Update Components to Use Props/Context for Data:</strong></p>
<ul>
<li class="has-line-data" data-line-start="3053" data-line-end="3054">Modify <code>PostFeed</code> to receive <code>posts</code>, <code>onPostCreated</code>, <code>onViewComments</code>, <code>onPostUpdate</code> as props and remove its internal state and <code>useEffect</code> for fetching.</li>
<li class="has-line-data" data-line-start="3054" data-line-end="3055">Modify <code>PostItem</code> to receive <code>onViewComments</code> and update logic to call <code>onPostUpdate</code> prop when like count changes.</li>
<li class="has-line-data" data-line-start="3055" data-line-end="3056">Modify <code>CommentsModal</code> to call <code>onCommentAdded</code> prop when a comment is added.</li>
<li class="has-line-data" data-line-start="3056" data-line-end="3192">Modify <code>Header</code> to use <code>useAuth</code> hook directly to get user and logout function.<pre><code class="has-line-data" data-line-start="3058" data-line-end="3192" class="language-jsx">// --- Modify src/components/PostFeed.jsx ---
// Remove useState for posts, loading, error
// Remove useEffect for fetching
// Accept props: { posts, onPostCreated, onViewComments, onPostUpdate }
// Update JSX to use `posts` prop
// Pass onViewComments and onPostUpdate to PostItem
// Pass onPostCreated to CreatePostForm
import CreatePostForm from './CreatePostForm'; // Assuming form is above feed
import PostItem from './PostItem';

function PostFeed({ posts, onPostCreated, onViewComments, onPostUpdate }) { // Accept props
   // Loading/error states could potentially live here or be passed as props too
   // For simplicity, assume loading/error handled by parent (AppRoutes)

   return (
     &lt;div className=&quot;post-feed&quot;&gt;
       &lt;CreatePostForm onPostCreated={onPostCreated} /&gt; {/* Pass prop */}

       {posts.length === 0 ? (
         &lt;div className=&quot;feed-message&quot;&gt;No posts yet. Be the first to share!&lt;/div&gt;
       ) : (
         posts.map(post =&gt; (
           &lt;PostItem
              key={post.id}
              post={post}
              onViewComments={onViewComments} // Pass prop
              onPostUpdate={onPostUpdate} // Pass prop for like count updates
            /&gt;
         ))
       )}
     &lt;/div&gt;
   );
}
export default PostFeed;


// --- Modify src/components/PostItem.jsx ---
// Update handleLikeToggle to call onPostUpdate prop after successful fetch
// Accept prop: { post, onViewComments, onPostUpdate }
function PostItem({ post, onViewComments, onPostUpdate }) {
    // ... existing state (isLiked, currentLikesCount) and handleLikeToggle ...

    const handleLikeToggle = async () =&gt; {
         // ... existing auth check and fetch logic ...

         if (!response.ok) {
             // ... handle error ...
         } else {
             // Success!
             const data = await response.json();
             setIsLiked(!isLiked);
             setCurrentLikesCount(data.likesCount);
             // Notify parent (PostFeed/AppRoutes) about the update
             onPostUpdate(post.id, { likesCount: data.likesCount }); // Call prop
             // ... local storage tracking ...
         }
         // ... finally block ...
     };

     // ... rest of component ...
}
export default PostItem;


// --- Modify src/components/CommentsModal.jsx ---
// Update handleAddComment to call onCommentAdded prop after successful fetch
// Accept prop: { postId, onClose, onCommentAdded }
function CommentsModal({ postId, onClose, onCommentAdded }) {
    // ... existing state and handleAddComment ...

    const handleAddComment = async (e) =&gt; {
        // ... existing validation and fetch logic ...

        if (!response.ok) {
            // ... handle error ...
        } else {
            // Success!
            const data = await response.json();
            setComments([...comments, data.comment]); // Add new comment locally
            setCommentContent(''); // Clear the form
            // Notify parent about the updated comment count
            if (onCommentAdded) {
               onCommentAdded(postId, { commentsCount: data.commentsCount }); // Call prop with post ID and new count
            }
        }
        // ... finally block ...
    };

    // ... rest of component ...
}
export default CommentsModal;


// --- Modify src/components/Header.jsx ---
// Use useAuth directly
import { useAuth } from '../context/AuthContext';
import { Link } from 'react-router-dom'; // Import Link for navigation
import './Header.css';

function Header() { // No props needed anymore
    const { user, isAuthenticated, logout } = useAuth(); // Get from context

    return (
      &lt;header className=&quot;app-header&quot;&gt;
        &lt;div className=&quot;container&quot;&gt;
          &lt;div className=&quot;header-left&quot;&gt;
             &lt;Link to=&quot;/&quot; className=&quot;site-title&quot;&gt;InstagramClone&lt;/Link&gt; {/* Use Link */}
          &lt;/div&gt;
          &lt;div className=&quot;header-right&quot;&gt;
             {isAuthenticated ? (
               &lt;div className=&quot;user-controls&quot;&gt;
                  {/* Navigation Icons */}
                   &lt;Link to=&quot;/&quot; className=&quot;nav-link&quot;&gt;🏠&lt;/Link&gt; {/* Home icon */}
                   {/* Add other nav icons here (e.g., create post, profile) */}
                   &lt;Link to={user ? `/profile/${user.username}` : '/'} className=&quot;nav-link&quot;&gt;👤&lt;/Link&gt; {/* Profile icon */}

                  {/* User menu / Logout */}
                  &lt;span&gt;Hello, {user?.username}!&lt;/span&gt; {/* Display username */}
                  &lt;button onClick={logout} className=&quot;logout-button&quot;&gt;Logout&lt;/button&gt;
               &lt;/div&gt;
             ) : (
                // Show login/signup links if not authenticated and not on those pages
                // Can check location.pathname if needed, but simple null for now
                null
             )}
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/header&gt;
    );
}

export default Header;

</code></pre>
</li>
<li class="has-line-data" data-line-start="3192" data-line-end="3194">Add basic styles for <code>.site-title</code> and <code>.nav-link</code> in <code>Header.css</code>.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="3194" data-line-end="3220">
<p class="has-line-data" data-line-start="3194" data-line-end="3195"><strong>Create a Simple Profile Page Component:</strong></p>
<ul>
<li class="has-line-data" data-line-start="3195" data-line-end="3218">Create <code>src/components/SimpleProfilePage.jsx</code>:<pre><code class="has-line-data" data-line-start="3197" data-line-end="3218" class="language-jsx">import './SimpleProfilePage.css'; // Create this CSS file
// Might need PostItem if you want to show posts grid

function SimpleProfilePage({ currentUser, posts }) { // Accept current user and their posts
    if (!currentUser) {
        return &lt;div&gt;Please log in to view profiles.&lt;/div&gt;; // Should be handled by routing
    }

    // For now, just display username and post count
    return (
        &lt;div className=&quot;profile-page-container&quot;&gt;
            &lt;h2&gt;{currentUser.username}'s Profile&lt;/h2&gt;
            &lt;p&gt;Total Posts: {posts.length}&lt;/p&gt;
            {/* Optional: Display a grid of their posts here using CSS Grid and PostItem */}
            {/* Example: &lt;div className=&quot;profile-posts-grid&quot;&gt; {posts.map(post =&gt; &lt;PostItem key={post.id} post={post} /&gt;)} &lt;/div&gt; */}
        &lt;/div&gt;
    );
}

export default SimpleProfilePage;
</code></pre>
</li>
<li class="has-line-data" data-line-start="3218" data-line-end="3220">Create <code>src/components/SimpleProfilePage.css</code> (basic styling).</li>
</ul>
</li>
<li class="has-line-data" data-line-start="3220" data-line-end="3228">
<p class="has-line-data" data-line-start="3220" data-line-end="3221"><strong>Improve Styling:</strong></p>
<ul>
<li class="has-line-data" data-line-start="3221" data-line-end="3222">Add more detailed CSS to make the layout and components look more like Instagram (fonts, colors, spacing, borders). Use browser dev tools to inspect Instagram’s styles for inspiration.</li>
<li class="has-line-data" data-line-start="3222" data-line-end="3228">Focus on:
<ul>
<li class="has-line-data" data-line-start="3223" data-line-end="3224">Header layout and styling.</li>
<li class="has-line-data" data-line-start="3224" data-line-end="3225">Post feed spacing and alignment.</li>
<li class="has-line-data" data-line-start="3225" data-line-end="3226">Post item details.</li>
<li class="has-line-data" data-line-start="3226" data-line-end="3228">Auth form look and feel.</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=3228 data-line-end=3229 ><a id="_Daily_Challenge_3228"></a>🧩 Daily Challenge</h3>
<p class="has-line-data" data-line-start="3229" data-line-end="3230">Implement a simple CSS Grid layout for the posts in the <code>SimpleProfilePage</code> component (if you added the post grid) or in the <code>PostFeed</code> component (as an alternative view), showing only the images.</p>
<h3 class="code-line" data-line-start=3231 data-line-end=3232 ><a id="_Troubleshooting_Tips_3231"></a>🔍 Troubleshooting Tips</h3>
<ul>
<li class="has-line-data" data-line-start="3232" data-line-end="3233"><strong>Page not rendering after adding Router?</strong> Ensure <code>BrowserRouter</code> wraps the root component and <code>Routes</code> and <code>Route</code> are used correctly.</li>
<li class="has-line-data" data-line-start="3233" data-line-end="3234"><strong>Protected routes not redirecting?</strong> Verify <code>isAuthenticated</code> state from <code>useAuth</code> is correct and the <code>&lt;Navigate&gt;</code> component is configured with <code>replace</code>.</li>
<li class="has-line-data" data-line-start="3234" data-line-end="3236"><strong>Prop drilling becoming complex?</strong> Consider using React Context or a state management library (like Zustand or Redux Toolkit for larger apps) to manage global state like the posts list.</li>
</ul>
<h3 class="code-line" data-line-start=3236 data-line-end=3237 ><a id="_Stretch_Goal_3236"></a>✨ Stretch Goal</h3>
<p class="has-line-data" data-line-start="3237" data-line-end="3238">Implement a modal for creating new posts, opened by a button in the header, instead of having the form directly in the feed.</p>
<hr>
<h2 class="code-line" data-line-start=3241 data-line-end=3242 ><a id="Day_13_Testing__Debugging__3241"></a>Day 13: Testing &amp; Debugging 🐞</h2>
<h3 class="code-line" data-line-start=3243 data-line-end=3244 ><a id="_Objectives_3243"></a>🎯 Objectives</h3>
<ul>
<li class="has-line-data" data-line-start="3244" data-line-end="3245">Write unit tests for front-end components</li>
<li class="has-line-data" data-line-start="3245" data-line-end="3246">Create tests for back-end API endpoints</li>
<li class="has-line-data" data-line-start="3246" data-line-end="3248">Practice debugging techniques with VSCode debugger</li>
</ul>
<h3 class="code-line" data-line-start=3248 data-line-end=3249 ><a id="_Knowledge_Refresher_Mocking_in_Testing_3248"></a>📚 Knowledge Refresher: Mocking in Testing</h3>
<blockquote>
<p class="has-line-data" data-line-start="3249" data-line-end="3250">When testing components or functions that depend on external resources (like API calls), you use <em>mocking</em> to replace the real dependency with a controlled version. This allows you to test your code in isolation without making actual network requests or touching the database.</p>
</blockquote>
<h3 class="code-line" data-line-start=3251 data-line-end=3252 ><a id="_StepbyStep_Tasks_3251"></a>✅ Step-by-Step Tasks</h3>
<ol>
<li class="has-line-data" data-line-start="3252" data-line-end="3326">
<p class="has-line-data" data-line-start="3252" data-line-end="3253"><strong>Set Up Testing for React (if not done previously):</strong></p>
<ul>
<li class="has-line-data" data-line-start="3253" data-line-end="3257">Inside <code>frontend/</code>:<pre><code class="has-line-data" data-line-start="3255" data-line-end="3257" class="language-bash">npm install -D vitest jsdom @testing-library/react @testing-library/jest-dom
</code></pre>
</li>
<li class="has-line-data" data-line-start="3257" data-line-end="3271">Update <code>frontend/vite.config.js</code>:<pre><code class="has-line-data" data-line-start="3259" data-line-end="3271" class="language-javascript"><span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>;
<span class="hljs-keyword">import</span> react <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-react'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> defineConfig({
  plugins: [react()],
  test: {
    environment: <span class="hljs-string">'jsdom'</span>,
    globals: <span class="hljs-literal">true</span>, <span class="hljs-comment">// Makes `describe`, `it`, `expect` available globally</span>
    setupFiles: <span class="hljs-string">'./src/setupTests.js'</span>, <span class="hljs-comment">// Path to setup file</span>
  },
});
</code></pre>
</li>
<li class="has-line-data" data-line-start="3271" data-line-end="3316">Create <code>frontend/src/setupTests.js</code>:<pre><code class="has-line-data" data-line-start="3273" data-line-end="3316" class="language-javascript"><span class="hljs-keyword">import</span> { expect, afterEach, vi } <span class="hljs-keyword">from</span> <span class="hljs-string">'vitest'</span>;
<span class="hljs-keyword">import</span> { cleanup } <span class="hljs-keyword">from</span> <span class="hljs-string">'@testing-library/react'</span>;
<span class="hljs-keyword">import</span> matchers <span class="hljs-keyword">from</span> <span class="hljs-string">'@testing-library/jest-dom/matchers'</span>;

<span class="hljs-comment">// Extend Vitest's expect with jest-dom matchers</span>
expect.extend(matchers);

<span class="hljs-comment">// Clean up after each test</span>
afterEach(() =&gt; {
  cleanup();
  vi.clearAllMocks(); <span class="hljs-comment">// Clear any mocks created with vi.fn()</span>
  <span class="hljs-comment">// Restore original fetch functionality if you mocked it globally</span>
  <span class="hljs-keyword">if</span> (global.fetch.mockRestore) {
       global.fetch.mockRestore();
  }
});

<span class="hljs-comment">// Mock localStorage - useful if your components interact with it</span>
<span class="hljs-keyword">const</span> localStorageMock = (() =&gt; {
    <span class="hljs-keyword">let</span> store = {};
    <span class="hljs-keyword">return</span> {
        getItem: vi.fn(key =&gt; store[key] || <span class="hljs-literal">null</span>),
        setItem: vi.fn((key, value) =&gt; { store[key] = value; }),
        removeItem: vi.fn(key =&gt; { <span class="hljs-keyword">delete</span> store[key]; }),
        clear: vi.fn(() =&gt; { store = {}; })
    };
})();
<span class="hljs-built_in">Object</span>.defineProperty(<span class="hljs-built_in">window</span>, <span class="hljs-string">'localStorage'</span>, {
    value: localStorageMock
});

<span class="hljs-comment">// Mock the IntersectionObserver API often used by libraries</span>
 <span class="hljs-keyword">const</span> mockIntersectionObserver = vi.fn();
 mockIntersectionObserver.mockReturnValue({
   observe: () =&gt; <span class="hljs-literal">null</span>,
   unobserve: () =&gt; <span class="hljs-literal">null</span>,
   disconnect: () =&gt; <span class="hljs-literal">null</span>
 });
 <span class="hljs-built_in">Object</span>.defineProperty(<span class="hljs-built_in">window</span>, <span class="hljs-string">'IntersectionObserver'</span>, {
   writable: <span class="hljs-literal">true</span>,
   value: mockIntersectionObserver,
 });
</code></pre>
</li>
<li class="has-line-data" data-line-start="3316" data-line-end="3326">Add test script to <code>frontend/package.json</code>:<pre><code class="has-line-data" data-line-start="3318" data-line-end="3325" class="language-json">"scripts": {
  "dev": "vite",
  "build": "vite build",
  "preview": "vite preview",
  "test": "vitest --watch" // --watch runs tests on file changes
}
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="3326" data-line-end="3472">
<p class="has-line-data" data-line-start="3326" data-line-end="3327"><strong>Write React Component Tests:</strong></p>
<ul>
<li class="has-line-data" data-line-start="3327" data-line-end="3470">Create a test file for a component, e.g., <code>frontend/src/components/AuthForm.test.jsx</code>. Use <code>@testing-library/react</code> for rendering and user interaction simulation. Mock fetch or AuthContext as needed.<pre><code class="has-line-data" data-line-start="3329" data-line-end="3470" class="language-jsx">import { render, screen, fireEvent, waitFor } from '@testing-library/react';
import { describe, it, expect, vi } from 'vitest';
import AuthForm from './AuthForm';
// Mock the useAuth hook for testing AuthForm in isolation
import { useAuth } from '../context/AuthContext';

// Mock the useAuth hook
vi.mock('../context/AuthContext', () =&gt; ({
    useAuth: vi.fn(() =&gt; ({
        user: null, // Simulate not authenticated initially
        isAuthenticated: false,
        loading: false,
        login: vi.fn(), // Mock the login function
        logout: vi.fn(),
    })),
}));

describe('AuthForm Component', () =&gt; {
  it('renders login form correctly', () =&gt; {
    render(&lt;AuthForm type=&quot;login&quot; /&gt;);

    expect(screen.getByPlaceholderText('Username')).toBeInTheDocument();
    expect(screen.getByPlaceholderText('Password')).toBeInTheDocument();
    expect(screen.getByRole('button', { name: /log in/i })).toBeInTheDocument();
    expect(screen.queryByRole('button', { name: /sign up/i })).not.toBeInTheDocument(); // Check signup button is NOT there
  });

   it('renders signup form correctly', () =&gt; {
    render(&lt;AuthForm type=&quot;signup&quot; /&gt;);

    expect(screen.getByRole('button', { name: /sign up/i })).toBeInTheDocument();
     expect(screen.queryByRole('button', { name: /log in/i })).not.toBeInTheDocument(); // Check login button is NOT there
  });


  it('shows error message for empty fields on submit', async () =&gt; {
    render(&lt;AuthForm type=&quot;login&quot; /&gt;);

    fireEvent.click(screen.getByRole('button', { name: /log in/i }));

    await waitFor(() =&gt; {
       expect(screen.getByText('Please enter both username and password')).toBeInTheDocument();
    });
  });

  it('calls fetch and login on successful login submit', async () =&gt; {
    const mockLogin = vi.fn();
    useAuth.mockReturnValue({ // Override mock return value for this test
         user: null, isAuthenticated: false, loading: false,
         login: mockLogin, logout: vi.fn()
     });

    // Mock the global fetch function
    global.fetch = vi.fn(() =&gt;
      Promise.resolve({
        ok: true,
        json: () =&gt; Promise.resolve({ message: 'Login successful', username: 'testuser', token: 'fake-token' }),
      })
    );

    render(&lt;AuthForm type=&quot;login&quot; /&gt;);

    fireEvent.change(screen.getByPlaceholderText('Username'), { target: { value: 'testuser' } });
    fireEvent.change(screen.getByPlaceholderText('Password'), { target: { value: 'password123' } });
    fireEvent.click(screen.getByRole('button', { name: /log in/i }));

    // Wait for the async fetch and state updates
    await waitFor(() =&gt; {
        expect(global.fetch).toHaveBeenCalledWith(
            'http://localhost:5000/login', // Check API URL
            expect.objectContaining({ // Check request options
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ username: 'testuser', password: 'password123' }),
            })
        );
         expect(mockLogin).toHaveBeenCalledWith({ username: 'testuser', token: 'fake-token' }); // Check if login context function was called
    });

    expect(screen.queryByText('Please enter both username and password')).not.toBeInTheDocument(); // Ensure validation error is gone
  });

  // Add tests for signup similarly
   it('calls fetch and login on successful signup submit', async () =&gt; {
    const mockLogin = vi.fn();
    useAuth.mockReturnValue({
         user: null, isAuthenticated: false, loading: false,
         login: mockLogin, logout: vi.fn()
     });

     global.fetch = vi.fn(() =&gt;
       Promise.resolve({
         ok: true,
         json: () =&gt; Promise.resolve({ message: 'User created successfully', username: 'newuser', token: 'fake-new-token' }),
       })
     );

     render(&lt;AuthForm type=&quot;signup&quot; /&gt;);

     fireEvent.change(screen.getByPlaceholderText('Username'), { target: { value: 'newuser' } });
     fireEvent.change(screen.getByPlaceholderText('Password'), { target: { value: 'newpassword123' } });
     fireEvent.click(screen.getByRole('button', { name: /sign up/i }));

     await waitFor(() =&gt; {
         expect(global.fetch).toHaveBeenCalledWith(
             'http://localhost:5000/signup',
             expect.objectContaining({
                 method: 'POST',
                 headers: { 'Content-Type': 'application/json' },
                 body: JSON.stringify({ username: 'newuser', password: 'newpassword123' }),
             })
         );
          expect(mockLogin).toHaveBeenCalledWith({ username: 'newuser', token: 'fake-new-token' });
     });
   });

  // Add tests for API error handling
   it('shows error message on API login failure', async () =&gt; {
     global.fetch = vi.fn(() =&gt;
       Promise.resolve({
         ok: false, // Simulate API error
         status: 401,
         json: () =&gt; Promise.resolve({ message: 'Invalid credentials' }),
       })
     );

     render(&lt;AuthForm type=&quot;login&quot; /&gt;);

     fireEvent.change(screen.getByPlaceholderText('Username'), { target: { value: 'wronguser' } });
     fireEvent.change(screen.getByPlaceholderText('Password'), { target: { value: 'wrongpassword' } });
     fireEvent.click(screen.getByRole('button', { name: /log in/i }));

     await waitFor(() =&gt; {
         expect(screen.getByText('Invalid credentials')).toBeInTheDocument(); // Show error message from API
     });
      // Ensure login was NOT called
     expect(useAuth().login).not.toHaveBeenCalled();
   });

});
</code></pre>
</li>
<li class="has-line-data" data-line-start="3470" data-line-end="3472">Run tests from the <code>frontend/</code> directory: <code>npm test</code></li>
</ul>
</li>
<li class="has-line-data" data-line-start="3472" data-line-end="3638">
<p class="has-line-data" data-line-start="3472" data-line-end="3473"><strong>Set Up Testing for Flask:</strong></p>
<ul>
<li class="has-line-data" data-line-start="3473" data-line-end="3636">Create <code>backend/test_app.py</code>:<pre><code class="has-line-data" data-line-start="3475" data-line-end="3636" class="language-python"><span class="hljs-keyword">import</span> unittest
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> tempfile
<span class="hljs-keyword">import</span> sqlite3
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime, timedelta <span class="hljs-comment"># Needed for JWT testing</span>
<span class="hljs-keyword">import</span> jwt
<span class="hljs-keyword">from</span> werkzeug.security <span class="hljs-keyword">import</span> generate_password_hash <span class="hljs-comment"># Only needed for creating a user directly in test setup</span>

<span class="hljs-comment"># Import the app and db initialization functions from your main app file</span>
<span class="hljs-comment"># Adjust import path as necessary</span>
<span class="hljs-keyword">from</span> app <span class="hljs-keyword">import</span> app, init_db, get_db, DATABASE <span class="hljs-comment"># Assuming you have these in app.py</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FlaskTestCase</span><span class="hljs-params">(unittest.TestCase)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">setUp</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-comment"># Use an in-memory database for testing</span>
        app.config[<span class="hljs-string">'DATABASE'</span>] = <span class="hljs-string">':memory:'</span> <span class="hljs-comment"># Use in-memory SQLite</span>
        app.config[<span class="hljs-string">'TESTING'</span>] = <span class="hljs-keyword">True</span>
        app.config[<span class="hljs-string">'SECRET_KEY'</span>] = <span class="hljs-string">'test-secret-key'</span> <span class="hljs-comment"># Use a test secret key</span>
        self.client = app.test_client()

        <span class="hljs-comment"># Initialize the database schema (in-memory)</span>
        <span class="hljs-keyword">with</span> app.app_context():
            init_db() <span class="hljs-comment"># Use your existing init_db which reads schema.sql</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">tearDown</span><span class="hljs-params">(self)</span>:</span>
         <span class="hljs-comment"># Clean up the in-memory database (optional for :memory:)</span>
         <span class="hljs-keyword">pass</span> <span class="hljs-comment"># With ':memory:', the db is reset for each test</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create_test_user</span><span class="hljs-params">(self, username=<span class="hljs-string">"testuser"</span>, password=<span class="hljs-string">"testpassword"</span>)</span>:</span>
        <span class="hljs-string">"""Helper function to create a user directly in the test DB."""</span>
        db = get_db()
        hashed_password = generate_password_hash(password)
        db.execute(<span class="hljs-string">"INSERT INTO users (username, password) VALUES (?, ?)"</span>,
                   (username, hashed_password))
        db.commit()
         <span class="hljs-comment"># Fetch the created user to return ID and username</span>
        user = db.execute(<span class="hljs-string">"SELECT id, username FROM users WHERE username = ?"</span>, (username,)).fetchone()
        <span class="hljs-keyword">return</span> dict(user) <span class="hljs-comment"># Return as dictionary</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create_test_post</span><span class="hljs-params">(self, user_id, image_url=<span class="hljs-string">"http://example.com/image.jpg"</span>, caption=<span class="hljs-string">"Test caption"</span>)</span>:</span>
        <span class="hljs-string">"""Helper function to create a post."""</span>
        db = get_db()
        db.execute(<span class="hljs-string">"INSERT INTO posts (user_id, image_url, caption) VALUES (?, ?, ?)"</span>,
                   (user_id, image_url, caption))
        db.commit()
         <span class="hljs-comment"># Fetch the created post to return its ID</span>
        post = db.execute(<span class="hljs-string">"SELECT id FROM posts WHERE user_id = ? ORDER BY created_at DESC"</span>, (user_id,)).fetchone()
        <span class="hljs-keyword">return</span> dict(post)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_auth_token</span><span class="hljs-params">(self, username=<span class="hljs-string">"testuser"</span>, password=<span class="hljs-string">"testpassword"</span>)</span>:</span>
         <span class="hljs-string">"""Helper to get a JWT token for a user."""</span>
         <span class="hljs-comment"># Ensure user exists first</span>
         user = get_db().execute(<span class="hljs-string">"SELECT id, username FROM users WHERE username = ?"</span>, (username,)).fetchone()
         <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> user:
              user = self.create_test_user(username, password)

         token_payload = {
             <span class="hljs-string">'user_id'</span>: user[<span class="hljs-string">'id'</span>],
             <span class="hljs-string">'username'</span>: user[<span class="hljs-string">'username'</span>],
             <span class="hljs-string">'exp'</span>: datetime.utcnow() + timedelta(days=<span class="hljs-number">1</span>)
         }
         token = jwt.encode(token_payload, app.config[<span class="hljs-string">'SECRET_KEY'</span>], algorithm=<span class="hljs-string">'HS256'</span>)
         <span class="hljs-keyword">return</span> token


    <span class="hljs-comment"># --- Tests Start Here ---</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_signup_success</span><span class="hljs-params">(self)</span>:</span>
        response = self.client.post(<span class="hljs-string">'/signup'</span>, json={<span class="hljs-string">'username'</span>: <span class="hljs-string">'newuser'</span>, <span class="hljs-string">'password'</span>: <span class="hljs-string">'password123'</span>})
        self.assertEqual(response.status_code, <span class="hljs-number">201</span>)
        data = json.loads(response.data)
        self.assertEqual(data[<span class="hljs-string">'message'</span>], <span class="hljs-string">'User created successfully'</span>)
        self.assertIn(<span class="hljs-string">'token'</span>, data) <span class="hljs-comment"># Should return token</span>
        self.assertEqual(data[<span class="hljs-string">'username'</span>], <span class="hljs-string">'newuser'</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_signup_user_exists</span><span class="hljs-params">(self)</span>:</span>
        self.create_test_user(<span class="hljs-string">"existinguser"</span>) <span class="hljs-comment"># Create user first</span>
        response = self.client.post(<span class="hljs-string">'/signup'</span>, json={<span class="hljs-string">'username'</span>: <span class="hljs-string">'existinguser'</span>, <span class="hljs-string">'password'</span>: <span class="hljs-string">'password456'</span>})
        self.assertEqual(response.status_code, <span class="hljs-number">409</span>)
        data = json.loads(response.data)
        self.assertEqual(data[<span class="hljs-string">'message'</span>], <span class="hljs-string">'Username already exists'</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_login_success</span><span class="hljs-params">(self)</span>:</span>
        self.create_test_user(<span class="hljs-string">"loginuser"</span>, <span class="hljs-string">"correctpassword"</span>)
        response = self.client.post(<span class="hljs-string">'/login'</span>, json={<span class="hljs-string">'username'</span>: <span class="hljs-string">'loginuser'</span>, <span class="hljs-string">'password'</span>: <span class="hljs-string">'correctpassword'</span>})
        self.assertEqual(response.status_code, <span class="hljs-number">200</span>)
        data = json.loads(response.data)
        self.assertEqual(data[<span class="hljs-string">'message'</span>], <span class="hljs-string">'Login successful'</span>)
        self.assertIn(<span class="hljs-string">'token'</span>, data)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_login_invalid_credentials</span><span class="hljs-params">(self)</span>:</span>
        self.create_test_user(<span class="hljs-string">"user"</span>, <span class="hljs-string">"pass"</span>)
        response = self.client.post(<span class="hljs-string">'/login'</span>, json={<span class="hljs-string">'username'</span>: <span class="hljs-string">'user'</span>, <span class="hljs-string">'password'</span>: <span class="hljs-string">'wrongpassword'</span>})
        self.assertEqual(response.status_code, <span class="hljs-number">401</span>)
        data = json.loads(response.data)
        self.assertEqual(data[<span class="hljs-string">'message'</span>], <span class="hljs-string">'Invalid credentials'</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_get_posts_empty</span><span class="hljs-params">(self)</span>:</span>
        response = self.client.get(<span class="hljs-string">'/posts'</span>)
        self.assertEqual(response.status_code, <span class="hljs-number">200</span>)
        data = json.loads(response.data)
        self.assertIsInstance(data, list)
        self.assertEqual(len(data), <span class="hljs-number">0</span>) <span class="hljs-comment"># Should be empty initially</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_create_post_success</span><span class="hljs-params">(self)</span>:</span>
        user = self.create_test_user()
        token = self.get_auth_token(user[<span class="hljs-string">'username'</span>])
        response = self.client.post(<span class="hljs-string">'/posts'</span>,
            json={<span class="hljs-string">'imageUrl'</span>: <span class="hljs-string">'http://example.com/new.jpg'</span>, <span class="hljs-string">'caption'</span>: <span class="hljs-string">'My new post'</span>},
            headers={<span class="hljs-string">'Authorization'</span>: f<span class="hljs-string">'Bearer {token}'</span>}
        )
        self.assertEqual(response.status_code, <span class="hljs-number">201</span>)
        data = json.loads(response.data)
        self.assertEqual(data[<span class="hljs-string">'imageUrl'</span>], <span class="hljs-string">'http://example.com/new.jpg'</span>)
        self.assertEqual(data[<span class="hljs-string">'caption'</span>], <span class="hljs-string">'My new post'</span>)
        self.assertEqual(data[<span class="hljs-string">'authorUsername'</span>], user[<span class="hljs-string">'username'</span>]) <span class="hljs-comment"># Check author</span>
        self.assertIn(<span class="hljs-string">'id'</span>, data) <span class="hljs-comment"># Check if ID is returned</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_create_post_unauthenticated</span><span class="hljs-params">(self)</span>:</span>
         response = self.client.post(<span class="hljs-string">'/posts'</span>,
             json={<span class="hljs-string">'imageUrl'</span>: <span class="hljs-string">'http://example.com/new.jpg'</span>, <span class="hljs-string">'caption'</span>: <span class="hljs-string">'My new post'</span>}
             <span class="hljs-comment"># Missing Authorization header</span>
         )
         self.assertEqual(response.status_code, <span class="hljs-number">401</span>)
         data = json.loads(response.data)
         self.assertEqual(data[<span class="hljs-string">'message'</span>], <span class="hljs-string">'Token is missing!'</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_like_post_success</span><span class="hljs-params">(self)</span>:</span>
        user = self.create_test_user(<span class="hljs-string">"liker1"</span>)
        post_user = self.create_test_user(<span class="hljs-string">"poster"</span>)
        post = self.create_test_post(post_user[<span class="hljs-string">'id'</span>])
        token = self.get_auth_token(user[<span class="hljs-string">'username'</span>])

        response = self.client.post(f<span class="hljs-string">'/posts/{post["id"]}/like'</span>,
            headers={<span class="hljs-string">'Authorization'</span>: f<span class="hljs-string">'Bearer {token}'</span>}
        )
        self.assertEqual(response.status_code, <span class="hljs-number">200</span>)
        data = json.loads(response.data)
        self.assertEqual(data[<span class="hljs-string">'message'</span>], <span class="hljs-string">'Post liked successfully'</span>)
        self.assertEqual(data[<span class="hljs-string">'likesCount'</span>], <span class="hljs-number">1</span>)

        <span class="hljs-comment"># Check if like is in DB</span>
        db = get_db()
        like_entry = db.execute(<span class="hljs-string">"SELECT * FROM likes WHERE user_id = ? AND post_id = ?"</span>, (user[<span class="hljs-string">'id'</span>], post[<span class="hljs-string">'id'</span>])).fetchone()
        self.assertIsNotNone(like_entry)


    <span class="hljs-comment"># Add tests for:</span>
    <span class="hljs-comment"># - liking a non-existent post</span>
    <span class="hljs-comment"># - liking a post twice (should get 409)</span>
    <span class="hljs-comment"># - unliking a post</span>
    <span class="hljs-comment"># - unliking a non-existent post</span>
    <span class="hljs-comment"># - unliking a post you haven't liked</span>
    <span class="hljs-comment"># - adding a comment</span>
    <span class="hljs-comment"># - getting comments for a post</span>

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    unittest.main()
</code></pre>
</li>
<li class="has-line-data" data-line-start="3636" data-line-end="3638">Run tests from the <code>backend/</code> directory: <code>python test_app.py</code></li>
</ul>
</li>
<li class="has-line-data" data-line-start="3638" data-line-end="3644">
<p class="has-line-data" data-line-start="3638" data-line-end="3639"><strong>Debug Common Issues:</strong></p>
<ul>
<li class="has-line-data" data-line-start="3639" data-line-end="3640">Practice using VSCode’s debugger for both frontend and backend.</li>
<li class="has-line-data" data-line-start="3640" data-line-end="3641"><strong>Frontend:</strong> Set breakpoints in component logic (e.g., <code>handleSubmit</code>, <code>handleLikeToggle</code>), inspect state, props, and variable values. Use browser developer tools (Console, Network, Components tabs).</li>
<li class="has-line-data" data-line-start="3641" data-line-end="3642"><strong>Backend:</strong> Set breakpoints in Flask routes (<code>@app.route</code>). Use VSCode’s Python debugger (install Python extension, configure launch.json). Inspect request data, database results, variable values.</li>
<li class="has-line-data" data-line-start="3642" data-line-end="3644">Document debugging steps in a <code>DEBUGGING.md</code> file (similar to DevConnect example).</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=3644 data-line-end=3645 ><a id="_Daily_Challenge_3644"></a>🧩 Daily Challenge</h3>
<p class="has-line-data" data-line-start="3645" data-line-end="3646">Write a test for the <code>CommentsModal</code> component that mocks the fetch calls and verifies that comments are displayed correctly when the component receives comment data.</p>
<h3 class="code-line" data-line-start=3647 data-line-end=3648 ><a id="_Troubleshooting_Tips_3647"></a>🔍 Troubleshooting Tips</h3>
<ul>
<li class="has-line-data" data-line-start="3648" data-line-end="3649"><strong>React tests failing with <code>act</code> warning?</strong> Ensure you are wrapping state updates or actions that cause re-renders inside <code>async/await waitFor</code> or <code>act</code> (less common with modern testing library practices).</li>
<li class="has-line-data" data-line-start="3649" data-line-end="3650"><strong>Mocking fetch issues?</strong> Make sure you are mocking <code>global.fetch</code> <em>before</em> the component that calls fetch is rendered. Use <code>vi.fn()</code> to create mock functions.</li>
<li class="has-line-data" data-line-start="3650" data-line-end="3651"><strong>Flask tests not seeing DB changes?</strong> Ensure you are using <code>db.commit()</code> after INSERT/UPDATE/DELETE operations in your test helper functions and routes. Use <code>:memory:</code> database for isolation.</li>
<li class="has-line-data" data-line-start="3651" data-line-end="3653"><strong>Backend tests giving authentication errors?</strong> Make sure your test client requests for protected routes include the correct <code>Authorization: Bearer &lt;token&gt;</code> header.</li>
</ul>
<h3 class="code-line" data-line-start=3653 data-line-end=3654 ><a id="_Stretch_Goal_3653"></a>✨ Stretch Goal</h3>
<p class="has-line-data" data-line-start="3654" data-line-end="3655">Implement a simple logger in the backend that logs errors and requests to a file or console with timestamps.</p>
<hr>
<h2 class="code-line" data-line-start=3658 data-line-end=3659 ><a id="Day_14_Final_Polish_Documentation__Deployment__3658"></a>Day 14: Final Polish, Documentation &amp; Deployment 🚀</h2>
<h3 class="code-line" data-line-start=3660 data-line-end=3661 ><a id="_Objectives_3660"></a>🎯 Objectives</h3>
<ul>
<li class="has-line-data" data-line-start="3661" data-line-end="3662">Polish the application’s look and feel</li>
<li class="has-line-data" data-line-start="3662" data-line-end="3663">Update documentation (<code>README</code>, <code>API.md</code>, <code>USER_GUIDE</code>)</li>
<li class="has-line-data" data-line-start="3663" data-line-end="3665">Prepare for and deploy the frontend and backend</li>
</ul>
<h3 class="code-line" data-line-start=3665 data-line-end=3666 ><a id="_Knowledge_Refresher_Static_Site_Hosting__WSGI_Servers_3665"></a>📚 Knowledge Refresher: Static Site Hosting &amp; WSGI Servers</h3>
<blockquote>
<p class="has-line-data" data-line-start="3666" data-line-end="3667">Frontend builds (created with <code>npm run build</code>) result in static files (HTML, CSS, JS). These can be hosted cheaply on services like Netlify or Vercel. Flask applications are dynamic and need a server like Gunicorn or uWSGI to run in production, often hosted on platforms like Render or Heroku.</p>
</blockquote>
<h3 class="code-line" data-line-start=3668 data-line-end=3669 ><a id="_StepbyStep_Tasks_3668"></a>✅ Step-by-Step Tasks</h3>
<ol>
<li class="has-line-data" data-line-start="3669" data-line-end="3676">
<p class="has-line-data" data-line-start="3669" data-line-end="3670"><strong>Final Code Review and Styling Polish:</strong></p>
<ul>
<li class="has-line-data" data-line-start="3670" data-line-end="3671">Review your codebase using the checklist from DevConnect Day 14 (adapted for Instagram Clone features).</li>
<li class="has-line-data" data-line-start="3671" data-line-end="3672">Run linters (ESLint, flake8) and formatters (Prettier, black).</li>
<li class="has-line-data" data-line-start="3672" data-line-end="3673">Address UI inconsistencies, improve responsiveness, and add subtle visual touches.</li>
<li class="has-line-data" data-line-start="3673" data-line-end="3674">Ensure loading states and error messages are displayed correctly.</li>
<li class="has-line-data" data-line-start="3674" data-line-end="3676">Make sure tests pass.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="3676" data-line-end="3692">
<p class="has-line-data" data-line-start="3676" data-line-end="3677"><strong>Update Documentation:</strong></p>
<ul>
<li class="has-line-data" data-line-start="3677" data-line-end="3684">Update <code>README.md</code> in the root directory:
<ul>
<li class="has-line-data" data-line-start="3678" data-line-end="3679">Project Title: Instagram Clone</li>
<li class="has-line-data" data-line-start="3679" data-line-end="3680">Features: List auth, posts, likes, comments</li>
<li class="has-line-data" data-line-start="3680" data-line-end="3681">Tech Stack: React/Vite, Flask, SQLite, JWT, External Image URLs (clarify this limitation)</li>
<li class="has-line-data" data-line-start="3681" data-line-end="3682">Getting Started: Updated installation steps for both FE/BE.</li>
<li class="has-line-data" data-line-start="3682" data-line-end="3683">Project Structure: Update diagram/description for current files/folders.</li>
<li class="has-line-data" data-line-start="3683" data-line-end="3684">Add “Future Enhancements” section (actual image uploads, user profiles, following, search, etc.).</li>
</ul>
</li>
<li class="has-line-data" data-line-start="3684" data-line-end="3687">Create/Update <code>API.md</code>:
<ul>
<li class="has-line-data" data-line-start="3685" data-line-end="3686">Document <code>/signup</code>, <code>/login</code>, <code>/posts</code> (GET/POST), <code>/posts/:id/like</code>, <code>/posts/:id/unlike</code>, <code>/posts/:id/comments</code> (GET/POST).</li>
<li class="has-line-data" data-line-start="3686" data-line-end="3687">Include request methods, URLs, expected request bodies (JSON), and sample success/error responses. Note which endpoints require authentication (JWT).</li>
</ul>
</li>
<li class="has-line-data" data-line-start="3687" data-line-end="3692">Create/Update <code>USER_GUIDE.md</code>:
<ul>
<li class="has-line-data" data-line-start="3688" data-line-end="3689">Instructions on how to sign up, log in.</li>
<li class="has-line-data" data-line-start="3689" data-line-end="3690">How to create a post (including needing an external image URL).</li>
<li class="has-line-data" data-line-start="3690" data-line-end="3692">How to view the feed, like/unlike posts, and view/add comments.</li>
</ul>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="3692" data-line-end="3709">
<p class="has-line-data" data-line-start="3692" data-line-end="3693"><strong>Prepare for Deployment:</strong></p>
<ul>
<li class="has-line-data" data-line-start="3693" data-line-end="3699"><strong>Backend (Flask):</strong>
<ul>
<li class="has-line-data" data-line-start="3694" data-line-end="3695">Ensure <code>SECRET_KEY</code> is read from environment variables in <code>app.py</code> for production.</li>
<li class="has-line-data" data-line-start="3695" data-line-end="3696">Install a WSGI server: <code>pip install gunicorn</code></li>
<li class="has-line-data" data-line-start="3696" data-line-end="3697">Update <code>requirements.txt</code>: <code>pip freeze &gt; requirements.txt</code></li>
<li class="has-line-data" data-line-start="3697" data-line-end="3698">Create a <code>Procfile</code> in the <code>backend/</code> directory for hosting platforms like Render/Heroku: <code>web: gunicorn app:app</code></li>
<li class="has-line-data" data-line-start="3698" data-line-end="3699">Consider database persistence: SQLite works for small projects on some hosts (like PythonAnywhere or Render disks), but may be tricky with autoscaling/ephemeral filesystems. For a real app, you’d switch to PostgreSQL or MySQL. <em>Acknowledge this limitation.</em></li>
</ul>
</li>
<li class="has-line-data" data-line-start="3699" data-line-end="3709"><strong>Frontend (React/Vite):</strong>
<ul>
<li class="has-line-data" data-line-start="3700" data-line-end="3701">Create a production build: Run <code>npm run build</code> inside <code>frontend/</code>. This creates a <code>dist/</code> folder.</li>
<li class="has-line-data" data-line-start="3701" data-line-end="3702">Update <code>API_URL</code> in <code>frontend/src/constants.js</code> to point to your <em>deployed</em> backend URL based on the environment (e.g., <code>process.env.NODE_ENV</code>).</li>
</ul>
<pre><code class="has-line-data" data-line-start="3703" data-line-end="3707" class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> API_URL = process.env.NODE_ENV === <span class="hljs-string">'production'</span>
  ? <span class="hljs-string">'https://your-deployed-backend-url.render.com'</span> <span class="hljs-comment">// &lt;-- Replace with your actual deployed backend URL</span>
  : <span class="hljs-string">'http://localhost:5000'</span>;
</code></pre>
<ul>
<li class="has-line-data" data-line-start="3707" data-line-end="3709">You might need to configure environment variables for Vite (starts with <code>VITE_</code>) if your host doesn’t inject <code>NODE_ENV</code>. Read your hosting provider’s docs. Example for Netlify/Vercel: set a <code>VITE_API_URL</code> environment variable in their UI, then in <code>constants.js</code> use <code>import.meta.env.VITE_API_URL</code>.</li>
</ul>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="3709" data-line-end="3716">
<p class="has-line-data" data-line-start="3709" data-line-end="3710"><strong>Deploy the Backend:</strong></p>
<ul>
<li class="has-line-data" data-line-start="3710" data-line-end="3711">Choose a hosting option (Render, Heroku, PythonAnywhere).</li>
<li class="has-line-data" data-line-start="3711" data-line-end="3712">Connect your GitHub repository.</li>
<li class="has-line-data" data-line-start="3712" data-line-end="3713">Configure build and start commands (e.g., using the <code>Procfile</code>).</li>
<li class="has-line-data" data-line-start="3713" data-line-end="3714">Set environment variables (especially <code>SECRET_KEY</code>).</li>
<li class="has-line-data" data-line-start="3714" data-line-end="3716">Deploy.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="3716" data-line-end="3723">
<p class="has-line-data" data-line-start="3716" data-line-end="3717"><strong>Deploy the Frontend:</strong></p>
<ul>
<li class="has-line-data" data-line-start="3717" data-line-end="3718">Choose a hosting option (Netlify, Vercel, GitHub Pages).</li>
<li class="has-line-data" data-line-start="3718" data-line-end="3719">Connect your GitHub repository.</li>
<li class="has-line-data" data-line-start="3719" data-line-end="3720">Configure base directory (<code>frontend/</code>), build command (<code>npm run build</code>), and publish directory (<code>frontend/dist</code>).</li>
<li class="has-line-data" data-line-start="3720" data-line-end="3721">Set environment variables (e.g., <code>VITE_API_URL</code> if needed).</li>
<li class="has-line-data" data-line-start="3721" data-line-end="3723">Deploy.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="3723" data-line-end="3727">
<p class="has-line-data" data-line-start="3723" data-line-end="3724"><strong>Update Documentation with Deployment Information:</strong></p>
<ul>
<li class="has-line-data" data-line-start="3724" data-line-end="3725">Add “Live Demo” section to <code>README.md</code> with links to your deployed frontend and backend API.</li>
<li class="has-line-data" data-line-start="3725" data-line-end="3727">Create a <code>DEPLOYMENT.md</code> with specific steps you followed for your chosen platforms.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="3727" data-line-end="3738">
<p class="has-line-data" data-line-start="3727" data-line-end="3728"><strong>Final Project Portfolio Preparation:</strong></p>
<ul>
<li class="has-line-data" data-line-start="3728" data-line-end="3729">Take high-quality screenshots of the deployed application on different pages (Feed, Login, Comments Modal, simple Profile).</li>
<li class="has-line-data" data-line-start="3729" data-line-end="3730">Record a short demo video showcasing key features (signup, login, create post, like, comment).</li>
<li class="has-line-data" data-line-start="3730" data-line-end="3738">Update your personal portfolio website/GitHub profile README with:
<ul>
<li class="has-line-data" data-line-start="3731" data-line-end="3732">Project title and description.</li>
<li class="has-line-data" data-line-start="3732" data-line-end="3733">Technologies used (list them clearly).</li>
<li class="has-line-data" data-line-start="3733" data-line-end="3734">Key features implemented (auth, posts, likes, comments).</li>
<li class="has-line-data" data-line-start="3734" data-line-end="3735">Links to the live demo (FE and BE API) and the GitHub repository.</li>
<li class="has-line-data" data-line-start="3735" data-line-end="3736">Embed screenshots and/or the demo video.</li>
<li class="has-line-data" data-line-start="3736" data-line-end="3738">Highlight your contributions and technical skills demonstrated (referencing your <a href="http://RESUME.md">RESUME.md</a> draft from Day 10).</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=3738 data-line-end=3739 ><a id="_Daily_Challenge_3738"></a>🧩 Daily Challenge</h3>
<p class="has-line-data" data-line-start="3739" data-line-end="3740">Review the “Future Enhancements” you listed and prioritize the top 3 you’d like to work on next. Sketch out the basic steps or database changes required for the first one.</p>
<h3 class="code-line" data-line-start=3741 data-line-end=3742 ><a id="_Troubleshooting_Tips_3741"></a>🔍 Troubleshooting Tips</h3>
<ul>
<li class="has-line-data" data-line-start="3742" data-line-end="3743"><strong>Deployment build failing?</strong> Check the logs provided by your hosting service carefully. They usually pinpoint the exact command or step that failed.</li>
<li class="has-line-data" data-line-start="3743" data-line-end="3744"><strong>Frontend deployed but can’t connect to backend?</strong> Verify your frontend’s <code>API_URL</code> constant is correctly updated for the production environment to point to the <em>deployed</em> backend URL. Check CORS on the backend.</li>
<li class="has-line-data" data-line-start="3744" data-line-end="3746"><strong>Backend deployed but failing?</strong> Check backend logs on the hosting service. Common issues include missing environment variables (<code>SECRET_KEY</code>), database connection problems, or incorrect start commands (<code>Procfile</code>).</li>
</ul>
<h3 class="code-line" data-line-start=3746 data-line-end=3747 ><a id="_Stretch_Goal_3746"></a>✨ Stretch Goal</h3>
<p class="has-line-data" data-line-start="3747" data-line-end="3748">Set up basic monitoring or analytics on your deployed application (e.g., using free tiers of services like Sentry for error tracking or Google Analytics for usage).</p>
<hr>
<h2 class="code-line" data-line-start=3751 data-line-end=3752 ><a id="Conclusion_3751"></a>Conclusion</h2>
<p class="has-line-data" data-line-start="3753" data-line-end="3754">Congratulations! You’ve successfully built a simplified Instagram Clone, applying the structured learning approach from the DevConnect plan. You’ve navigated:</p>
<ul>
<li class="has-line-data" data-line-start="3755" data-line-end="3756">Full-stack development with modern tools (React/Vite, Flask)</li>
<li class="has-line-data" data-line-start="3756" data-line-end="3757">Designing and interacting with a database (SQLite)</li>
<li class="has-line-data" data-line-start="3757" data-line-end="3758">Implementing core social media features (posts, likes, comments)</li>
<li class="has-line-data" data-line-start="3758" data-line-end="3759">Building a secure authentication system (JWT)</li>
<li class="has-line-data" data-line-start="3759" data-line-end="3760">Styling a responsive and visually appealing interface</li>
<li class="has-line-data" data-line-start="3760" data-line-end="3761">Writing tests and debugging issues</li>
<li class="has-line-data" data-line-start="3761" data-line-end="3762">Documenting your work comprehensively</li>
<li class="has-line-data" data-line-start="3762" data-line-end="3763">Deploying your application to make it live</li>
<li class="has-line-data" data-line-start="3763" data-line-end="3765">Preparing your project for your portfolio and job search</li>
</ul>
<p class="has-line-data" data-line-start="3765" data-line-end="3766">This project is a significant achievement and a solid foundation. Remember the next steps outlined earlier: continue building, learning, networking, and refining your skills. Your Instagram Clone is a fantastic centerpiece for demonstrating your abilities to potential employers!</p>

</body></html>